{"version":3,"sources":["webpack:///../docs/charts-example.jsx","webpack:///../docs/advanced-examples.mdx","webpack:///../src/index.js","webpack:///../node_modules/react-charts/dist/index.js","webpack:///../node_modules/process/browser.js","webpack:///../node_modules/core-js/modules/es7.object.values.js","webpack:///../node_modules/core-js/modules/es6.date.to-iso-string.js","webpack:///../node_modules/core-js/modules/_date-to-iso-string.js","webpack:///../node_modules/core-js/modules/es6.math.log2.js","webpack:///../node_modules/core-js/modules/es6.math.log10.js","webpack:///../node_modules/@babel/runtime/helpers/slicedToArray.js","webpack:///../node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack:///../node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack:///../node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack:///../node_modules/core-js/modules/es6.number.is-nan.js","webpack:///../node_modules/core-js/modules/es6.string.anchor.js"],"names":["MyChart","coords","axes","React","useMemo","primary","type","position","style","width","height","start","end","value","onTick","ar","Math","random","toFixed","push","data","label","renderChart","_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","props","mdxType","parentName","isMDXComponent","ReactTimer","componentDidMount","this","interval","onEnd","timer","setInterval","currentValue","clearInterval","componentWillUnmount","render","children","Component","_slicedToArray2","_interopDefault","ex","Object","defineProperty","exports","PropTypes","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","i","length","descriptor","enumerable","configurable","writable","key","_createClass","protoProps","staticProps","prototype","_defineProperty","obj","_extends","assign","arguments","source","hasOwnProperty","call","apply","_objectSpread","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","forEach","_inherits","subClass","superClass","create","constructor","_setPrototypeOf","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","p","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","sourceSymbolKeys","propertyIsEnumerable","_possibleConstructorReturn","self","ReferenceError","_assertThisInitialized","_slicedToArray","arr","Array","isArray","_arrayWithHoles","_arr","_n","_d","_e","undefined","_s","_i","Symbol","iterator","next","done","err","_iterableToArrayLimit","_nonIterableRest","_toConsumableArray","arr2","_arrayWithoutHoles","iter","toString","from","_iterableToArray","_nonIterableSpread","ChartContext","createContext","Utils","getStatus","getStatusStyle","buildStyleGetters","series","defaults","focused","decorator","status","datums","datum","getMultiAnchor","_ref","x","y","anchor","points","gridWidth","gridHeight","invalid","Error","JSON","stringify","xMin","xMax","yMin","yMax","point","min","max","sort","a","includes","anchorPart","getClosestPoint","closestDistance","Infinity","closestDatum","boundingPoints","pointerPoint","distance","sqrt","pow","normalizeGetter","getter","d","path","def","e","val","pathObj","flattenDeep","newArr","join","replace","split","makePathArray","reduce","current","pathPart","get","isValidPoint","getAxisByAxisID","AxisID","find","id","getAxisIndexByAxisID","index","findIndex","sumObjBy","str","map","prev","curr","translateX","round","translateY","translate","identity","shallowDiff","b","aKeys","bKeys","some","item","otherFocused","group","seriesID","materializeStyles","stroke","color","fill","normalizeColor","elementTypes","t","n","_n2","onResize","element","fn","observer","observe","r","u","getBoundingClientRect","requestAnimationFrame","unobserve","cancelAnimationFrame","observeRect","useLatestRef","latest","ref","useRef","useLatest","when","usePrevious","useEffect","commonjsGlobal","globalThis","window","global","performanceNow","module","createCommonjsModule","getNanoSeconds","hrtime","loadTime","moduleLoadTime","nodeLoadTime","upTime","performance","now","process","hr","uptime","Date","getTime","root","vendors","suffix","raf","caf","last","queue","callback","_now","setTimeout","cp","slice","cancelled","handle","raf_1","cancel","polyfill","object","defaultStyle","strokeWidth","opacity","rx","ry","Rectangle","_React$Component","_this$props","x1","y1","x2","y2","rest","resolvedStyle","xStart","yStart","xEnd","yEnd","createElement","constant","RedBlackTree","_","RedBlackNode","node","U","C","L","R","P","N","RedBlackRotateLeft","tree","q","parent","RedBlackRotateRight","RedBlackFirst","createEdge","left","right","v0","v1","edge","edges","setEdgeEnd","cells","halfedges","createBorderEdge","vertex","clipEdge","x0","y0","ax","ay","t0","t1","dx","dy","connectEdge","fm","fb","lx","ly","fx","fy","cellHalfedgeAngle","cell","site","va","vb","atan2","cellHalfedgeStart","cellHalfedgeEnd","insert","after","grandpa","uncle","remove","sibling","red","firstCircle","circlePool","Circle","arc","cy","attachCircle","lArc","rArc","lSite","cSite","rSite","bx","by","cx","epsilon2","ha","hc","circle","pop","before","circles","detachCircle","beachPool","Beach","createBeach","beach","detachBeach","beaches","removeBeach","previous","disappearing","abs","epsilon","unshift","iArc","nArcs","addBeach","dxl","dxr","directrix","leftBreakPoint","rightBreakPoint","createCell","newArc","hb","rfocx","rfocy","pby2","lfocx","lfocy","plby2","hl","aby2","lexicographic","Diagram","sites","extent","j","m","array","sortCellHalfedges","clipEdges","iCell","iHalfedge","nHalfedges","startX","startY","endX","endY","nCells","cover","splice","d2","dc","v00","v01","v11","v10","clipCells","polygons","polygon","triangles","s0","c","e1","s1","links","radius","i0","that","i1","_found","v","vx","vy","v2","pi","PI","tau","tauEpsilon","Path","_x0","_y0","_x1","_y1","constant$1","moveTo","closePath","lineTo","quadraticCurveTo","bezierCurveTo","arcTo","x21","y21","x01","y01","l01_2","x20","y20","l21_2","l20_2","l21","l01","l","tan","acos","t01","t21","a0","a1","ccw","cos","sin","cw","da","rect","w","h","epsilon$2","Linear","context","_context","curveLinear","x$1","y$1","line","defined","curve","output","buffer","defined0","lineStart","lineEnd","noop","_point","Basis","BasisClosed","BasisOpen","Bundle","beta","_basis","_beta","areaStart","_line","areaEnd","NaN","_x2","_x3","_x4","_y2","_y3","_y4","_x","_y","bundle","custom","point$1","_k","Cardinal","tension","cardinal","CardinalClosed","_x5","_y5","cardinalClosed","CardinalOpen","cardinalOpen","point$2","_l01_a","_l01_2a","_l12_a","_l12_2a","_l23_a","_l23_2a","CatmullRom","alpha","_alpha","x23","y23","catmullRom","CatmullRomClosed","catmullRomClosed","CatmullRomOpen","catmullRomOpen","LinearClosed","sign","slope3","h0","h1","slope2","point$3","MonotoneX","MonotoneY","ReflectContext","monotoneX","Natural","controlPoints","Step","_t","_t0","px","py","defaultStyle$1","Path$1","lineFn","VoronoiElement","className","Voronoi","_React$useContext2","useContext","_React$useContext2$","stackData","primaryAxes","secondaryAxes","showVoronoi","setChartState","onHover","useCallback","state","voronoiData","boundingPoint","Number","isNaN","voronoi","s","size","onMouseEnter","onMouseLeave","defaultStyle$2","Line","defaultStyle$3","fontFamily","fontSize","Text","Group","forwardRef","positionTop","positionRight","positionBottom","positionLeft","groupingSingle","groupingSeries","groupingPrimary","groupingSecondary","axisTypeOrdinal","axisTypeTime","axisTypeUtc","focusAuto","focusClosest","focusElement","defaultStyles","tick","radiansToDegrees","AxisLinear","tickSizeInner","tickSizeOuter","show","showGrid","showTicks","styles","maxLabelRotation","labelRotationStep","tickPadding","ticks","tickCount","minTickCount","maxTickCount","scale","scaleMax","transform","vertical","format","_ref$range","range","range0","range1","directionMultiplier","tickOffset","gridOffset","spacing","_React$useState2","useState","rotation","setRotation","dark","axisDimensions","elRef","visibleLabelStepRef","measureDimensions","labelDims","querySelectorAll","el","tickSpace","calculatedTickCount","top","bottom","smallestTickGap","gap","firstLabelDim","lastLabelDim","largestLabel","_overflow","labelDim","largestLabelSize","newRotation","ceil","floor","newVisibleLabelStep","newDimensions","newAxes","previousRotation","useLayoutEffect","axisPath","showGridLine","axisStyles","pointerEvents","String","dominantBaseline","textAnchor","Axis","triangleSize","getBackgroundColor","Tooltip","chartState","gridX","gridY","latestFocused","getDatumStyle","tooltip","tooltipElRef","previousShowRef","align","alignPriority","padding","tooltipArrowPadding","arrowPosition","finalAlign","setFinalAlign","space","container","gridDims","tooltipDims","document","body","parentElement","_window$getComputedSt","getComputedStyle","overflowX","overflowY","containerDims","resolvedAlign","priority","fits","horizontalPadding","verticalPadding","resolvedFocused","alignX","alignY","triangleStyles","backgroundColor","resolvedArrowPosition","borderLeft","borderRight","borderTop","borderBottom","animateCoords","primaryAxis","primaryAxisID","secondaryAxis","secondaryAxisID","resolvedHorizontalPadding","resolvedVerticalPadding","renderedChildren","getStyle","transition","background","borderRadius","getLineBackgroundColor","getBackgroundColor$1","Cursor","primaryCursor","secondaryCursor","cursor","_ref2","showLine","showLabel","resolvedValue","snap","axis","siblingAxis","resolvedShow","latestValue","alignPctX","alignPctY","animated","siblingRange","cursorSize","renderProps","formattedValue","stacked","totalValue","lineStartX","lineStartY","lineEndX","lineEndY","bubbleX","RTL","bubbleY","lineHeight","lineWidth","whiteSpace","Brush","pointer","brush","dragging","sourceX","defaultProps","onSelect","ChartInner","_ref$style","_React$useContext4","_React$useContext4$","offset","renderSVG","onClick","seriesOptions","getSeriesOrder","svgRef","rafRef","_onMouseMove","clientX","clientY","active","down","onMouseUp","removeEventListener","released","orderedStackData","reverse","focusedSeriesIndex","stacks","stack","overflow","persist","onMouseMove","onMouseDown","addEventListener","sourceY","calculateMaterializeData","getSeriesID","getLabel","getPrimaryAxisID","getSecondaryAxisID","getDatums","getPrimary","getSecondary","getR","materializedData","seriesIndex","originalSeries","seriesLabel","originalDatums","datumIndex","originalDatum","secondary","usePropsMemo","watchRef","valueRef","_obj$style","useSeriesStyle","getSeriesStyle","useDatumStyle","defaultStyle$4","Circle$1","pathDefaultStyle","circleDefaultStyle","Line$1","showPoints","pathProps","renderedPath","Point","_ref4","dataStyle","circleProps","plotDatum","xAxis","yAxis","primaryCoord","secondaryCoord","xValue","yValue","base","baseValue","buildStyles","_ref3","defaultColors","circleDefaultStyle$1","Bubble","Point$1","defaultAreaStyle","lineDefaultStyle","Area","showOrphans","areaFn","area","k","x0z","y0z","arealine","lineX0","lineY0","lineY1","lineX1","areaPath","linePath","areaPathProps","renderedAreaPath","linePathProps","renderedLinePath","all","OrphanLine","clamp","lineProps","Bar","barOffset","BarPiece","rectangleProps","rectangle","barSize","seriesBarSize","seriesBandScaleOffset","seriesBandScale","seriesTypeIndex","_ref5","seriesTypes","bubble","bar","defaultSeries","seriesPropType","oneOfType","shape","string","bool","func","calculateSeriesOptions","_defaultSeries","renderer","calculateSeriesTypes","calculateDimensions","_React$useMemo","axesLeftWidth","axesLeftTop","axesLeftBottom","axesRightWidth","axesRightTop","axesRightBottom","axesTopHeight","axesTopLeft","axesTopRight","axesBottomHeight","axesBottomLeft","axesBottomRight","paddingLeft","paddingRight","paddingTop","paddingBottom","ascending","bisector","compare","f","lo","hi","mid","bisectRight","e10","e5","e2","stop","count","step","tickIncrement","isFinite","power","log","LN10","error","tickStep","step0","step1","initRange","domain","implicit","band","bandwidth","ordinal","Map","unknown","set","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","has","copy","ordinalRange","r0","r1","paddingInner","paddingOuter","rescale","values","sequence","_ref7","rangeRound","_ref9","define","factory","extend","definition","Color","reI","reN","reP","reHex3","reHex6","reRgbInteger","RegExp","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","trim","toLowerCase","exec","Rgb","parseInt","rgbn","rgba","hsla","g","rgbConvert","rgb","_hex","Hsl","hsl2rgb","m1","m2","displayable","hex","brighter","darker","hslConvert","deg2rad","rad2deg","Xn","Yn","Zn","t2","t3","labConvert","Lab","Hcl","z","rgb2lrgb","xyz2lab","lab2xyz","lrgb2rgb","hclConvert","A","B","D","E","ED","EB","BC_DA","Cubehelix","constant$2","gamma","nogamma","exponential","linear","bl","cubehelixConvert","cosh","sinh","rgb$1","rgbGamma","nb","na","interpolateValue","date","setTime","interpolateNumber","reA","reB","am","bm","bs","bi","lastIndex","one","zero","valueOf","interpolateRound","SQRT2","number","unit","identity$1","normalize","constant$3","clamper","bimap","interpolate","d0","d1","polymap","transformer","untransform","piecewise","input","invert","continuous","formatDecimal","toExponential","coefficient","exponent","prefixExponent","re","formatSpecifier","specifier","FormatSpecifier","match","symbol","comma","precision","formatRounded","formatTypes","toPrecision","_p","toUpperCase","identity$2","locale","formatPrefix","prefixes","formatLocale","grouping","thousands","substring","currency","decimal","numerals","formatNumerals","percent","newFormat","prefix","test","formatType","maybeSuffix","valuePrefix","valueSuffix","valueNegative","out","formatTrim","charCodeAt","tickFormat","precisionPrefix","precisionRound","precisionFixed","nice","transformLog","transformExp","exp","transformLogn","transformExpn","pow10","reflect","loggish","logs","pows","log10","log2","logp","powp","t0$1","t1$1","newInterval","floori","offseti","field","every","millisecond","durationMinute","durationWeek","second","getUTCSeconds","minute","getMinutes","hour","getTimezoneOffset","getHours","day","setHours","setDate","getDate","weekday","getDay","sunday","monday","thursday","month","setMonth","getMonth","getFullYear","year","setFullYear","utcMinute","setUTCSeconds","getUTCMinutes","utcHour","setUTCMinutes","getUTCHours","utcDay","setUTCHours","setUTCDate","getUTCDate","utcWeekday","getUTCDay","utcSunday","utcMonday","utcThursday","utcMonth","setUTCMonth","getUTCMonth","getUTCFullYear","utcYear","setUTCFullYear","localDate","H","M","S","utcDate","UTC","newYear","locale$1","timeFormat","utcFormat","utcParse","pads","numberRe","percentRe","requoteRe","pad","requote","formatRe","names","formatLookup","parseWeekdayNumberSunday","parseWeekdayNumberMonday","parseWeekNumberSunday","parseWeekNumberISO","V","parseWeekNumberMonday","W","parseFullYear","parseYear","parseZone","Z","parseMonthNumber","parseDayOfMonth","parseDayOfYear","parseHour24","parseMinutes","parseSeconds","parseMilliseconds","parseMicroseconds","parseLiteralPercent","parseUnixTimestamp","Q","parseUnixTimestampSeconds","formatDayOfMonth","formatHour24","formatHour12","formatDayOfYear","formatMilliseconds","getMilliseconds","formatMicroseconds","formatMonthNumber","formatMinutes","formatSeconds","getSeconds","formatWeekdayNumberMonday","formatWeekNumberSunday","formatWeekNumberISO","formatWeekdayNumberSunday","formatWeekNumberMonday","formatYear","formatFullYear","formatZone","formatUTCDayOfMonth","formatUTCHour24","formatUTCHour12","formatUTCDayOfYear","formatUTCMilliseconds","getUTCMilliseconds","formatUTCMicroseconds","formatUTCMonthNumber","formatUTCMinutes","formatUTCSeconds","formatUTCWeekdayNumberMonday","dow","formatUTCWeekNumberSunday","formatUTCWeekNumberISO","formatUTCWeekdayNumberSunday","formatUTCWeekNumberMonday","formatUTCYear","formatUTCFullYear","formatUTCZone","formatLiteralPercent","formatUnixTimestamp","formatUnixTimestampSeconds","locale_dateTime","dateTime","locale_date","locale_time","time","locale_periods","periods","locale_weekdays","days","locale_shortWeekdays","shortDays","locale_months","months","locale_shortMonths","shortMonths","periodRe","periodLookup","weekdayRe","weekdayLookup","shortWeekdayRe","shortWeekdayLookup","monthRe","monthLookup","shortMonthRe","shortMonthLookup","formats","utcFormats","parses","parseSpecifier","charAt","newParse","newDate","week","day$1","parse","X","formatLocale$1","defaultLocale$1","toISOString","_scales","durationSecond$1","durationMinute$1","durationHour$1","durationDay$1","durationWeek$1","durationMonth","durationYear","date$1","number$1","calendar","formatMillisecond","formatSecond","formatMinute","formatHour","formatDay","formatWeek","formatMonth","tickIntervals","tickInterval","scales","linear$1","linearish","detectVertical","detectRTL","buildAxis","config","_ref$axis","_ref$axis$min","userMin","_ref$axis$max","userMax","_ref$axis$hardMin","hardMin","_ref$axis$hardMax","hardMax","_ref$axis$base","_ref$axis$tickCount","_ref$axis$minTickCoun","_ref$axis$maxTickCoun","_ref$axis$tickValues","tickValues","_ref$axis$tickFormat","_ref$axis$tickSizeInn","_ref$axis$tickSizeOut","_ref$axis$tickPadding","_ref$axis$maxLabelRot","_ref$axis$labelRotati","_ref$axis$innerPaddin","innerPadding","_ref$axis$outerPaddin","outerPadding","_ref$axis$showGrid","_ref$axis$showTicks","_ref$axis$show","_ref$axis$stacked","userID","valueKey","groupKey","AxisIDKey","uniqueVals","negativeTotalByKey","positiveTotalByKey","axisDimension","bandScale","stepSize","defaultMin","defaultMax","buildAxisLinear","axisShape","oneOf","isRequired","any","calculateAxes","prePrimaryAxes","preSecondaryAxes","primaryAxesHashes","secondaryAxesHashes","xKey","yKey","xAxes","yAxes","calculateStackData","scaleTotals","axisIndex","negative","positive","primaryAxisIndex","secondaryAxisIndex","validPoint","totalKey","_validPoint","_totalKey","xAxisIndex","yAxisIndex","datumsByGrouping","_seriesIndex","_series","_datumIndex","_datum","axisKey","_seriesIndex2","_series2","_datumIndex2","_datum2","_axisKey","showCount","TooltipRenderer","formatSecondary","formatTertiary","resolvedFormatSecondary","resolvedFormatTertiary","sortedGroupDatums","resolvedShowCount","activeIndex","visibleSortedGroupDatums","hasPrevious","hasNext","marginBottom","textAlign","sortedDatum","fontWeight","display","alignItems","justifyContent","marginRight","Fragment","alignPropType","tooltipShape","arrayOf","required","onChange","calculateTooltip","multiFocus","cursorShape","axisID","defaultCursorProps","calculateCursors","cursorValue","focus","Chart","onFocus","_React$useState2$","offsetState","onClickRef","onFocusRef","onHoverRef","responsiveElRef","_useHyperResponsive","setState","resize","computed","boxSizing","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","newWidth","newHeight","stopListening","useHyperResponsive","_useHyperResponsive2$","_calculateDimensions","_calculateAxes","axisValues","resolvedFocus","_calculateCursors2","previousDragging","chartStateContextValue","Provider","propTypes","alignAuto","alignBottom","alignBottomLeft","alignBottomRight","alignLeft","alignRight","alignTop","alignTopLeft","alignTopRight","anchorBottom","anchorCenter","anchorClosest","anchorGridBottom","anchorGridLeft","anchorGridRight","anchorGridTop","anchorLeft","anchorPointer","anchorRight","anchorTop","axisTypeLinear","axisTypeLog","curveBasis","curveBasisClosed","curveBasisOpen","curveBundle","curveCardinal","curveCardinalClosed","curveCardinalOpen","curveCatmullRom","curveCatmullRomClosed","curveCatmullRomOpen","curveLinearClosed","curveMonotoneX","curveMonotoneY","curveNatural","curveStep","curveStepAfter","curveStepBefore","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","clearTimeout","currentQueue","draining","queueIndex","cleanUpNextTick","drainQueue","timeout","len","run","marker","runClearTimeout","Item","nextTick","args","title","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","name","binding","cwd","chdir","dir","umask","$export","$values","it","F","fails","$toISOString","lz","num","RangeError","LN2","LOG10E","arrayWithHoles","iterableToArrayLimit","nonIterableRest","createHTML"],"mappings":"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","file":"component---docs-advanced-examples-mdx-e3cb2875e5b3b82fde52.js","sourcesContent":["/* eslint-disable no-debugger */\nimport React from 'react';\nimport { Chart } from 'react-charts';\nimport ReactTimer from '../src';\n\nconst MyChart = () => {\n  const coords = [[0, 0]];\n\n  const axes = React.useMemo(\n    () => [\n      { primary: true, type: 'linear', position: 'bottom' },\n      { type: 'linear', position: 'left' },\n    ],\n    [],\n  );\n\n  const renderChart = (value) => {\n    const ar = [value, (Math.random() * 10).toFixed(0)];\n    coords.push(ar);\n    return (\n      <Chart\n        data={[\n          {\n            label: 'Series 1',\n            data: coords,\n          },\n        ]}\n        axes={axes}\n      />\n    );\n  };\n\n  return (\n    <div\n      style={{\n        width: '100%',\n        height: '300px',\n      }}\n    >\n      <ReactTimer\n        start={0}\n        end={(value) => value === 10}\n        onTick={(value) => value + 1}\n      >\n        {(value) => renderChart(value)}\n      </ReactTimer>\n    </div>\n  );\n};\n\n\nexport default MyChart;\n","import React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/travis/build/xendora/react-timer/node_modules/gatsby-theme-docz/src/base/Layout.js\";\nimport { Playground } from 'docz';\nimport ReactTimer from '../src/index';\nimport ChartsExample from './charts-example';\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"advanced-examples\"\n    }}>{`Advanced Examples`}</h1>\n\n    <h2 {...{\n      \"id\": \"line-graph\"\n    }}>{`Line graph`}</h2>\n    <p>{`A line graph that periodically updates itself`}</p>\n    <ChartsExample mdxType=\"ChartsExample\" />\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`import React from 'react';\nimport { Chart } from 'react-charts';\nimport ReactTimer from '@xendora/react-timer';\n\nconst MyChart = () => {\n  const coords = [[0, 0]];\n\n  const axes = React.useMemo(\n    () => [\n      { primary: true, type: 'linear', position: 'bottom' },\n      { type: 'linear', position: 'left' },\n    ],\n    [],\n  );\n\n  const renderChart = (value) => {\n    const ar = [value, (Math.random() * 10).toFixed(0)];\n    coords.push(ar);\n    return (\n      <Chart\n        data={[\n          {\n            label: 'Series 1',\n            data: coords,\n          },\n        ]}\n        axes={axes}\n      />\n    );\n  };\n\n  return (\n    <div\n      style={{\n        width: '100%',\n        height: '300px',\n      }}\n    >\n      <ReactTimer\n        start={0}\n        end={(value) => value === 10}\n        onTick={(value) => value + 1}\n      >\n        {(value) => renderChart(value)}\n      </ReactTimer>\n    </div>\n  );\n};\n\n\nexport default MyChart;\n`}</code></pre>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      ","import { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nclass ReactTimer extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: props.start || 0,\n    };\n    this.timer = null;\n  }\n\n  componentDidMount() {\n    const {\n      onTick,\n      interval,\n      end,\n      onEnd,\n    } = this.props;\n    this.timer = setInterval(() => {\n      this.setState(({ value }) => (\n        { value: onTick(value) }\n      ), () => {\n        const { value: currentValue } = this.state;\n        if (end(currentValue)) {\n          clearInterval(this.timer);\n          onEnd(currentValue);\n        }\n      });\n    }, interval);\n  }\n\n  componentWillUnmount() {\n    if (this.timer) {\n      clearInterval(this.timer);\n    }\n  }\n\n  render() {\n    const { children } = this.props;\n    const { value } = this.state;\n    return children(value);\n  }\n}\n\nReactTimer.defaultProps = {\n  interval: 1000,\n  onEnd: () => { },\n  onTick: () => { },\n};\n\nReactTimer.propTypes = {\n  children: PropTypes.func.isRequired,\n  start: PropTypes.number.isRequired,\n  end: PropTypes.func.isRequired,\n  interval: PropTypes.number,\n  onTick: PropTypes.func,\n  onEnd: PropTypes.func,\n};\n\nexport default ReactTimer;\n","'use strict';\n\nrequire(\"core-js/modules/es7.object.values\");\n\nrequire(\"core-js/modules/es6.date.to-iso-string\");\n\nrequire(\"core-js/modules/es6.math.log2\");\n\nrequire(\"core-js/modules/es6.math.log10\");\n\nrequire(\"core-js/modules/es6.string.trim\");\n\nrequire(\"core-js/modules/es6.regexp.constructor\");\n\nvar _slicedToArray2 = require(\"/home/travis/build/xendora/react-timer/node_modules/@babel/runtime/helpers/slicedToArray\");\n\nrequire(\"core-js/modules/es6.map\");\n\nrequire(\"core-js/modules/es6.number.constructor\");\n\nrequire(\"core-js/modules/es6.number.is-nan\");\n\nrequire(\"core-js/modules/es6.date.now\");\n\nrequire(\"core-js/modules/es6.array.some\");\n\nrequire(\"core-js/modules/es6.array.map\");\n\nrequire(\"core-js/modules/es6.array.find-index\");\n\nrequire(\"core-js/modules/es6.array.find\");\n\nrequire(\"core-js/modules/es6.regexp.replace\");\n\nrequire(\"core-js/modules/es6.regexp.split\");\n\nrequire(\"core-js/modules/es6.array.reduce\");\n\nrequire(\"core-js/modules/es6.array.fill\");\n\nrequire(\"core-js/modules/es7.array.includes\");\n\nrequire(\"core-js/modules/es6.string.includes\");\n\nrequire(\"core-js/modules/es6.array.sort\");\n\nrequire(\"core-js/modules/es6.string.anchor\");\n\nrequire(\"core-js/modules/es6.string.iterator\");\n\nrequire(\"core-js/modules/es6.array.from\");\n\nrequire(\"core-js/modules/es6.regexp.to-string\");\n\nrequire(\"core-js/modules/es6.date.to-string\");\n\nrequire(\"core-js/modules/es7.symbol.async-iterator\");\n\nrequire(\"core-js/modules/es6.array.is-array\");\n\nrequire(\"core-js/modules/es6.array.index-of\");\n\nrequire(\"core-js/modules/es6.object.set-prototype-of\");\n\nrequire(\"core-js/modules/es6.object.create\");\n\nrequire(\"core-js/modules/es6.array.for-each\");\n\nrequire(\"core-js/modules/es6.array.filter\");\n\nrequire(\"core-js/modules/es6.symbol\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.object.keys\");\n\nrequire(\"core-js/modules/es6.object.assign\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopDefault(ex) {\n  return ex && typeof ex === 'object' && 'default' in ex ? ex['default'] : ex;\n}\n\nvar React = _interopDefault(require('react'));\n\nvar PropTypes = _interopDefault(require('prop-types'));\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nvar ChartContext = React.createContext();\nvar Utils = {\n  getStatus: getStatus,\n  getStatusStyle: getStatusStyle,\n  buildStyleGetters: buildStyleGetters,\n  getMultiAnchor: getMultiAnchor,\n  getClosestPoint: getClosestPoint,\n  normalizeGetter: normalizeGetter,\n  isValidPoint: isValidPoint,\n  getAxisByAxisID: getAxisByAxisID,\n  getAxisIndexByAxisID: getAxisIndexByAxisID,\n  sumObjBy: sumObjBy,\n  translateX: translateX,\n  translateY: translateY,\n  translate: translate,\n  identity: identity,\n  shallowDiff: shallowDiff\n};\n\nfunction getStatus(item, focused) {\n  var status = {\n    focused: false,\n    otherFocused: false\n  };\n\n  if (!focused) {\n    return status;\n  } // If the item is a datum\n\n\n  if (typeof item.primary !== 'undefined') {\n    var length = focused.group.length;\n\n    for (var i = 0; i < length; i++) {\n      if (focused.group[i].seriesID === item.series.id && focused.group[i].index === item.index) {\n        status.focused = true;\n        break;\n      }\n    }\n\n    status.otherFocused = !status.focused; // For series\n  } else if (focused.series) {\n    status.focused = focused.series.id === item.id;\n    status.otherFocused = !status.focused;\n  }\n\n  return status;\n}\n\nfunction getStatusStyle(item, status, decorator, defaults) {\n  if (item.series) {\n    defaults = _objectSpread({}, defaults, item.series.style);\n  }\n\n  return materializeStyles(decorator(_objectSpread({}, item, status)), defaults);\n}\n\nfunction buildStyleGetters(series, defaults) {\n  series.getStatusStyle = function (focused, decorator) {\n    var status = getStatus(series, focused);\n    series.style = getStatusStyle(series, status, decorator, defaults);\n    return series.style;\n  }; // We also need to decorate each datum in the same fashion\n\n\n  series.datums.forEach(function (datum) {\n    datum.getStatusStyle = function (focused, decorator) {\n      var status = getStatus(datum, focused);\n      datum.style = getStatusStyle(datum, status, decorator, defaults);\n      return datum.style;\n    };\n  });\n}\n\nfunction getMultiAnchor(_ref) {\n  var anchor = _ref.anchor,\n      points = _ref.points,\n      gridWidth = _ref.gridWidth,\n      gridHeight = _ref.gridHeight;\n\n  var invalid = function invalid() {\n    throw new Error(\"\".concat(JSON.stringify(anchor), \" is not a valid tooltip anchor option. You should use a single anchor option or 2 non-conflicting anchor options.\"));\n  };\n\n  var x;\n  var y;\n  var xMin = points[0].anchor.x;\n  var xMax = points[0].anchor.x;\n  var yMin = points[0].anchor.y;\n  var yMax = points[0].anchor.y;\n  points.forEach(function (point) {\n    xMin = Math.min(point.anchor.x, xMin);\n    xMax = Math.max(point.anchor.x, xMax);\n    yMin = Math.min(point.anchor.y, yMin);\n    yMax = Math.max(point.anchor.y, yMax);\n  });\n\n  if (anchor.length > 2) {\n    return invalid();\n  }\n\n  anchor = anchor.sort(function (a) {\n    return a.includes('center') || a.includes('Center') ? 1 : -1;\n  });\n\n  for (var i = 0; i < anchor.length; i++) {\n    var anchorPart = anchor[i]; // Horizontal Positioning\n\n    if (['left', 'right', 'gridLeft', 'gridRight'].includes(anchorPart)) {\n      if (typeof x !== 'undefined') {\n        invalid();\n      }\n\n      if (anchorPart === 'left') {\n        x = xMin;\n      } else if (anchorPart === 'right') {\n        x = xMax;\n      } else if (anchorPart === 'gridLeft') {\n        x = 0;\n      } else if (anchorPart === 'gridRight') {\n        x = gridWidth;\n      } else {\n        invalid();\n      }\n    } // Vertical Positioning\n\n\n    if (['top', 'bottom', 'gridTop', 'gridBottom'].includes(anchorPart)) {\n      if (typeof y !== 'undefined') {\n        invalid();\n      }\n\n      if (anchorPart === 'top') {\n        y = yMin;\n      } else if (anchorPart === 'bottom') {\n        y = yMax;\n      } else if (anchorPart === 'gridTop') {\n        y = 0;\n      } else if (anchorPart === 'gridBottom') {\n        y = gridHeight;\n      } else {\n        invalid();\n      }\n    } // Center Positioning\n\n\n    if (['center', 'gridCenter'].includes(anchorPart)) {\n      if (anchorPart === 'center') {\n        if (typeof y === 'undefined') {\n          y = (yMin + yMax) / 2;\n        }\n\n        if (typeof x === 'undefined') {\n          x = (xMin + xMax) / 2;\n        }\n      } else if (anchorPart === 'gridCenter') {\n        if (typeof y === 'undefined') {\n          y = gridHeight / 2;\n        }\n\n        if (typeof x === 'undefined') {\n          x = gridWidth / 2;\n        }\n      } else {\n        invalid();\n      }\n    } // Auto center the remainder if there is only one anchorPart listed\n\n\n    if (anchor.length === 1) {\n      if (anchor[0].includes('grid')) {\n        anchor.push('gridCenter');\n      } else {\n        anchor.push('center');\n      }\n    }\n  }\n\n  return {\n    x: x,\n    y: y\n  };\n}\n\nfunction getClosestPoint(position, datums) {\n  if (!datums || !position || !datums.length) {\n    return;\n  }\n\n  var closestDistance = Infinity;\n  var closestDatum = datums[0];\n  datums.forEach(function (datum) {\n    datum.boundingPoints.forEach(function (pointerPoint) {\n      var distance = Math.sqrt(Math.pow(pointerPoint.x - position.x, 2) + Math.pow(pointerPoint.y - position.y, 2));\n\n      if (distance < closestDistance) {\n        closestDistance = distance;\n        closestDatum = datum;\n      }\n    });\n  });\n  return closestDatum;\n}\n\nfunction normalizeColor(style, defaults) {\n  return _objectSpread({}, style, {\n    stroke: style.stroke || style.color || defaults.stroke || defaults.color,\n    fill: style.fill || style.color || defaults.fill || defaults.color\n  });\n}\n\nvar elementTypes = ['area', 'line', 'rectangle', 'circle'];\n\nfunction materializeStyles() {\n  var style = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var defaults = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  style = normalizeColor(style, defaults);\n\n  for (var i = 0; i < elementTypes.length; i++) {\n    var type = elementTypes[i];\n    style[type] = style[type] ? materializeStyles(style[type], defaults) : {};\n  }\n\n  return style;\n}\n\nfunction normalizeGetter(getter) {\n  if (typeof getter === 'function') {\n    return getter;\n  }\n\n  return function (d) {\n    return get(d, getter);\n  };\n}\n\nfunction get(obj, path, def) {\n  if (typeof obj === 'function') {\n    try {\n      return obj();\n    } catch (e) {\n      return path;\n    }\n  }\n\n  if (!path) {\n    return obj;\n  }\n\n  var pathObj = makePathArray(path);\n  var val;\n\n  try {\n    val = pathObj.reduce(function (current, pathPart) {\n      return current[pathPart];\n    }, obj);\n  } catch (e) {// do nothing\n  }\n\n  return typeof val !== 'undefined' ? val : def;\n}\n\nfunction makePathArray(obj) {\n  return flattenDeep(obj).join('.').replace('[', '.').replace(']', '').split('.');\n}\n\nfunction flattenDeep(arr) {\n  var newArr = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n  if (!Array.isArray(arr)) {\n    newArr.push(arr);\n  } else {\n    for (var i = 0; i < arr.length; i++) {\n      flattenDeep(arr[i], newArr);\n    }\n  }\n\n  return newArr;\n}\n\nfunction isValidPoint(d) {\n  if (d === null) {\n    return false;\n  }\n\n  if (typeof d === 'undefined') {\n    return false;\n  }\n\n  if (typeof d === 'string' && d === 'null') {\n    return false;\n  }\n\n  return true;\n}\n\nfunction getAxisByAxisID(axes, AxisID) {\n  return axes.find(function (d) {\n    return d.id === AxisID;\n  }) || axes[0];\n}\n\nfunction getAxisIndexByAxisID(axes, AxisID) {\n  var index = axes.findIndex(function (d) {\n    return d.id === AxisID;\n  });\n  return index > -1 ? index : 0;\n}\n\nfunction sumObjBy(obj, str) {\n  return Object.keys(obj).map(function (key) {\n    return obj[key];\n  }).reduce(function (prev, curr) {\n    return prev + curr[str] || 0;\n  }, 0);\n}\n\nfunction translateX(x) {\n  return \"translate3d(\".concat(Math.round(x), \"px, 0, 0)\");\n}\n\nfunction translateY(y) {\n  return \"translate3d(0, \".concat(Math.round(y), \"px, 0)\");\n}\n\nfunction translate(x, y) {\n  return \"translate3d(\".concat(Math.round(x), \"px, \").concat(Math.round(y), \"px, 0)\");\n}\n\nfunction identity(d) {\n  return d;\n}\n\nfunction shallowDiff(a, b) {\n  var aKeys = Object.keys(a);\n  var bKeys = Object.keys(b);\n\n  if (aKeys.length !== bKeys.length) {\n    return true;\n  }\n\n  return Object.keys(a).some(function (key) {\n    if (a[key] !== b[key]) {\n      return true;\n    }\n  });\n}\n\nvar t = [\"width\", \"height\", \"top\", \"right\", \"bottom\", \"left\"],\n    n = function n(_n2, e) {\n  return void 0 === _n2 && (_n2 = {}), void 0 === e && (e = {}), t.some(function (t) {\n    return _n2[t] !== e[t];\n  });\n};\n\nfunction observeRect(t, e) {\n  var o,\n      i,\n      r = function r() {\n    var u = t.getBoundingClientRect();\n    n(u, o) && e(o = u), i = requestAnimationFrame(r);\n  };\n\n  return {\n    observe: r,\n    unobserve: function unobserve() {\n      cancelAnimationFrame(i);\n    }\n  };\n}\n\nfunction onResize(element, fn) {\n  var observer = observeRect(element, fn);\n  observer.observe();\n  return observer.unobserve;\n}\n\nfunction useHyperResponsive(ref) {\n  var _React$useState = React.useState({\n    width: 0,\n    height: 0\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      _React$useState2$ = _React$useState2[0],\n      width = _React$useState2$.width,\n      height = _React$useState2$.height,\n      setState = _React$useState2[1];\n\n  var resize = React.useRef();\n\n  resize.current = function () {\n    if (!ref.current) {\n      return;\n    }\n\n    var computed = window.getComputedStyle(ref.current.parentElement);\n    var paddingTop = computed.paddingTop,\n        paddingBottom = computed.paddingBottom,\n        paddingLeft = computed.paddingLeft,\n        paddingRight = computed.paddingRight,\n        boxSizing = computed.boxSizing,\n        borderTopWidth = computed.borderTopWidth,\n        borderLeftWidth = computed.borderLeftWidth,\n        borderRightWidth = computed.borderRightWidth,\n        borderBottomWidth = computed.borderBottomWidth;\n    var newWidth = computed.width,\n        newHeight = computed.height;\n    newWidth = parseInt(newWidth);\n    newHeight = parseInt(newHeight);\n\n    if (boxSizing === 'border-box') {\n      newWidth -= parseInt(paddingLeft);\n      newWidth -= parseInt(paddingRight);\n      newHeight -= parseInt(paddingTop);\n      newHeight -= parseInt(paddingBottom);\n      newWidth -= parseInt(borderLeftWidth);\n      newWidth -= parseInt(borderRightWidth);\n      newHeight -= parseInt(borderTopWidth);\n      newHeight -= parseInt(borderBottomWidth);\n    }\n\n    if (newWidth !== width || newHeight !== height) {\n      setState(function () {\n        return {\n          width: newWidth,\n          height: newHeight\n        };\n      });\n    }\n  };\n\n  React.useEffect(function () {\n    var stopListening = onResize(ref.current.parentElement, resize.current);\n    return function () {\n      stopListening();\n    };\n  }, [ref]);\n  return [{\n    width: width,\n    height: height\n  }];\n}\n\nfunction useLatestRef(latest) {\n  var ref = React.useRef();\n  ref.current = latest;\n  return ref;\n}\n\nfunction useLatest(obj) {\n  var when = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n  var ref = React.useRef();\n\n  if (when) {\n    ref.current = obj;\n  }\n\n  return ref.current;\n}\n\nfunction usePrevious(val) {\n  var ref = React.useRef();\n  React.useEffect(function () {\n    ref.current = val;\n  }, [val]);\n  return ref.current;\n}\n\nvar commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\nfunction createCommonjsModule(fn, module) {\n  return module = {\n    exports: {}\n  }, fn(module, module.exports), module.exports;\n}\n\nvar performanceNow = createCommonjsModule(function (module) {\n  // Generated by CoffeeScript 1.12.2\n  (function () {\n    var getNanoSeconds, hrtime, loadTime, moduleLoadTime, nodeLoadTime, upTime;\n\n    if (typeof performance !== \"undefined\" && performance !== null && performance.now) {\n      module.exports = function () {\n        return performance.now();\n      };\n    } else if (typeof process !== \"undefined\" && process !== null && process.hrtime) {\n      module.exports = function () {\n        return (getNanoSeconds() - nodeLoadTime) / 1e6;\n      };\n\n      hrtime = process.hrtime;\n\n      getNanoSeconds = function getNanoSeconds() {\n        var hr;\n        hr = hrtime();\n        return hr[0] * 1e9 + hr[1];\n      };\n\n      moduleLoadTime = getNanoSeconds();\n      upTime = process.uptime() * 1e9;\n      nodeLoadTime = moduleLoadTime - upTime;\n    } else if (Date.now) {\n      module.exports = function () {\n        return Date.now() - loadTime;\n      };\n\n      loadTime = Date.now();\n    } else {\n      module.exports = function () {\n        return new Date().getTime() - loadTime;\n      };\n\n      loadTime = new Date().getTime();\n    }\n  }).call(commonjsGlobal);\n});\nvar root = typeof window === 'undefined' ? commonjsGlobal : window,\n    vendors = ['moz', 'webkit'],\n    suffix = 'AnimationFrame',\n    raf = root['request' + suffix],\n    caf = root['cancel' + suffix] || root['cancelRequest' + suffix];\n\nfor (var i = 0; !raf && i < vendors.length; i++) {\n  raf = root[vendors[i] + 'Request' + suffix];\n  caf = root[vendors[i] + 'Cancel' + suffix] || root[vendors[i] + 'CancelRequest' + suffix];\n} // Some versions of FF have rAF but not cAF\n\n\nif (!raf || !caf) {\n  var last = 0,\n      id = 0,\n      queue = [],\n      frameDuration = 1000 / 60;\n\n  raf = function raf(callback) {\n    if (queue.length === 0) {\n      var _now = performanceNow(),\n          next = Math.max(0, frameDuration - (_now - last));\n\n      last = next + _now;\n      setTimeout(function () {\n        var cp = queue.slice(0); // Clear queue here to prevent\n        // callbacks from appending listeners\n        // to the current frame's queue\n\n        queue.length = 0;\n\n        for (var i = 0; i < cp.length; i++) {\n          if (!cp[i].cancelled) {\n            try {\n              cp[i].callback(last);\n            } catch (e) {\n              setTimeout(function () {\n                throw e;\n              }, 0);\n            }\n          }\n        }\n      }, Math.round(next));\n    }\n\n    queue.push({\n      handle: ++id,\n      callback: callback,\n      cancelled: false\n    });\n    return id;\n  };\n\n  caf = function caf(handle) {\n    for (var i = 0; i < queue.length; i++) {\n      if (queue[i].handle === handle) {\n        queue[i].cancelled = true;\n      }\n    }\n  };\n}\n\nvar raf_1 = function raf_1(fn) {\n  // Wrap in a new function to prevent\n  // `cancel` potentially being assigned\n  // to the native rAF function\n  return raf.call(root, fn);\n};\n\nvar cancel = function cancel() {\n  caf.apply(root, arguments);\n};\n\nvar polyfill = function polyfill(object) {\n  if (!object) {\n    object = root;\n  }\n\n  object.requestAnimationFrame = raf;\n  object.cancelAnimationFrame = caf;\n};\n\nraf_1.cancel = cancel;\nraf_1.polyfill = polyfill;\nvar defaultStyle = {\n  strokeWidth: 0,\n  fill: '#333',\n  opacity: 1,\n  rx: 0,\n  ry: 0\n};\n\nvar Rectangle =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Rectangle, _React$Component);\n\n  function Rectangle() {\n    _classCallCheck(this, Rectangle);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Rectangle).apply(this, arguments));\n  }\n\n  _createClass(Rectangle, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          style = _this$props.style,\n          opacity = _this$props.opacity,\n          x1 = _this$props.x1,\n          y1 = _this$props.y1,\n          x2 = _this$props.x2,\n          y2 = _this$props.y2,\n          rest = _objectWithoutProperties(_this$props, [\"style\", \"opacity\", \"x1\", \"y1\", \"x2\", \"y2\"]);\n\n      var resolvedStyle = _objectSpread({}, defaultStyle, style);\n\n      var xStart = Math.min(x1, x2);\n      var yStart = Math.min(y1, y2);\n      var xEnd = Math.max(x1, x2);\n      var yEnd = Math.max(y1, y2);\n      var height = Math.max(yEnd - yStart, 0);\n      var width = Math.max(xEnd - xStart, 0);\n      return React.createElement(\"rect\", _extends({}, rest, {\n        x: xStart,\n        y: yStart,\n        width: width,\n        height: height,\n        style: resolvedStyle\n      }));\n    }\n  }]);\n\n  return Rectangle;\n}(React.Component);\n\n_defineProperty(Rectangle, \"defaultProps\", {\n  opacity: 1\n});\n\nfunction constant(x) {\n  return function () {\n    return x;\n  };\n}\n\nfunction x(d) {\n  return d[0];\n}\n\nfunction y(d) {\n  return d[1];\n}\n\nfunction RedBlackTree() {\n  this._ = null; // root node\n}\n\nfunction RedBlackNode(node) {\n  node.U = // parent node\n  node.C = // color - true for red, false for black\n  node.L = // left node\n  node.R = // right node\n  node.P = // previous node\n  node.N = null; // next node\n}\n\nRedBlackTree.prototype = {\n  constructor: RedBlackTree,\n  insert: function insert(after, node) {\n    var parent, grandpa, uncle;\n\n    if (after) {\n      node.P = after;\n      node.N = after.N;\n      if (after.N) after.N.P = node;\n      after.N = node;\n\n      if (after.R) {\n        after = after.R;\n\n        while (after.L) {\n          after = after.L;\n        }\n\n        after.L = node;\n      } else {\n        after.R = node;\n      }\n\n      parent = after;\n    } else if (this._) {\n      after = RedBlackFirst(this._);\n      node.P = null;\n      node.N = after;\n      after.P = after.L = node;\n      parent = after;\n    } else {\n      node.P = node.N = null;\n      this._ = node;\n      parent = null;\n    }\n\n    node.L = node.R = null;\n    node.U = parent;\n    node.C = true;\n    after = node;\n\n    while (parent && parent.C) {\n      grandpa = parent.U;\n\n      if (parent === grandpa.L) {\n        uncle = grandpa.R;\n\n        if (uncle && uncle.C) {\n          parent.C = uncle.C = false;\n          grandpa.C = true;\n          after = grandpa;\n        } else {\n          if (after === parent.R) {\n            RedBlackRotateLeft(this, parent);\n            after = parent;\n            parent = after.U;\n          }\n\n          parent.C = false;\n          grandpa.C = true;\n          RedBlackRotateRight(this, grandpa);\n        }\n      } else {\n        uncle = grandpa.L;\n\n        if (uncle && uncle.C) {\n          parent.C = uncle.C = false;\n          grandpa.C = true;\n          after = grandpa;\n        } else {\n          if (after === parent.L) {\n            RedBlackRotateRight(this, parent);\n            after = parent;\n            parent = after.U;\n          }\n\n          parent.C = false;\n          grandpa.C = true;\n          RedBlackRotateLeft(this, grandpa);\n        }\n      }\n\n      parent = after.U;\n    }\n\n    this._.C = false;\n  },\n  remove: function remove(node) {\n    if (node.N) node.N.P = node.P;\n    if (node.P) node.P.N = node.N;\n    node.N = node.P = null;\n    var parent = node.U,\n        sibling,\n        left = node.L,\n        right = node.R,\n        next,\n        red;\n    if (!left) next = right;else if (!right) next = left;else next = RedBlackFirst(right);\n\n    if (parent) {\n      if (parent.L === node) parent.L = next;else parent.R = next;\n    } else {\n      this._ = next;\n    }\n\n    if (left && right) {\n      red = next.C;\n      next.C = node.C;\n      next.L = left;\n      left.U = next;\n\n      if (next !== right) {\n        parent = next.U;\n        next.U = node.U;\n        node = next.R;\n        parent.L = node;\n        next.R = right;\n        right.U = next;\n      } else {\n        next.U = parent;\n        parent = next;\n        node = next.R;\n      }\n    } else {\n      red = node.C;\n      node = next;\n    }\n\n    if (node) node.U = parent;\n    if (red) return;\n\n    if (node && node.C) {\n      node.C = false;\n      return;\n    }\n\n    do {\n      if (node === this._) break;\n\n      if (node === parent.L) {\n        sibling = parent.R;\n\n        if (sibling.C) {\n          sibling.C = false;\n          parent.C = true;\n          RedBlackRotateLeft(this, parent);\n          sibling = parent.R;\n        }\n\n        if (sibling.L && sibling.L.C || sibling.R && sibling.R.C) {\n          if (!sibling.R || !sibling.R.C) {\n            sibling.L.C = false;\n            sibling.C = true;\n            RedBlackRotateRight(this, sibling);\n            sibling = parent.R;\n          }\n\n          sibling.C = parent.C;\n          parent.C = sibling.R.C = false;\n          RedBlackRotateLeft(this, parent);\n          node = this._;\n          break;\n        }\n      } else {\n        sibling = parent.L;\n\n        if (sibling.C) {\n          sibling.C = false;\n          parent.C = true;\n          RedBlackRotateRight(this, parent);\n          sibling = parent.L;\n        }\n\n        if (sibling.L && sibling.L.C || sibling.R && sibling.R.C) {\n          if (!sibling.L || !sibling.L.C) {\n            sibling.R.C = false;\n            sibling.C = true;\n            RedBlackRotateLeft(this, sibling);\n            sibling = parent.L;\n          }\n\n          sibling.C = parent.C;\n          parent.C = sibling.L.C = false;\n          RedBlackRotateRight(this, parent);\n          node = this._;\n          break;\n        }\n      }\n\n      sibling.C = true;\n      node = parent;\n      parent = parent.U;\n    } while (!node.C);\n\n    if (node) node.C = false;\n  }\n};\n\nfunction RedBlackRotateLeft(tree, node) {\n  var p = node,\n      q = node.R,\n      parent = p.U;\n\n  if (parent) {\n    if (parent.L === p) parent.L = q;else parent.R = q;\n  } else {\n    tree._ = q;\n  }\n\n  q.U = parent;\n  p.U = q;\n  p.R = q.L;\n  if (p.R) p.R.U = p;\n  q.L = p;\n}\n\nfunction RedBlackRotateRight(tree, node) {\n  var p = node,\n      q = node.L,\n      parent = p.U;\n\n  if (parent) {\n    if (parent.L === p) parent.L = q;else parent.R = q;\n  } else {\n    tree._ = q;\n  }\n\n  q.U = parent;\n  p.U = q;\n  p.L = q.R;\n  if (p.L) p.L.U = p;\n  q.R = p;\n}\n\nfunction RedBlackFirst(node) {\n  while (node.L) {\n    node = node.L;\n  }\n\n  return node;\n}\n\nfunction createEdge(left, right, v0, v1) {\n  var edge = [null, null],\n      index = edges.push(edge) - 1;\n  edge.left = left;\n  edge.right = right;\n  if (v0) setEdgeEnd(edge, left, right, v0);\n  if (v1) setEdgeEnd(edge, right, left, v1);\n  cells[left.index].halfedges.push(index);\n  cells[right.index].halfedges.push(index);\n  return edge;\n}\n\nfunction createBorderEdge(left, v0, v1) {\n  var edge = [v0, v1];\n  edge.left = left;\n  return edge;\n}\n\nfunction setEdgeEnd(edge, left, right, vertex) {\n  if (!edge[0] && !edge[1]) {\n    edge[0] = vertex;\n    edge.left = left;\n    edge.right = right;\n  } else if (edge.left === right) {\n    edge[1] = vertex;\n  } else {\n    edge[0] = vertex;\n  }\n} // LiangBarsky line clipping.\n\n\nfunction clipEdge(edge, x0, y0, x1, y1) {\n  var a = edge[0],\n      b = edge[1],\n      ax = a[0],\n      ay = a[1],\n      bx = b[0],\n      by = b[1],\n      t0 = 0,\n      t1 = 1,\n      dx = bx - ax,\n      dy = by - ay,\n      r;\n  r = x0 - ax;\n  if (!dx && r > 0) return;\n  r /= dx;\n\n  if (dx < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dx > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = x1 - ax;\n  if (!dx && r < 0) return;\n  r /= dx;\n\n  if (dx < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dx > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  r = y0 - ay;\n  if (!dy && r > 0) return;\n  r /= dy;\n\n  if (dy < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dy > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = y1 - ay;\n  if (!dy && r < 0) return;\n  r /= dy;\n\n  if (dy < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dy > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  if (!(t0 > 0) && !(t1 < 1)) return true; // TODO Better check?\n\n  if (t0 > 0) edge[0] = [ax + t0 * dx, ay + t0 * dy];\n  if (t1 < 1) edge[1] = [ax + t1 * dx, ay + t1 * dy];\n  return true;\n}\n\nfunction connectEdge(edge, x0, y0, x1, y1) {\n  var v1 = edge[1];\n  if (v1) return true;\n  var v0 = edge[0],\n      left = edge.left,\n      right = edge.right,\n      lx = left[0],\n      ly = left[1],\n      rx = right[0],\n      ry = right[1],\n      fx = (lx + rx) / 2,\n      fy = (ly + ry) / 2,\n      fm,\n      fb;\n\n  if (ry === ly) {\n    if (fx < x0 || fx >= x1) return;\n\n    if (lx > rx) {\n      if (!v0) v0 = [fx, y0];else if (v0[1] >= y1) return;\n      v1 = [fx, y1];\n    } else {\n      if (!v0) v0 = [fx, y1];else if (v0[1] < y0) return;\n      v1 = [fx, y0];\n    }\n  } else {\n    fm = (lx - rx) / (ry - ly);\n    fb = fy - fm * fx;\n\n    if (fm < -1 || fm > 1) {\n      if (lx > rx) {\n        if (!v0) v0 = [(y0 - fb) / fm, y0];else if (v0[1] >= y1) return;\n        v1 = [(y1 - fb) / fm, y1];\n      } else {\n        if (!v0) v0 = [(y1 - fb) / fm, y1];else if (v0[1] < y0) return;\n        v1 = [(y0 - fb) / fm, y0];\n      }\n    } else {\n      if (ly < ry) {\n        if (!v0) v0 = [x0, fm * x0 + fb];else if (v0[0] >= x1) return;\n        v1 = [x1, fm * x1 + fb];\n      } else {\n        if (!v0) v0 = [x1, fm * x1 + fb];else if (v0[0] < x0) return;\n        v1 = [x0, fm * x0 + fb];\n      }\n    }\n  }\n\n  edge[0] = v0;\n  edge[1] = v1;\n  return true;\n}\n\nfunction clipEdges(x0, y0, x1, y1) {\n  var i = edges.length,\n      edge;\n\n  while (i--) {\n    if (!connectEdge(edge = edges[i], x0, y0, x1, y1) || !clipEdge(edge, x0, y0, x1, y1) || !(Math.abs(edge[0][0] - edge[1][0]) > epsilon || Math.abs(edge[0][1] - edge[1][1]) > epsilon)) {\n      delete edges[i];\n    }\n  }\n}\n\nfunction createCell(site) {\n  return cells[site.index] = {\n    site: site,\n    halfedges: []\n  };\n}\n\nfunction cellHalfedgeAngle(cell, edge) {\n  var site = cell.site,\n      va = edge.left,\n      vb = edge.right;\n  if (site === vb) vb = va, va = site;\n  if (vb) return Math.atan2(vb[1] - va[1], vb[0] - va[0]);\n  if (site === va) va = edge[1], vb = edge[0];else va = edge[0], vb = edge[1];\n  return Math.atan2(va[0] - vb[0], vb[1] - va[1]);\n}\n\nfunction cellHalfedgeStart(cell, edge) {\n  return edge[+(edge.left !== cell.site)];\n}\n\nfunction cellHalfedgeEnd(cell, edge) {\n  return edge[+(edge.left === cell.site)];\n}\n\nfunction sortCellHalfedges() {\n  for (var i = 0, n = cells.length, cell, halfedges, j, m; i < n; ++i) {\n    if ((cell = cells[i]) && (m = (halfedges = cell.halfedges).length)) {\n      var index = new Array(m),\n          array = new Array(m);\n\n      for (j = 0; j < m; ++j) {\n        index[j] = j, array[j] = cellHalfedgeAngle(cell, edges[halfedges[j]]);\n      }\n\n      index.sort(function (i, j) {\n        return array[j] - array[i];\n      });\n\n      for (j = 0; j < m; ++j) {\n        array[j] = halfedges[index[j]];\n      }\n\n      for (j = 0; j < m; ++j) {\n        halfedges[j] = array[j];\n      }\n    }\n  }\n}\n\nfunction clipCells(x0, y0, x1, y1) {\n  var nCells = cells.length,\n      iCell,\n      cell,\n      site,\n      iHalfedge,\n      halfedges,\n      nHalfedges,\n      start,\n      startX,\n      startY,\n      end,\n      endX,\n      endY,\n      cover = true;\n\n  for (iCell = 0; iCell < nCells; ++iCell) {\n    if (cell = cells[iCell]) {\n      site = cell.site;\n      halfedges = cell.halfedges;\n      iHalfedge = halfedges.length; // Remove any dangling clipped edges.\n\n      while (iHalfedge--) {\n        if (!edges[halfedges[iHalfedge]]) {\n          halfedges.splice(iHalfedge, 1);\n        }\n      } // Insert any border edges as necessary.\n\n\n      iHalfedge = 0, nHalfedges = halfedges.length;\n\n      while (iHalfedge < nHalfedges) {\n        end = cellHalfedgeEnd(cell, edges[halfedges[iHalfedge]]), endX = end[0], endY = end[1];\n        start = cellHalfedgeStart(cell, edges[halfedges[++iHalfedge % nHalfedges]]), startX = start[0], startY = start[1];\n\n        if (Math.abs(endX - startX) > epsilon || Math.abs(endY - startY) > epsilon) {\n          halfedges.splice(iHalfedge, 0, edges.push(createBorderEdge(site, end, Math.abs(endX - x0) < epsilon && y1 - endY > epsilon ? [x0, Math.abs(startX - x0) < epsilon ? startY : y1] : Math.abs(endY - y1) < epsilon && x1 - endX > epsilon ? [Math.abs(startY - y1) < epsilon ? startX : x1, y1] : Math.abs(endX - x1) < epsilon && endY - y0 > epsilon ? [x1, Math.abs(startX - x1) < epsilon ? startY : y0] : Math.abs(endY - y0) < epsilon && endX - x0 > epsilon ? [Math.abs(startY - y0) < epsilon ? startX : x0, y0] : null)) - 1);\n          ++nHalfedges;\n        }\n      }\n\n      if (nHalfedges) cover = false;\n    }\n  } // If there werent any edges, have the closest site cover the extent.\n  // It doesnt matter which corner of the extent we measure!\n\n\n  if (cover) {\n    var dx,\n        dy,\n        d2,\n        dc = Infinity;\n\n    for (iCell = 0, cover = null; iCell < nCells; ++iCell) {\n      if (cell = cells[iCell]) {\n        site = cell.site;\n        dx = site[0] - x0;\n        dy = site[1] - y0;\n        d2 = dx * dx + dy * dy;\n        if (d2 < dc) dc = d2, cover = cell;\n      }\n    }\n\n    if (cover) {\n      var v00 = [x0, y0],\n          v01 = [x0, y1],\n          v11 = [x1, y1],\n          v10 = [x1, y0];\n      cover.halfedges.push(edges.push(createBorderEdge(site = cover.site, v00, v01)) - 1, edges.push(createBorderEdge(site, v01, v11)) - 1, edges.push(createBorderEdge(site, v11, v10)) - 1, edges.push(createBorderEdge(site, v10, v00)) - 1);\n    }\n  } // Lastly delete any cells with no edges; these were entirely clipped.\n\n\n  for (iCell = 0; iCell < nCells; ++iCell) {\n    if (cell = cells[iCell]) {\n      if (!cell.halfedges.length) {\n        delete cells[iCell];\n      }\n    }\n  }\n}\n\nvar circlePool = [];\nvar firstCircle;\n\nfunction Circle() {\n  RedBlackNode(this);\n  this.x = this.y = this.arc = this.site = this.cy = null;\n}\n\nfunction attachCircle(arc) {\n  var lArc = arc.P,\n      rArc = arc.N;\n  if (!lArc || !rArc) return;\n  var lSite = lArc.site,\n      cSite = arc.site,\n      rSite = rArc.site;\n  if (lSite === rSite) return;\n  var bx = cSite[0],\n      by = cSite[1],\n      ax = lSite[0] - bx,\n      ay = lSite[1] - by,\n      cx = rSite[0] - bx,\n      cy = rSite[1] - by;\n  var d = 2 * (ax * cy - ay * cx);\n  if (d >= -epsilon2) return;\n  var ha = ax * ax + ay * ay,\n      hc = cx * cx + cy * cy,\n      x = (cy * ha - ay * hc) / d,\n      y = (ax * hc - cx * ha) / d;\n  var circle = circlePool.pop() || new Circle();\n  circle.arc = arc;\n  circle.site = cSite;\n  circle.x = x + bx;\n  circle.y = (circle.cy = y + by) + Math.sqrt(x * x + y * y); // y bottom\n\n  arc.circle = circle;\n  var before = null,\n      node = circles._;\n\n  while (node) {\n    if (circle.y < node.y || circle.y === node.y && circle.x <= node.x) {\n      if (node.L) node = node.L;else {\n        before = node.P;\n        break;\n      }\n    } else {\n      if (node.R) node = node.R;else {\n        before = node;\n        break;\n      }\n    }\n  }\n\n  circles.insert(before, circle);\n  if (!before) firstCircle = circle;\n}\n\nfunction detachCircle(arc) {\n  var circle = arc.circle;\n\n  if (circle) {\n    if (!circle.P) firstCircle = circle.N;\n    circles.remove(circle);\n    circlePool.push(circle);\n    RedBlackNode(circle);\n    arc.circle = null;\n  }\n}\n\nvar beachPool = [];\n\nfunction Beach() {\n  RedBlackNode(this);\n  this.edge = this.site = this.circle = null;\n}\n\nfunction createBeach(site) {\n  var beach = beachPool.pop() || new Beach();\n  beach.site = site;\n  return beach;\n}\n\nfunction detachBeach(beach) {\n  detachCircle(beach);\n  beaches.remove(beach);\n  beachPool.push(beach);\n  RedBlackNode(beach);\n}\n\nfunction removeBeach(beach) {\n  var circle = beach.circle,\n      x = circle.x,\n      y = circle.cy,\n      vertex = [x, y],\n      previous = beach.P,\n      next = beach.N,\n      disappearing = [beach];\n  detachBeach(beach);\n  var lArc = previous;\n\n  while (lArc.circle && Math.abs(x - lArc.circle.x) < epsilon && Math.abs(y - lArc.circle.cy) < epsilon) {\n    previous = lArc.P;\n    disappearing.unshift(lArc);\n    detachBeach(lArc);\n    lArc = previous;\n  }\n\n  disappearing.unshift(lArc);\n  detachCircle(lArc);\n  var rArc = next;\n\n  while (rArc.circle && Math.abs(x - rArc.circle.x) < epsilon && Math.abs(y - rArc.circle.cy) < epsilon) {\n    next = rArc.N;\n    disappearing.push(rArc);\n    detachBeach(rArc);\n    rArc = next;\n  }\n\n  disappearing.push(rArc);\n  detachCircle(rArc);\n  var nArcs = disappearing.length,\n      iArc;\n\n  for (iArc = 1; iArc < nArcs; ++iArc) {\n    rArc = disappearing[iArc];\n    lArc = disappearing[iArc - 1];\n    setEdgeEnd(rArc.edge, lArc.site, rArc.site, vertex);\n  }\n\n  lArc = disappearing[0];\n  rArc = disappearing[nArcs - 1];\n  rArc.edge = createEdge(lArc.site, rArc.site, null, vertex);\n  attachCircle(lArc);\n  attachCircle(rArc);\n}\n\nfunction addBeach(site) {\n  var x = site[0],\n      directrix = site[1],\n      lArc,\n      rArc,\n      dxl,\n      dxr,\n      node = beaches._;\n\n  while (node) {\n    dxl = leftBreakPoint(node, directrix) - x;\n    if (dxl > epsilon) node = node.L;else {\n      dxr = x - rightBreakPoint(node, directrix);\n\n      if (dxr > epsilon) {\n        if (!node.R) {\n          lArc = node;\n          break;\n        }\n\n        node = node.R;\n      } else {\n        if (dxl > -epsilon) {\n          lArc = node.P;\n          rArc = node;\n        } else if (dxr > -epsilon) {\n          lArc = node;\n          rArc = node.N;\n        } else {\n          lArc = rArc = node;\n        }\n\n        break;\n      }\n    }\n  }\n\n  createCell(site);\n  var newArc = createBeach(site);\n  beaches.insert(lArc, newArc);\n  if (!lArc && !rArc) return;\n\n  if (lArc === rArc) {\n    detachCircle(lArc);\n    rArc = createBeach(lArc.site);\n    beaches.insert(newArc, rArc);\n    newArc.edge = rArc.edge = createEdge(lArc.site, newArc.site);\n    attachCircle(lArc);\n    attachCircle(rArc);\n    return;\n  }\n\n  if (!rArc) {\n    // && lArc\n    newArc.edge = createEdge(lArc.site, newArc.site);\n    return;\n  } // else lArc !== rArc\n\n\n  detachCircle(lArc);\n  detachCircle(rArc);\n  var lSite = lArc.site,\n      ax = lSite[0],\n      ay = lSite[1],\n      bx = site[0] - ax,\n      by = site[1] - ay,\n      rSite = rArc.site,\n      cx = rSite[0] - ax,\n      cy = rSite[1] - ay,\n      d = 2 * (bx * cy - by * cx),\n      hb = bx * bx + by * by,\n      hc = cx * cx + cy * cy,\n      vertex = [(cy * hb - by * hc) / d + ax, (bx * hc - cx * hb) / d + ay];\n  setEdgeEnd(rArc.edge, lSite, rSite, vertex);\n  newArc.edge = createEdge(lSite, site, null, vertex);\n  rArc.edge = createEdge(site, rSite, null, vertex);\n  attachCircle(lArc);\n  attachCircle(rArc);\n}\n\nfunction leftBreakPoint(arc, directrix) {\n  var site = arc.site,\n      rfocx = site[0],\n      rfocy = site[1],\n      pby2 = rfocy - directrix;\n  if (!pby2) return rfocx;\n  var lArc = arc.P;\n  if (!lArc) return -Infinity;\n  site = lArc.site;\n  var lfocx = site[0],\n      lfocy = site[1],\n      plby2 = lfocy - directrix;\n  if (!plby2) return lfocx;\n  var hl = lfocx - rfocx,\n      aby2 = 1 / pby2 - 1 / plby2,\n      b = hl / plby2;\n  if (aby2) return (-b + Math.sqrt(b * b - 2 * aby2 * (hl * hl / (-2 * plby2) - lfocy + plby2 / 2 + rfocy - pby2 / 2))) / aby2 + rfocx;\n  return (rfocx + lfocx) / 2;\n}\n\nfunction rightBreakPoint(arc, directrix) {\n  var rArc = arc.N;\n  if (rArc) return leftBreakPoint(rArc, directrix);\n  var site = arc.site;\n  return site[1] === directrix ? site[0] : Infinity;\n}\n\nvar epsilon = 1e-6;\nvar epsilon2 = 1e-12;\nvar beaches;\nvar cells;\nvar circles;\nvar edges;\n\nfunction triangleArea(a, b, c) {\n  return (a[0] - c[0]) * (b[1] - a[1]) - (a[0] - b[0]) * (c[1] - a[1]);\n}\n\nfunction lexicographic(a, b) {\n  return b[1] - a[1] || b[0] - a[0];\n}\n\nfunction Diagram(sites, extent) {\n  var site = sites.sort(lexicographic).pop(),\n      x,\n      y,\n      circle;\n  edges = [];\n  cells = new Array(sites.length);\n  beaches = new RedBlackTree();\n  circles = new RedBlackTree();\n\n  while (true) {\n    circle = firstCircle;\n\n    if (site && (!circle || site[1] < circle.y || site[1] === circle.y && site[0] < circle.x)) {\n      if (site[0] !== x || site[1] !== y) {\n        addBeach(site);\n        x = site[0], y = site[1];\n      }\n\n      site = sites.pop();\n    } else if (circle) {\n      removeBeach(circle.arc);\n    } else {\n      break;\n    }\n  }\n\n  sortCellHalfedges();\n\n  if (extent) {\n    var x0 = +extent[0][0],\n        y0 = +extent[0][1],\n        x1 = +extent[1][0],\n        y1 = +extent[1][1];\n    clipEdges(x0, y0, x1, y1);\n    clipCells(x0, y0, x1, y1);\n  }\n\n  this.edges = edges;\n  this.cells = cells;\n  beaches = circles = edges = cells = null;\n}\n\nDiagram.prototype = {\n  constructor: Diagram,\n  polygons: function polygons() {\n    var edges = this.edges;\n    return this.cells.map(function (cell) {\n      var polygon = cell.halfedges.map(function (i) {\n        return cellHalfedgeStart(cell, edges[i]);\n      });\n      polygon.data = cell.site.data;\n      return polygon;\n    });\n  },\n  triangles: function triangles() {\n    var triangles = [],\n        edges = this.edges;\n    this.cells.forEach(function (cell, i) {\n      if (!(m = (halfedges = cell.halfedges).length)) return;\n      var site = cell.site,\n          halfedges,\n          j = -1,\n          m,\n          s0,\n          e1 = edges[halfedges[m - 1]],\n          s1 = e1.left === site ? e1.right : e1.left;\n\n      while (++j < m) {\n        s0 = s1;\n        e1 = edges[halfedges[j]];\n        s1 = e1.left === site ? e1.right : e1.left;\n\n        if (s0 && s1 && i < s0.index && i < s1.index && triangleArea(site, s0, s1) < 0) {\n          triangles.push([site.data, s0.data, s1.data]);\n        }\n      }\n    });\n    return triangles;\n  },\n  links: function links() {\n    return this.edges.filter(function (edge) {\n      return edge.right;\n    }).map(function (edge) {\n      return {\n        source: edge.left.data,\n        target: edge.right.data\n      };\n    });\n  },\n  find: function find(x, y, radius) {\n    var that = this,\n        i0,\n        i1 = that._found || 0,\n        n = that.cells.length,\n        cell; // Use the previously-found cell, or start with an arbitrary one.\n\n    while (!(cell = that.cells[i1])) {\n      if (++i1 >= n) return null;\n    }\n\n    var dx = x - cell.site[0],\n        dy = y - cell.site[1],\n        d2 = dx * dx + dy * dy; // Traverse the half-edges to find a closer cell, if any.\n\n    do {\n      cell = that.cells[i0 = i1], i1 = null;\n      cell.halfedges.forEach(function (e) {\n        var edge = that.edges[e],\n            v = edge.left;\n        if ((v === cell.site || !v) && !(v = edge.right)) return;\n        var vx = x - v[0],\n            vy = y - v[1],\n            v2 = vx * vx + vy * vy;\n        if (v2 < d2) d2 = v2, i1 = v.index;\n      });\n    } while (i1 !== null);\n\n    that._found = i0;\n    return radius == null || d2 <= radius * radius ? cell.site : null;\n  }\n};\n\nfunction voronoi() {\n  var x$1 = x,\n      y$1 = y,\n      extent = null;\n\n  function voronoi(data) {\n    return new Diagram(data.map(function (d, i) {\n      var s = [Math.round(x$1(d, i, data) / epsilon) * epsilon, Math.round(y$1(d, i, data) / epsilon) * epsilon];\n      s.index = i;\n      s.data = d;\n      return s;\n    }), extent);\n  }\n\n  voronoi.polygons = function (data) {\n    return voronoi(data).polygons();\n  };\n\n  voronoi.links = function (data) {\n    return voronoi(data).links();\n  };\n\n  voronoi.triangles = function (data) {\n    return voronoi(data).triangles();\n  };\n\n  voronoi.x = function (_) {\n    return arguments.length ? (x$1 = typeof _ === \"function\" ? _ : constant(+_), voronoi) : x$1;\n  };\n\n  voronoi.y = function (_) {\n    return arguments.length ? (y$1 = typeof _ === \"function\" ? _ : constant(+_), voronoi) : y$1;\n  };\n\n  voronoi.extent = function (_) {\n    return arguments.length ? (extent = _ == null ? null : [[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]], voronoi) : extent && [[extent[0][0], extent[0][1]], [extent[1][0], extent[1][1]]];\n  };\n\n  voronoi.size = function (_) {\n    return arguments.length ? (extent = _ == null ? null : [[0, 0], [+_[0], +_[1]]], voronoi) : extent && [extent[1][0] - extent[0][0], extent[1][1] - extent[0][1]];\n  };\n\n  return voronoi;\n}\n\nvar pi = Math.PI,\n    tau = 2 * pi,\n    epsilon$1 = 1e-6,\n    tauEpsilon = tau - epsilon$1;\n\nfunction Path() {\n  this._x0 = this._y0 = // start of current subpath\n  this._x1 = this._y1 = null; // end of current subpath\n\n  this._ = \"\";\n}\n\nfunction path() {\n  return new Path();\n}\n\nPath.prototype = path.prototype = {\n  constructor: Path,\n  moveTo: function moveTo(x, y) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y);\n  },\n  closePath: function closePath() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  },\n  lineTo: function lineTo(x, y) {\n    this._ += \"L\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  quadraticCurveTo: function quadraticCurveTo(x1, y1, x, y) {\n    this._ += \"Q\" + +x1 + \",\" + +y1 + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  bezierCurveTo: function bezierCurveTo(x1, y1, x2, y2, x, y) {\n    this._ += \"C\" + +x1 + \",\" + +y1 + \",\" + +x2 + \",\" + +y2 + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  arcTo: function arcTo(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n    var x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01; // Is the radius negative? Error.\n\n    if (r < 0) throw new Error(\"negative radius: \" + r); // Is this path empty? Move to (x1,y1).\n\n    if (this._x1 === null) {\n      this._ += \"M\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    } // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon$1)) ; // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n      // Equivalently, is (x1,y1) coincident with (x2,y2)?\n      // Or, is the radius zero? Line to (x1,y1).\n      else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon$1) || !r) {\n          this._ += \"L\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n        } // Otherwise, draw an arc!\n        else {\n            var x20 = x2 - x0,\n                y20 = y2 - y0,\n                l21_2 = x21 * x21 + y21 * y21,\n                l20_2 = x20 * x20 + y20 * y20,\n                l21 = Math.sqrt(l21_2),\n                l01 = Math.sqrt(l01_2),\n                l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n                t01 = l / l01,\n                t21 = l / l21; // If the start tangent is not coincident with (x0,y0), line to.\n\n            if (Math.abs(t01 - 1) > epsilon$1) {\n              this._ += \"L\" + (x1 + t01 * x01) + \",\" + (y1 + t01 * y01);\n            }\n\n            this._ += \"A\" + r + \",\" + r + \",0,0,\" + +(y01 * x20 > x01 * y20) + \",\" + (this._x1 = x1 + t21 * x21) + \",\" + (this._y1 = y1 + t21 * y21);\n          }\n  },\n  arc: function arc(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r;\n    var dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0; // Is the radius negative? Error.\n\n    if (r < 0) throw new Error(\"negative radius: \" + r); // Is this path empty? Move to (x0,y0).\n\n    if (this._x1 === null) {\n      this._ += \"M\" + x0 + \",\" + y0;\n    } // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon$1 || Math.abs(this._y1 - y0) > epsilon$1) {\n        this._ += \"L\" + x0 + \",\" + y0;\n      } // Is this arc empty? Were done.\n\n\n    if (!r) return; // Does the angle go the wrong way? Flip the direction.\n\n    if (da < 0) da = da % tau + tau; // Is this a complete circle? Draw two arcs to complete the circle.\n\n    if (da > tauEpsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (x - dx) + \",\" + (y - dy) + \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (this._x1 = x0) + \",\" + (this._y1 = y0);\n    } // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon$1) {\n        this._ += \"A\" + r + \",\" + r + \",0,\" + +(da >= pi) + \",\" + cw + \",\" + (this._x1 = x + r * Math.cos(a1)) + \",\" + (this._y1 = y + r * Math.sin(a1));\n      }\n  },\n  rect: function rect(x, y, w, h) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y) + \"h\" + +w + \"v\" + +h + \"h\" + -w + \"Z\";\n  },\n  toString: function toString() {\n    return this._;\n  }\n};\n\nfunction constant$1(x) {\n  return function constant() {\n    return x;\n  };\n}\n\nvar epsilon$2 = 1e-12;\nvar pi$1 = Math.PI;\n\nfunction Linear(context) {\n  this._context = context;\n}\n\nLinear.prototype = {\n  areaStart: function areaStart() {\n    this._line = 0;\n  },\n  areaEnd: function areaEnd() {\n    this._line = NaN;\n  },\n  lineStart: function lineStart() {\n    this._point = 0;\n  },\n  lineEnd: function lineEnd() {\n    if (this._line || this._line !== 0 && this._point === 1) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function point(x, y) {\n    x = +x, y = +y;\n\n    switch (this._point) {\n      case 0:\n        this._point = 1;\n        this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y);\n        break;\n\n      case 1:\n        this._point = 2;\n      // proceed\n\n      default:\n        this._context.lineTo(x, y);\n\n        break;\n    }\n  }\n};\n\nfunction curveLinear(context) {\n  return new Linear(context);\n}\n\nfunction x$1(p) {\n  return p[0];\n}\n\nfunction y$1(p) {\n  return p[1];\n}\n\nfunction line() {\n  var x = x$1,\n      y = y$1,\n      defined = constant$1(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function line(data) {\n    var i,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer;\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) output.lineStart();else output.lineEnd();\n      }\n\n      if (defined0) output.point(+x(d, i, data), +y(d, i, data));\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  line.x = function (_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant$1(+_), line) : x;\n  };\n\n  line.y = function (_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant$1(+_), line) : y;\n  };\n\n  line.defined = function (_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant$1(!!_), line) : defined;\n  };\n\n  line.curve = function (_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n  };\n\n  line.context = function (_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n  };\n\n  return line;\n}\n\nfunction area() {\n  var x0 = x$1,\n      x1 = null,\n      y0 = constant$1(0),\n      y1 = y$1,\n      defined = constant$1(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function area(data) {\n    var i,\n        j,\n        k,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer,\n        x0z = new Array(n),\n        y0z = new Array(n);\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) {\n          j = i;\n          output.areaStart();\n          output.lineStart();\n        } else {\n          output.lineEnd();\n          output.lineStart();\n\n          for (k = i - 1; k >= j; --k) {\n            output.point(x0z[k], y0z[k]);\n          }\n\n          output.lineEnd();\n          output.areaEnd();\n        }\n      }\n\n      if (defined0) {\n        x0z[i] = +x0(d, i, data), y0z[i] = +y0(d, i, data);\n        output.point(x1 ? +x1(d, i, data) : x0z[i], y1 ? +y1(d, i, data) : y0z[i]);\n      }\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  function arealine() {\n    return line().defined(defined).curve(curve).context(context);\n  }\n\n  area.x = function (_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant$1(+_), x1 = null, area) : x0;\n  };\n\n  area.x0 = function (_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant$1(+_), area) : x0;\n  };\n\n  area.x1 = function (_) {\n    return arguments.length ? (x1 = _ == null ? null : typeof _ === \"function\" ? _ : constant$1(+_), area) : x1;\n  };\n\n  area.y = function (_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant$1(+_), y1 = null, area) : y0;\n  };\n\n  area.y0 = function (_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant$1(+_), area) : y0;\n  };\n\n  area.y1 = function (_) {\n    return arguments.length ? (y1 = _ == null ? null : typeof _ === \"function\" ? _ : constant$1(+_), area) : y1;\n  };\n\n  area.lineX0 = area.lineY0 = function () {\n    return arealine().x(x0).y(y0);\n  };\n\n  area.lineY1 = function () {\n    return arealine().x(x0).y(y1);\n  };\n\n  area.lineX1 = function () {\n    return arealine().x(x1).y(y0);\n  };\n\n  area.defined = function (_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant$1(!!_), area) : defined;\n  };\n\n  area.curve = function (_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), area) : curve;\n  };\n\n  area.context = function (_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), area) : context;\n  };\n\n  return area;\n}\n\nfunction noop() {}\n\nfunction _point(that, x, y) {\n  that._context.bezierCurveTo((2 * that._x0 + that._x1) / 3, (2 * that._y0 + that._y1) / 3, (that._x0 + 2 * that._x1) / 3, (that._y0 + 2 * that._y1) / 3, (that._x0 + 4 * that._x1 + x) / 6, (that._y0 + 4 * that._y1 + y) / 6);\n}\n\nfunction Basis(context) {\n  this._context = context;\n}\n\nBasis.prototype = {\n  areaStart: function areaStart() {\n    this._line = 0;\n  },\n  areaEnd: function areaEnd() {\n    this._line = NaN;\n  },\n  lineStart: function lineStart() {\n    this._x0 = this._x1 = this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function lineEnd() {\n    switch (this._point) {\n      case 3:\n        _point(this, this._x1, this._y1);\n\n      // proceed\n\n      case 2:\n        this._context.lineTo(this._x1, this._y1);\n\n        break;\n    }\n\n    if (this._line || this._line !== 0 && this._point === 1) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function point(x, y) {\n    x = +x, y = +y;\n\n    switch (this._point) {\n      case 0:\n        this._point = 1;\n        this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y);\n        break;\n\n      case 1:\n        this._point = 2;\n        break;\n\n      case 2:\n        this._point = 3;\n\n        this._context.lineTo((5 * this._x0 + this._x1) / 6, (5 * this._y0 + this._y1) / 6);\n\n      // proceed\n\n      default:\n        _point(this, x, y);\n\n        break;\n    }\n\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nfunction basis(context) {\n  return new Basis(context);\n}\n\nfunction BasisClosed(context) {\n  this._context = context;\n}\n\nBasisClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function lineStart() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function lineEnd() {\n    switch (this._point) {\n      case 1:\n        {\n          this._context.moveTo(this._x2, this._y2);\n\n          this._context.closePath();\n\n          break;\n        }\n\n      case 2:\n        {\n          this._context.moveTo((this._x2 + 2 * this._x3) / 3, (this._y2 + 2 * this._y3) / 3);\n\n          this._context.lineTo((this._x3 + 2 * this._x2) / 3, (this._y3 + 2 * this._y2) / 3);\n\n          this._context.closePath();\n\n          break;\n        }\n\n      case 3:\n        {\n          this.point(this._x2, this._y2);\n          this.point(this._x3, this._y3);\n          this.point(this._x4, this._y4);\n          break;\n        }\n    }\n  },\n  point: function point(x, y) {\n    x = +x, y = +y;\n\n    switch (this._point) {\n      case 0:\n        this._point = 1;\n        this._x2 = x, this._y2 = y;\n        break;\n\n      case 1:\n        this._point = 2;\n        this._x3 = x, this._y3 = y;\n        break;\n\n      case 2:\n        this._point = 3;\n        this._x4 = x, this._y4 = y;\n\n        this._context.moveTo((this._x0 + 4 * this._x1 + x) / 6, (this._y0 + 4 * this._y1 + y) / 6);\n\n        break;\n\n      default:\n        _point(this, x, y);\n\n        break;\n    }\n\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nfunction basisClosed(context) {\n  return new BasisClosed(context);\n}\n\nfunction BasisOpen(context) {\n  this._context = context;\n}\n\nBasisOpen.prototype = {\n  areaStart: function areaStart() {\n    this._line = 0;\n  },\n  areaEnd: function areaEnd() {\n    this._line = NaN;\n  },\n  lineStart: function lineStart() {\n    this._x0 = this._x1 = this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function lineEnd() {\n    if (this._line || this._line !== 0 && this._point === 3) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function point(x, y) {\n    x = +x, y = +y;\n\n    switch (this._point) {\n      case 0:\n        this._point = 1;\n        break;\n\n      case 1:\n        this._point = 2;\n        break;\n\n      case 2:\n        this._point = 3;\n        var x0 = (this._x0 + 4 * this._x1 + x) / 6,\n            y0 = (this._y0 + 4 * this._y1 + y) / 6;\n        this._line ? this._context.lineTo(x0, y0) : this._context.moveTo(x0, y0);\n        break;\n\n      case 3:\n        this._point = 4;\n      // proceed\n\n      default:\n        _point(this, x, y);\n\n        break;\n    }\n\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nfunction basisOpen(context) {\n  return new BasisOpen(context);\n}\n\nfunction Bundle(context, beta) {\n  this._basis = new Basis(context);\n  this._beta = beta;\n}\n\nBundle.prototype = {\n  lineStart: function lineStart() {\n    this._x = [];\n    this._y = [];\n\n    this._basis.lineStart();\n  },\n  lineEnd: function lineEnd() {\n    var x = this._x,\n        y = this._y,\n        j = x.length - 1;\n\n    if (j > 0) {\n      var x0 = x[0],\n          y0 = y[0],\n          dx = x[j] - x0,\n          dy = y[j] - y0,\n          i = -1,\n          t;\n\n      while (++i <= j) {\n        t = i / j;\n\n        this._basis.point(this._beta * x[i] + (1 - this._beta) * (x0 + t * dx), this._beta * y[i] + (1 - this._beta) * (y0 + t * dy));\n      }\n    }\n\n    this._x = this._y = null;\n\n    this._basis.lineEnd();\n  },\n  point: function point(x, y) {\n    this._x.push(+x);\n\n    this._y.push(+y);\n  }\n};\n\nvar bundle = function custom(beta) {\n  function bundle(context) {\n    return beta === 1 ? new Basis(context) : new Bundle(context, beta);\n  }\n\n  bundle.beta = function (beta) {\n    return custom(+beta);\n  };\n\n  return bundle;\n}(0.85);\n\nfunction point$1(that, x, y) {\n  that._context.bezierCurveTo(that._x1 + that._k * (that._x2 - that._x0), that._y1 + that._k * (that._y2 - that._y0), that._x2 + that._k * (that._x1 - x), that._y2 + that._k * (that._y1 - y), that._x2, that._y2);\n}\n\nfunction Cardinal(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinal.prototype = {\n  areaStart: function areaStart() {\n    this._line = 0;\n  },\n  areaEnd: function areaEnd() {\n    this._line = NaN;\n  },\n  lineStart: function lineStart() {\n    this._x0 = this._x1 = this._x2 = this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function lineEnd() {\n    switch (this._point) {\n      case 2:\n        this._context.lineTo(this._x2, this._y2);\n\n        break;\n\n      case 3:\n        point$1(this, this._x1, this._y1);\n        break;\n    }\n\n    if (this._line || this._line !== 0 && this._point === 1) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function point(x, y) {\n    x = +x, y = +y;\n\n    switch (this._point) {\n      case 0:\n        this._point = 1;\n        this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y);\n        break;\n\n      case 1:\n        this._point = 2;\n        this._x1 = x, this._y1 = y;\n        break;\n\n      case 2:\n        this._point = 3;\n      // proceed\n\n      default:\n        point$1(this, x, y);\n        break;\n    }\n\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nvar cardinal = function custom(tension) {\n  function cardinal(context) {\n    return new Cardinal(context, tension);\n  }\n\n  cardinal.tension = function (tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n}(0);\n\nfunction CardinalClosed(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function lineStart() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 = this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function lineEnd() {\n    switch (this._point) {\n      case 1:\n        {\n          this._context.moveTo(this._x3, this._y3);\n\n          this._context.closePath();\n\n          break;\n        }\n\n      case 2:\n        {\n          this._context.lineTo(this._x3, this._y3);\n\n          this._context.closePath();\n\n          break;\n        }\n\n      case 3:\n        {\n          this.point(this._x3, this._y3);\n          this.point(this._x4, this._y4);\n          this.point(this._x5, this._y5);\n          break;\n        }\n    }\n  },\n  point: function point(x, y) {\n    x = +x, y = +y;\n\n    switch (this._point) {\n      case 0:\n        this._point = 1;\n        this._x3 = x, this._y3 = y;\n        break;\n\n      case 1:\n        this._point = 2;\n\n        this._context.moveTo(this._x4 = x, this._y4 = y);\n\n        break;\n\n      case 2:\n        this._point = 3;\n        this._x5 = x, this._y5 = y;\n        break;\n\n      default:\n        point$1(this, x, y);\n        break;\n    }\n\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nvar cardinalClosed = function custom(tension) {\n  function cardinal(context) {\n    return new CardinalClosed(context, tension);\n  }\n\n  cardinal.tension = function (tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n}(0);\n\nfunction CardinalOpen(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalOpen.prototype = {\n  areaStart: function areaStart() {\n    this._line = 0;\n  },\n  areaEnd: function areaEnd() {\n    this._line = NaN;\n  },\n  lineStart: function lineStart() {\n    this._x0 = this._x1 = this._x2 = this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function lineEnd() {\n    if (this._line || this._line !== 0 && this._point === 3) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function point(x, y) {\n    x = +x, y = +y;\n\n    switch (this._point) {\n      case 0:\n        this._point = 1;\n        break;\n\n      case 1:\n        this._point = 2;\n        break;\n\n      case 2:\n        this._point = 3;\n        this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2);\n        break;\n\n      case 3:\n        this._point = 4;\n      // proceed\n\n      default:\n        point$1(this, x, y);\n        break;\n    }\n\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nvar cardinalOpen = function custom(tension) {\n  function cardinal(context) {\n    return new CardinalOpen(context, tension);\n  }\n\n  cardinal.tension = function (tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n}(0);\n\nfunction point$2(that, x, y) {\n  var x1 = that._x1,\n      y1 = that._y1,\n      x2 = that._x2,\n      y2 = that._y2;\n\n  if (that._l01_a > epsilon$2) {\n    var a = 2 * that._l01_2a + 3 * that._l01_a * that._l12_a + that._l12_2a,\n        n = 3 * that._l01_a * (that._l01_a + that._l12_a);\n    x1 = (x1 * a - that._x0 * that._l12_2a + that._x2 * that._l01_2a) / n;\n    y1 = (y1 * a - that._y0 * that._l12_2a + that._y2 * that._l01_2a) / n;\n  }\n\n  if (that._l23_a > epsilon$2) {\n    var b = 2 * that._l23_2a + 3 * that._l23_a * that._l12_a + that._l12_2a,\n        m = 3 * that._l23_a * (that._l23_a + that._l12_a);\n    x2 = (x2 * b + that._x1 * that._l23_2a - x * that._l12_2a) / m;\n    y2 = (y2 * b + that._y1 * that._l23_2a - y * that._l12_2a) / m;\n  }\n\n  that._context.bezierCurveTo(x1, y1, x2, y2, that._x2, that._y2);\n}\n\nfunction CatmullRom(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRom.prototype = {\n  areaStart: function areaStart() {\n    this._line = 0;\n  },\n  areaEnd: function areaEnd() {\n    this._line = NaN;\n  },\n  lineStart: function lineStart() {\n    this._x0 = this._x1 = this._x2 = this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a = this._l01_2a = this._l12_2a = this._l23_2a = this._point = 0;\n  },\n  lineEnd: function lineEnd() {\n    switch (this._point) {\n      case 2:\n        this._context.lineTo(this._x2, this._y2);\n\n        break;\n\n      case 3:\n        this.point(this._x2, this._y2);\n        break;\n    }\n\n    if (this._line || this._line !== 0 && this._point === 1) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function point(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0:\n        this._point = 1;\n        this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y);\n        break;\n\n      case 1:\n        this._point = 2;\n        break;\n\n      case 2:\n        this._point = 3;\n      // proceed\n\n      default:\n        point$2(this, x, y);\n        break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nvar catmullRom = function custom(alpha) {\n  function catmullRom(context) {\n    return alpha ? new CatmullRom(context, alpha) : new Cardinal(context, 0);\n  }\n\n  catmullRom.alpha = function (alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n}(0.5);\n\nfunction CatmullRomClosed(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function lineStart() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 = this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._l01_a = this._l12_a = this._l23_a = this._l01_2a = this._l12_2a = this._l23_2a = this._point = 0;\n  },\n  lineEnd: function lineEnd() {\n    switch (this._point) {\n      case 1:\n        {\n          this._context.moveTo(this._x3, this._y3);\n\n          this._context.closePath();\n\n          break;\n        }\n\n      case 2:\n        {\n          this._context.lineTo(this._x3, this._y3);\n\n          this._context.closePath();\n\n          break;\n        }\n\n      case 3:\n        {\n          this.point(this._x3, this._y3);\n          this.point(this._x4, this._y4);\n          this.point(this._x5, this._y5);\n          break;\n        }\n    }\n  },\n  point: function point(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0:\n        this._point = 1;\n        this._x3 = x, this._y3 = y;\n        break;\n\n      case 1:\n        this._point = 2;\n\n        this._context.moveTo(this._x4 = x, this._y4 = y);\n\n        break;\n\n      case 2:\n        this._point = 3;\n        this._x5 = x, this._y5 = y;\n        break;\n\n      default:\n        point$2(this, x, y);\n        break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nvar catmullRomClosed = function custom(alpha) {\n  function catmullRom(context) {\n    return alpha ? new CatmullRomClosed(context, alpha) : new CardinalClosed(context, 0);\n  }\n\n  catmullRom.alpha = function (alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n}(0.5);\n\nfunction CatmullRomOpen(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomOpen.prototype = {\n  areaStart: function areaStart() {\n    this._line = 0;\n  },\n  areaEnd: function areaEnd() {\n    this._line = NaN;\n  },\n  lineStart: function lineStart() {\n    this._x0 = this._x1 = this._x2 = this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a = this._l01_2a = this._l12_2a = this._l23_2a = this._point = 0;\n  },\n  lineEnd: function lineEnd() {\n    if (this._line || this._line !== 0 && this._point === 3) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function point(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0:\n        this._point = 1;\n        break;\n\n      case 1:\n        this._point = 2;\n        break;\n\n      case 2:\n        this._point = 3;\n        this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2);\n        break;\n\n      case 3:\n        this._point = 4;\n      // proceed\n\n      default:\n        point$2(this, x, y);\n        break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nvar catmullRomOpen = function custom(alpha) {\n  function catmullRom(context) {\n    return alpha ? new CatmullRomOpen(context, alpha) : new CardinalOpen(context, 0);\n  }\n\n  catmullRom.alpha = function (alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n}(0.5);\n\nfunction LinearClosed(context) {\n  this._context = context;\n}\n\nLinearClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function lineStart() {\n    this._point = 0;\n  },\n  lineEnd: function lineEnd() {\n    if (this._point) this._context.closePath();\n  },\n  point: function point(x, y) {\n    x = +x, y = +y;\n    if (this._point) this._context.lineTo(x, y);else this._point = 1, this._context.moveTo(x, y);\n  }\n};\n\nfunction linearClosed(context) {\n  return new LinearClosed(context);\n}\n\nfunction sign(x) {\n  return x < 0 ? -1 : 1;\n} // Calculate the slopes of the tangents (Hermite-type interpolation) based on\n// the following paper: Steffen, M. 1990. A Simple Method for Monotonic\n// Interpolation in One Dimension. Astronomy and Astrophysics, Vol. 239, NO.\n// NOV(II), P. 443, 1990.\n\n\nfunction slope3(that, x2, y2) {\n  var h0 = that._x1 - that._x0,\n      h1 = x2 - that._x1,\n      s0 = (that._y1 - that._y0) / (h0 || h1 < 0 && -0),\n      s1 = (y2 - that._y1) / (h1 || h0 < 0 && -0),\n      p = (s0 * h1 + s1 * h0) / (h0 + h1);\n  return (sign(s0) + sign(s1)) * Math.min(Math.abs(s0), Math.abs(s1), 0.5 * Math.abs(p)) || 0;\n} // Calculate a one-sided slope.\n\n\nfunction slope2(that, t) {\n  var h = that._x1 - that._x0;\n  return h ? (3 * (that._y1 - that._y0) / h - t) / 2 : t;\n} // According to https://en.wikipedia.org/wiki/Cubic_Hermite_spline#Representations\n// \"you can express cubic Hermite interpolation in terms of cubic Bzier curves\n// with respect to the four values p0, p0 + m0 / 3, p1 - m1 / 3, p1\".\n\n\nfunction point$3(that, t0, t1) {\n  var x0 = that._x0,\n      y0 = that._y0,\n      x1 = that._x1,\n      y1 = that._y1,\n      dx = (x1 - x0) / 3;\n\n  that._context.bezierCurveTo(x0 + dx, y0 + dx * t0, x1 - dx, y1 - dx * t1, x1, y1);\n}\n\nfunction MonotoneX(context) {\n  this._context = context;\n}\n\nMonotoneX.prototype = {\n  areaStart: function areaStart() {\n    this._line = 0;\n  },\n  areaEnd: function areaEnd() {\n    this._line = NaN;\n  },\n  lineStart: function lineStart() {\n    this._x0 = this._x1 = this._y0 = this._y1 = this._t0 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function lineEnd() {\n    switch (this._point) {\n      case 2:\n        this._context.lineTo(this._x1, this._y1);\n\n        break;\n\n      case 3:\n        point$3(this, this._t0, slope2(this, this._t0));\n        break;\n    }\n\n    if (this._line || this._line !== 0 && this._point === 1) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function point(x, y) {\n    var t1 = NaN;\n    x = +x, y = +y;\n    if (x === this._x1 && y === this._y1) return; // Ignore coincident points.\n\n    switch (this._point) {\n      case 0:\n        this._point = 1;\n        this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y);\n        break;\n\n      case 1:\n        this._point = 2;\n        break;\n\n      case 2:\n        this._point = 3;\n        point$3(this, slope2(this, t1 = slope3(this, x, y)), t1);\n        break;\n\n      default:\n        point$3(this, this._t0, t1 = slope3(this, x, y));\n        break;\n    }\n\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n    this._t0 = t1;\n  }\n};\n\nfunction MonotoneY(context) {\n  this._context = new ReflectContext(context);\n}\n\n(MonotoneY.prototype = Object.create(MonotoneX.prototype)).point = function (x, y) {\n  MonotoneX.prototype.point.call(this, y, x);\n};\n\nfunction ReflectContext(context) {\n  this._context = context;\n}\n\nReflectContext.prototype = {\n  moveTo: function moveTo(x, y) {\n    this._context.moveTo(y, x);\n  },\n  closePath: function closePath() {\n    this._context.closePath();\n  },\n  lineTo: function lineTo(x, y) {\n    this._context.lineTo(y, x);\n  },\n  bezierCurveTo: function bezierCurveTo(x1, y1, x2, y2, x, y) {\n    this._context.bezierCurveTo(y1, x1, y2, x2, y, x);\n  }\n};\n\nfunction monotoneX(context) {\n  return new MonotoneX(context);\n}\n\nfunction monotoneY(context) {\n  return new MonotoneY(context);\n}\n\nfunction Natural(context) {\n  this._context = context;\n}\n\nNatural.prototype = {\n  areaStart: function areaStart() {\n    this._line = 0;\n  },\n  areaEnd: function areaEnd() {\n    this._line = NaN;\n  },\n  lineStart: function lineStart() {\n    this._x = [];\n    this._y = [];\n  },\n  lineEnd: function lineEnd() {\n    var x = this._x,\n        y = this._y,\n        n = x.length;\n\n    if (n) {\n      this._line ? this._context.lineTo(x[0], y[0]) : this._context.moveTo(x[0], y[0]);\n\n      if (n === 2) {\n        this._context.lineTo(x[1], y[1]);\n      } else {\n        var px = controlPoints(x),\n            py = controlPoints(y);\n\n        for (var i0 = 0, i1 = 1; i1 < n; ++i0, ++i1) {\n          this._context.bezierCurveTo(px[0][i0], py[0][i0], px[1][i0], py[1][i0], x[i1], y[i1]);\n        }\n      }\n    }\n\n    if (this._line || this._line !== 0 && n === 1) this._context.closePath();\n    this._line = 1 - this._line;\n    this._x = this._y = null;\n  },\n  point: function point(x, y) {\n    this._x.push(+x);\n\n    this._y.push(+y);\n  }\n}; // See https://www.particleincell.com/2012/bezier-splines/ for derivation.\n\nfunction controlPoints(x) {\n  var i,\n      n = x.length - 1,\n      m,\n      a = new Array(n),\n      b = new Array(n),\n      r = new Array(n);\n  a[0] = 0, b[0] = 2, r[0] = x[0] + 2 * x[1];\n\n  for (i = 1; i < n - 1; ++i) {\n    a[i] = 1, b[i] = 4, r[i] = 4 * x[i] + 2 * x[i + 1];\n  }\n\n  a[n - 1] = 2, b[n - 1] = 7, r[n - 1] = 8 * x[n - 1] + x[n];\n\n  for (i = 1; i < n; ++i) {\n    m = a[i] / b[i - 1], b[i] -= m, r[i] -= m * r[i - 1];\n  }\n\n  a[n - 1] = r[n - 1] / b[n - 1];\n\n  for (i = n - 2; i >= 0; --i) {\n    a[i] = (r[i] - a[i + 1]) / b[i];\n  }\n\n  b[n - 1] = (x[n] + a[n - 1]) / 2;\n\n  for (i = 0; i < n - 1; ++i) {\n    b[i] = 2 * x[i + 1] - a[i + 1];\n  }\n\n  return [a, b];\n}\n\nfunction natural(context) {\n  return new Natural(context);\n}\n\nfunction Step(context, t) {\n  this._context = context;\n  this._t = t;\n}\n\nStep.prototype = {\n  areaStart: function areaStart() {\n    this._line = 0;\n  },\n  areaEnd: function areaEnd() {\n    this._line = NaN;\n  },\n  lineStart: function lineStart() {\n    this._x = this._y = NaN;\n    this._point = 0;\n  },\n  lineEnd: function lineEnd() {\n    if (0 < this._t && this._t < 1 && this._point === 2) this._context.lineTo(this._x, this._y);\n    if (this._line || this._line !== 0 && this._point === 1) this._context.closePath();\n    if (this._line >= 0) this._t = 1 - this._t, this._line = 1 - this._line;\n  },\n  point: function point(x, y) {\n    x = +x, y = +y;\n\n    switch (this._point) {\n      case 0:\n        this._point = 1;\n        this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y);\n        break;\n\n      case 1:\n        this._point = 2;\n      // proceed\n\n      default:\n        {\n          if (this._t <= 0) {\n            this._context.lineTo(this._x, y);\n\n            this._context.lineTo(x, y);\n          } else {\n            var x1 = this._x * (1 - this._t) + x * this._t;\n\n            this._context.lineTo(x1, this._y);\n\n            this._context.lineTo(x1, y);\n          }\n\n          break;\n        }\n    }\n\n    this._x = x, this._y = y;\n  }\n};\n\nfunction step(context) {\n  return new Step(context, 0.5);\n}\n\nfunction stepBefore(context) {\n  return new Step(context, 0);\n}\n\nfunction stepAfter(context) {\n  return new Step(context, 1);\n}\n\nvar defaultStyle$1 = {\n  strokeWidth: 2,\n  stroke: '#6b6b6b',\n  fill: 'transparent',\n  opacity: 1\n};\n\nfunction Path$1(_ref) {\n  var style = _ref.style,\n      rest = _objectWithoutProperties(_ref, [\"style\"]);\n\n  var resolvedStyle = _objectSpread({}, defaultStyle$1, style);\n\n  return React.createElement(\"path\", _extends({}, rest, {\n    style: resolvedStyle\n  }));\n}\n\nvar lineFn = line();\n\nvar VoronoiElement = function VoronoiElement(_ref) {\n  var children = _ref.children,\n      rest = _objectWithoutProperties(_ref, [\"children\"]);\n\n  return React.createElement(\"g\", _extends({\n    className: \"Voronoi\"\n  }, rest), children);\n};\n\nfunction Voronoi() {\n  var _React$useContext = React.useContext(ChartContext),\n      _React$useContext2 = _slicedToArray(_React$useContext, 2),\n      _React$useContext2$ = _React$useContext2[0],\n      stackData = _React$useContext2$.stackData,\n      primaryAxes = _React$useContext2$.primaryAxes,\n      secondaryAxes = _React$useContext2$.secondaryAxes,\n      showVoronoi = _React$useContext2$.showVoronoi,\n      width = _React$useContext2$.width,\n      height = _React$useContext2$.height,\n      gridWidth = _React$useContext2$.gridWidth,\n      gridHeight = _React$useContext2$.gridHeight,\n      setChartState = _React$useContext2[1];\n\n  var onHover = React.useCallback(function (datum) {\n    return setChartState(function (state) {\n      return _objectSpread({}, state, {\n        focused: datum\n      });\n    });\n  }, [setChartState]);\n  return React.useMemo(function () {\n    // Don't render until we have all dependencies\n    if (!stackData || !primaryAxes.length || !secondaryAxes.length || !width || !height) {\n      return null;\n    }\n\n    var extent = [[0, 0], [gridWidth, gridHeight]]; // if (type === 'pie') {\n    //   const primaryAxis = primaryAxes[0]\n    //   return (\n    //     <VoronoiElement\n    //       style={{\n    //         transform: Utils.translate(primaryAxis.width /\n    //           2, primaryAxis.height / 2)\n    //       }}\n    //     >\n    //       {stackData.map(series => (\n    //         <React.Fragment key={series.index}>\n    //           {series.datums.map((datum, i) => {\n    //             const arc = makeArc()\n    //               .startAngle(datum.arcData.startAngle)\n    //               .endAngle(datum.arcData.endAngle)\n    //               .padAngle(0)\n    //               .padRadius(0)\n    //               .innerRadius(\n    //                 !series.index\n    //                   ? 0\n    //                   : datum.arcData.innerRadius -\n    //                       datum.arcData.seriesPaddingRadius / 2\n    //               )\n    //               .outerRadius(\n    //                 series.index === stackData.length - 1\n    //                   ? Math.max(primaryAxis.width, primaryAxis.height)\n    //                   : datum.arcData.outerRadius +\n    //                       datum.arcData.seriesPaddingRadius / 2\n    //               )\n    //               .cornerRadius(0)\n    //             return (\n    //               <Path\n    //                 key={i}\n    //                 d={arc()}\n    //                 className='action-voronoi'\n    //                 onMouseEnter={() => onHover([datum])}\n    //                 style={{\n    //                   fill: 'rgba(0,0,0,.2)',\n    //                   stroke: 'rgba(255,255,255,.5)',\n    //                   opacity: showVoronoi ? 1 : 0\n    //                 }}\n    //               />\n    //             )\n    //           })}\n    //         </React.Fragment>\n    //       ))}\n    //     </VoronoiElement>\n    //   )\n    // }\n\n    var vor;\n    var polygons = null;\n    var voronoiData = [];\n    stackData.forEach(function (series) {\n      series.datums.filter(function (d) {\n        return d.defined;\n      }).forEach(function (datum) {\n        datum.boundingPoints.forEach(function (boundingPoint) {\n          if (typeof datum.x !== 'number' || typeof datum.y !== 'number' || Number.isNaN(datum.y) || Number.isNaN(datum.x)) {\n            return;\n          }\n\n          voronoiData.push({\n            x: boundingPoint.x,\n            y: boundingPoint.y,\n            datum: datum\n          });\n        });\n      });\n    });\n    vor = voronoi().x(function (d) {\n      return d.x;\n    }).y(function (d) {\n      return d.y;\n    }).extent(extent)(voronoiData);\n    polygons = vor.polygons();\n    return React.createElement(VoronoiElement, null, polygons.map(function (points, i) {\n      var path = lineFn(points);\n      return React.createElement(Path$1, {\n        key: i,\n        d: path,\n        className: \"action-voronoi\",\n        onMouseEnter: function onMouseEnter(e) {\n          return onHover(points.data.datum);\n        },\n        onMouseLeave: function onMouseLeave(e) {\n          return onHover(null);\n        },\n        style: {\n          fill: 'rgba(0,0,0,.2)',\n          stroke: 'rgba(255,255,255,.5)',\n          opacity: showVoronoi ? 1 : 0\n        }\n      });\n    }));\n  }, [gridHeight, gridWidth, height, onHover, primaryAxes.length, secondaryAxes.length, showVoronoi, stackData, width]);\n}\n\nvar defaultStyle$2 = {\n  strokeWidth: 1,\n  fill: 'transparent',\n  opacity: 1\n};\n\nvar Line =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Line, _React$Component);\n\n  function Line() {\n    _classCallCheck(this, Line);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Line).apply(this, arguments));\n  }\n\n  _createClass(Line, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          style = _this$props.style,\n          rest = _objectWithoutProperties(_this$props, [\"style\"]);\n\n      var resolvedStyle = _objectSpread({}, defaultStyle$2, style);\n\n      return React.createElement(\"line\", _extends({}, rest, {\n        style: resolvedStyle\n      }));\n    }\n  }]);\n\n  return Line;\n}(React.Component);\n\nvar defaultStyle$3 = {\n  fontFamily: 'Helvetica',\n  fontSize: 10,\n  opacity: 1\n};\n\nvar Text =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Text, _React$Component);\n\n  function Text() {\n    _classCallCheck(this, Text);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Text).apply(this, arguments));\n  }\n\n  _createClass(Text, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          style = _this$props.style,\n          opacity = _this$props.opacity,\n          rest = _objectWithoutProperties(_this$props, [\"style\", \"opacity\"]);\n\n      var resolvedStyle = _objectSpread({}, defaultStyle$3, style);\n\n      return React.createElement(\"text\", _extends({}, rest, {\n        style: resolvedStyle\n      }));\n    }\n  }]);\n\n  return Text;\n}(React.Component);\n\n_defineProperty(Text, \"defaultProps\", {\n  opacity: 1\n});\n\nvar Group = React.forwardRef(function Group(props, ref) {\n  return React.createElement(\"g\", _extends({}, props, {\n    ref: ref\n  }));\n});\nvar positionTop = 'top';\nvar positionRight = 'right';\nvar positionBottom = 'bottom';\nvar positionLeft = 'left';\nvar groupingSingle = 'single';\nvar groupingSeries = 'series';\nvar groupingPrimary = 'primary';\nvar groupingSecondary = 'secondary';\nvar alignAuto = 'auto';\nvar alignRight = 'right';\nvar alignTopRight = 'topRight';\nvar alignBottomRight = 'bottomRight';\nvar alignLeft = 'left';\nvar alignTopLeft = 'topLeft';\nvar alignBottomLeft = 'bottomLeft';\nvar alignTop = 'top';\nvar alignBottom = 'bottom';\nvar axisTypeOrdinal = 'ordinal';\nvar axisTypeTime = 'time';\nvar axisTypeUtc = 'utc';\nvar axisTypeLinear = 'linear';\nvar axisTypeLog = 'log';\nvar anchorPointer = 'pointer';\nvar anchorClosest = 'closest';\nvar anchorCenter = 'center';\nvar anchorTop = 'top';\nvar anchorBottom = 'bottom';\nvar anchorLeft = 'left';\nvar anchorRight = 'right';\nvar anchorGridTop = 'gridTop';\nvar anchorGridBottom = 'gridBottom';\nvar anchorGridLeft = 'gridLeft';\nvar anchorGridRight = 'gridRight';\nvar focusAuto = 'auto';\nvar focusClosest = 'closest';\nvar focusElement = 'element';\nvar defaultStyles = {\n  line: {\n    strokeWidth: '1',\n    fill: 'transparent'\n  },\n  tick: {\n    fontSize: 10,\n    fontFamily: 'sans-serif'\n  }\n};\n\nvar radiansToDegrees = function radiansToDegrees(r) {\n  return r * (180 / Math.PI);\n};\n\nfunction AxisLinear(_ref) {\n  var id = _ref.id,\n      type = _ref.type,\n      position = _ref.position,\n      tickSizeInner = _ref.tickSizeInner,\n      tickSizeOuter = _ref.tickSizeOuter,\n      show = _ref.show,\n      showGrid = _ref.showGrid,\n      showTicks = _ref.showTicks,\n      styles = _ref.styles,\n      maxLabelRotation = _ref.maxLabelRotation,\n      labelRotationStep = _ref.labelRotationStep,\n      tickPadding = _ref.tickPadding,\n      ticks = _ref.ticks,\n      tickCount = _ref.tickCount,\n      minTickCount = _ref.minTickCount,\n      maxTickCount = _ref.maxTickCount,\n      scale = _ref.scale,\n      scaleMax = _ref.max,\n      transform = _ref.transform,\n      vertical = _ref.vertical,\n      format = _ref.format,\n      _ref$range = _slicedToArray(_ref.range, 2),\n      range0 = _ref$range[0],\n      range1 = _ref$range[1],\n      directionMultiplier = _ref.directionMultiplier,\n      tickOffset = _ref.tickOffset,\n      gridOffset = _ref.gridOffset,\n      spacing = _ref.spacing;\n\n  var _React$useState = React.useState(0),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      rotation = _React$useState2[0],\n      setRotation = _React$useState2[1];\n\n  var _React$useContext = React.useContext(ChartContext),\n      _React$useContext2 = _slicedToArray(_React$useContext, 2),\n      _React$useContext2$ = _React$useContext2[0],\n      gridWidth = _React$useContext2$.gridWidth,\n      gridHeight = _React$useContext2$.gridHeight,\n      dark = _React$useContext2$.dark,\n      axisDimensions = _React$useContext2$.axisDimensions,\n      setChartState = _React$useContext2[1];\n\n  var elRef = React.useRef();\n  var visibleLabelStepRef = React.useRef();\n  var measureDimensions = React.useCallback(function () {\n    if (!elRef.current) {\n      if (axisDimensions[position] && axisDimensions[position][id]) {\n        // If the entire axis is hidden, then we need to remove the axis dimensions\n        setChartState(function (state) {\n          var newAxes = state.axisDimensions[position] || {};\n          delete newAxes[id];\n          return _objectSpread({}, state, {\n            axisDimensions: _objectSpread({}, state.axisDimensions, _defineProperty({}, position, newAxes))\n          });\n        });\n      }\n\n      return;\n    }\n\n    var labelDims = Array.apply(void 0, _toConsumableArray(elRef.current.querySelectorAll('.tickLabel'))).map(function (el) {\n      var rect = el.getBoundingClientRect();\n      return {\n        width: rect.width,\n        height: rect.height\n      };\n    });\n    var tickSpace = !vertical ? gridWidth : gridHeight;\n    var calculatedTickCount = tickCount;\n    var width = 0;\n    var height = 0;\n    var top = 0;\n    var bottom = 0;\n    var left = 0;\n    var right = 0;\n    var smallestTickGap = 100000; // This is just a ridiculously large tick spacing that would never happen (hopefully)\n    // First find the dimensions of each tick\n\n    var tickDims = Array.apply(void 0, _toConsumableArray(elRef.current.querySelectorAll('.tick'))).map(function (el) {\n      return el.getBoundingClientRect();\n    }); // Then, determine the smallest gap in ticks on the axis\n\n    tickDims.reduce(function (prev, current) {\n      if (prev) {\n        var gap = vertical ? current.top - prev.top : current.left - prev.left;\n        smallestTickGap = gap < smallestTickGap ? gap : smallestTickGap;\n      }\n\n      return current;\n    }, false);\n    var firstLabelDim = labelDims[0] || {\n      width: 0,\n      height: 0\n    };\n    var lastLabelDim = labelDims[labelDims.length - 1] || {\n      width: 0,\n      height: 0 // Then determine the largest label\n\n    };\n\n    var largestLabel = _objectSpread({}, firstLabelDim, {\n      _overflow: 0 // Determine the largest label on the axis\n\n    });\n\n    labelDims.forEach(function (labelDim) {\n      labelDim._overflow = !vertical ? labelDim.width : labelDim.height - smallestTickGap;\n\n      if (labelDim._overflow > 0 && labelDim._overflow > largestLabel._overflow) {\n        largestLabel = labelDim;\n      }\n    });\n    var largestLabelSize = !vertical ? largestLabel.width : largestLabel.height; // We need to detect auto tick mode\n\n    if ((vertical || type !== 'ordinal') && tickCount === 'auto') {\n      // if it's on, determine how many ticks we could display if they were all flat\n      // How many ticks can we fit in the available axis space?\n      calculatedTickCount = Math.max(minTickCount, Math.min(Math.floor((tickSpace + largestLabelSize - tickPadding) / (largestLabelSize + tickPadding * 2)), maxTickCount));\n    } else if (!vertical) {\n      // Otherwise, if it's horizontal, then we need to determine axis rotation\n      // This is the raw mathematical rotation, using acosign and radians\n      // (some tricky stuff I found on some geomoetry forum. Can't remember where though)\n      var newRotation = Math.min(Math.max(Math.abs(radiansToDegrees(Math.acos(smallestTickGap / (largestLabel.width + tickPadding)))), 0), maxLabelRotation); // Make sure the rotation isn't NaN\n\n      newRotation = Number.isNaN(newRotation) ? 0 : newRotation; // Round the rotation to the nearest rotationStep\n\n      newRotation = Math.ceil(Math.ceil(newRotation / labelRotationStep) * labelRotationStep);\n\n      if (newRotation === 0 || newRotation === maxLabelRotation || Math.abs(newRotation) - Math.abs(rotation) > 5) {\n        setRotation(function () {\n          return position === 'top' ? -newRotation : newRotation;\n        });\n      }\n    }\n\n    var newVisibleLabelStep = Math.ceil(tickPadding / smallestTickGap);\n\n    if (visibleLabelStepRef.current !== newVisibleLabelStep) {\n      visibleLabelStepRef.current = newVisibleLabelStep;\n    }\n\n    if (!vertical) {\n      // Add width overflow from the first and last ticks\n      // const leftWidth = firstLabelDim.width\n      // const rightWidth = lastLabelDim.width\n      // if (rotation) {\n      //   right = tickPadding\n      //   left = Math.abs(Math.ceil(Math.cos(rotation) * leftWidth)) - barSize / 2\n      // } else {\n      //   left = Math.ceil(leftWidth / 2)\n      //   right = Math.ceil(rightWidth / 2)\n      // }\n      height = Math.max(tickSizeInner, tickSizeOuter) + // Add tick size\n      tickPadding + // Add tick padding\n      // Add the height of the largest label\n      Math.max.apply(Math, _toConsumableArray(labelDims.map(function (d) {\n        return Math.ceil(d.height);\n      })));\n    } else {\n      // Add height overflow from the first and last ticks\n      top = Math.ceil(firstLabelDim.height / 2);\n      bottom = Math.ceil(lastLabelDim.height / 2);\n      width = Math.max(tickSizeInner, tickSizeOuter) + // Add tick size\n      tickPadding + // Add tick padding\n      // Add the width of the largest label\n      Math.max.apply(Math, _toConsumableArray(labelDims.map(function (d) {\n        return Math.ceil(d.width);\n      })));\n    }\n\n    var newDimensions = {\n      width: width,\n      height: height,\n      top: top,\n      bottom: bottom,\n      left: left,\n      right: right,\n      tickCount: calculatedTickCount // Only update the axisDimensions if something has changed\n\n    };\n\n    if (!axisDimensions || !axisDimensions[position] || !axisDimensions[position][id] || Object.keys(newDimensions).some(function (key) {\n      return newDimensions[key] !== axisDimensions[position][id][key];\n    })) {\n      setChartState(function (state) {\n        return _objectSpread({}, state, {\n          axisDimensions: _objectSpread({}, state.axisDimensions, _defineProperty({}, position, _objectSpread({}, state.axisDimensions[position] || {}, _defineProperty({}, id, newDimensions))))\n        });\n      });\n    }\n  }, [axisDimensions, gridHeight, gridWidth, id, labelRotationStep, maxLabelRotation, maxTickCount, minTickCount, position, rotation, setChartState, tickCount, tickPadding, tickSizeInner, tickSizeOuter, type, vertical]);\n  var previousRotation = usePrevious(rotation); // Measure after if needed\n\n  React.useLayoutEffect(function () {\n    if (previousRotation === rotation) {\n      measureDimensions();\n    }\n  }, [axisDimensions, id, measureDimensions, position, previousRotation, rotation]); // Measure after if needed\n\n  React.useEffect(function () {\n    if (previousRotation !== rotation) {\n      measureDimensions();\n    }\n  }, [axisDimensions, id, measureDimensions, position, previousRotation, rotation]);\n  return React.useMemo(function () {\n    // Not ready? Render null\n    if (!show) {\n      return null;\n    }\n\n    var axisPath;\n\n    if (vertical) {\n      if (position === positionLeft) {\n        axisPath = \"\\n        M \".concat(-tickSizeOuter, \", \").concat(range0, \"\\n        H 0\\n        V \").concat(range1, \"\\n        H \").concat(-tickSizeOuter, \"\\n      \");\n      } else {\n        axisPath = \"\\n        M \".concat(tickSizeOuter, \", \").concat(range0, \"\\n        H 0\\n        V \").concat(range1, \"\\n        H \").concat(tickSizeOuter, \"\\n      \");\n      }\n    } else if (position === positionBottom) {\n      axisPath = \"\\n        M 0, \".concat(tickSizeOuter, \"\\n        V 0\\n        H \").concat(range1, \"\\n        V \").concat(tickSizeOuter, \"\\n      \");\n    } else {\n      axisPath = \"\\n        M 0, \".concat(-tickSizeOuter, \"\\n        V 0\\n        H \").concat(range1, \"\\n        V \").concat(-tickSizeOuter, \"\\n              \");\n    }\n\n    var showGridLine;\n\n    if (typeof showGrid === 'boolean') {\n      showGridLine = showGrid;\n    } else if (type === axisTypeOrdinal) {\n      showGridLine = false;\n    } else {\n      showGridLine = true;\n    } // Combine default styles with style props\n\n\n    var axisStyles = _objectSpread({}, defaultStyles, styles);\n\n    return React.createElement(Group, {\n      ref: elRef,\n      className: \"Axis\",\n      style: {\n        pointerEvents: 'none',\n        transform: position === positionRight ? Utils.translateX(gridWidth) : position === positionBottom ? Utils.translateY(gridHeight) : undefined\n      }\n    }, React.createElement(Path$1, {\n      className: \"domain\",\n      d: axisPath,\n      style: _objectSpread({\n        stroke: dark ? 'rgba(255,255,255, .1)' : 'rgba(0,0,0, .1)'\n      }, axisStyles.line)\n    }), React.createElement(Group, {\n      className: \"ticks\",\n      style: {}\n    }, ticks.map(function (tick, i) {\n      return React.createElement(Group, {\n        key: [String(tick), i].join('_'),\n        className: \"tick\",\n        style: {\n          transform: transform(scale(tick) || 0)\n        }\n      }, showGridLine && React.createElement(Line, {\n        className: \"gridLine\",\n        x1: vertical ? 0 : gridOffset,\n        x2: vertical ? scaleMax : gridOffset,\n        y1: vertical ? gridOffset : 0,\n        y2: vertical ? gridOffset : scaleMax,\n        style: _objectSpread({\n          stroke: dark ? 'rgba(255,255,255, .1)' : 'rgba(0,0,0, .1)',\n          strokeWidth: 1\n        }, axisStyles.line)\n      }), showTicks ? React.createElement(\"g\", {\n        className: \"labelGroup\"\n      }, React.createElement(Line, {\n        className: \"tickline\",\n        x1: vertical ? 0 : tickOffset,\n        x2: vertical ? directionMultiplier * tickSizeInner : tickOffset,\n        y1: vertical ? tickOffset : 0,\n        y2: vertical ? tickOffset : directionMultiplier * tickSizeInner,\n        style: _objectSpread({\n          stroke: dark ? 'rgba(255,255,255, .1)' : 'rgba(0,0,0, .1)',\n          strokeWidth: 1\n        }, axisStyles.line)\n      }), React.createElement(Text, {\n        className: \"tickLabel\",\n        style: _objectSpread({\n          fill: dark ? 'white' : 'black'\n        }, axisStyles.tick, {\n          transform: \"\".concat(Utils.translate(vertical ? directionMultiplier * spacing : tickOffset, vertical ? tickOffset : directionMultiplier * spacing), \" rotate(\").concat(-rotation, \"deg)\")\n        }),\n        dominantBaseline: rotation ? 'central' : position === positionBottom ? 'hanging' : position === positionTop ? 'alphabetic' : 'central',\n        textAnchor: rotation ? 'end' : position === positionRight ? 'start' : position === positionLeft ? 'end' : 'middle'\n      }, String(format(tick, i)))) : null);\n    })));\n  }, [dark, directionMultiplier, format, gridHeight, gridOffset, gridWidth, position, range0, range1, rotation, scale, scaleMax, show, showGrid, showTicks, spacing, styles, tickOffset, tickSizeInner, tickSizeOuter, ticks, transform, type, vertical]);\n}\n\nvar Axis =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Axis, _React$Component);\n\n  function Axis() {\n    _classCallCheck(this, Axis);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Axis).apply(this, arguments));\n  }\n\n  _createClass(Axis, [{\n    key: \"render\",\n    value: function render() {\n      var type = this.props.type; // if (type === 'pie') {\n      //   return <AxisPie {...this.props} />\n      // }\n\n      return React.createElement(AxisLinear, this.props);\n    }\n  }]);\n\n  return Axis;\n}(React.Component);\n\nvar triangleSize = 7;\n\nvar getBackgroundColor = function getBackgroundColor(dark) {\n  return dark ? 'rgba(255,255,255,.9)' : 'rgba(0, 26, 39, 0.9)';\n};\n\nfunction Tooltip() {\n  var _React$useContext = React.useContext(ChartContext),\n      _React$useContext2 = _slicedToArray(_React$useContext, 1),\n      chartState = _React$useContext2[0];\n\n  var primaryAxes = chartState.primaryAxes,\n      secondaryAxes = chartState.secondaryAxes,\n      gridX = chartState.gridX,\n      gridY = chartState.gridY,\n      gridWidth = chartState.gridWidth,\n      gridHeight = chartState.gridHeight,\n      dark = chartState.dark,\n      focused = chartState.focused,\n      latestFocused = chartState.latestFocused,\n      getDatumStyle = chartState.getDatumStyle,\n      tooltip = chartState.tooltip;\n  var elRef = React.useRef();\n  var tooltipElRef = React.useRef();\n  var previousShowRef = React.useRef();\n\n  var _ref = tooltip || {},\n      align = _ref.align,\n      alignPriority = _ref.alignPriority,\n      padding = _ref.padding,\n      tooltipArrowPadding = _ref.tooltipArrowPadding,\n      arrowPosition = _ref.arrowPosition,\n      render = _ref.render,\n      anchor = _ref.anchor,\n      show = _ref.show;\n\n  var _React$useState = React.useState(align || 'auto'),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      finalAlign = _React$useState2[0],\n      setFinalAlign = _React$useState2[1];\n\n  React.useEffect(function () {\n    previousShowRef.current = show;\n  }, [show]);\n  React.useLayoutEffect(function () {\n    if (align !== 'auto' || !elRef.current || !show || !anchor) {\n      return;\n    }\n\n    var space = {\n      left: Infinity,\n      top: Infinity,\n      right: Infinity,\n      bottom: Infinity\n    };\n    var container = elRef.current;\n    var gridDims = container.getBoundingClientRect();\n    var tooltipDims = tooltipElRef.current.getBoundingClientRect();\n\n    while (container !== document.body) {\n      container = container.parentElement;\n\n      var _window$getComputedSt = window.getComputedStyle(container),\n          overflowX = _window$getComputedSt.overflowX,\n          overflowY = _window$getComputedSt.overflowY;\n\n      if (container === document.body || [overflowX, overflowY].find(function (d) {\n        return ['auto', 'hidden'].includes(d);\n      })) {\n        var containerDims = container.getBoundingClientRect();\n        var left = gridDims.left - containerDims.left + anchor.x;\n        var top = gridDims.top - containerDims.top + anchor.y;\n        var right = containerDims.width - left;\n        var bottom = containerDims.height - top;\n        space.left = Math.min(space.left, left);\n        space.top = Math.min(space.top, top);\n        space.right = Math.min(space.right, right);\n        space.bottom = Math.min(space.bottom, bottom);\n      }\n    }\n\n    var resolvedAlign = null;\n    alignPriority.forEach(function (priority) {\n      if (resolvedAlign) {\n        return;\n      }\n\n      var fits = {\n        left: space.left - tooltipArrowPadding - padding - anchor.horizontalPadding > tooltipDims.width,\n        right: space.right - tooltipArrowPadding - padding - anchor.horizontalPadding > tooltipDims.width,\n        top: space.top - tooltipArrowPadding - padding - anchor.verticalPadding > tooltipDims.height && space.left > tooltipDims.width / 2,\n        bottom: space.bottom - tooltipArrowPadding - padding - anchor.verticalPadding > tooltipDims.height,\n        centeredFromLeft: space.left > tooltipDims.width / 2,\n        centeredFromRight: space.right > tooltipDims.width / 2,\n        centeredFromTop: space.top > tooltipDims.height / 2,\n        centeredFromBottom: space.bottom > tooltipDims.height / 2\n      };\n\n      if (priority === 'left') {\n        if (fits.left && fits.centeredFromTop && fits.centeredFromBottom) {\n          resolvedAlign = priority;\n        }\n      } else if (priority === 'right') {\n        if (fits.right && fits.centeredFromTop && fits.centeredFromBottom) {\n          resolvedAlign = priority;\n        }\n      } else if (priority === 'top') {\n        if (fits.top && fits.centeredFromLeft && fits.centeredFromRight) {\n          resolvedAlign = priority;\n        }\n      } else if (priority === 'bottom') {\n        if (fits.bottom && fits.centeredFromLeft && fits.centeredFromRight) {\n          resolvedAlign = priority;\n        }\n      } else if (priority === 'topLeft') {\n        if (fits.top && fits.left) {\n          resolvedAlign = priority;\n        }\n      } else if (priority === 'topRight') {\n        if (fits.top && fits.right) {\n          resolvedAlign = priority;\n        }\n      } else if (priority === 'bottomLeft') {\n        if (fits.bottom && fits.left) {\n          resolvedAlign = priority;\n        }\n      } else if (priority === 'bottomRight') {\n        if (fits.bottom && fits.right) {\n          resolvedAlign = priority;\n        }\n      }\n    });\n\n    if (resolvedAlign !== finalAlign) {\n      setFinalAlign(resolvedAlign);\n    }\n  }, [align, alignPriority, anchor, finalAlign, padding, show, tooltipArrowPadding]);\n\n  if (!tooltip) {\n    return null;\n  }\n\n  var resolvedFocused = focused || latestFocused;\n  var alignX = 0;\n  var alignY = -50;\n  var triangleStyles = {};\n  var backgroundColor = getBackgroundColor(dark);\n  var resolvedArrowPosition = arrowPosition;\n\n  if (finalAlign === 'top') {\n    alignX = -50;\n    alignY = -100;\n  } else if (finalAlign === 'topRight') {\n    alignX = 0;\n    alignY = -100;\n  } else if (finalAlign === 'right') {\n    alignX = 0;\n    alignY = -50;\n  } else if (finalAlign === 'bottomRight') {\n    alignX = 0;\n    alignY = 0;\n  } else if (finalAlign === 'bottom') {\n    alignX = -50;\n    alignY = 0;\n  } else if (finalAlign === 'bottomLeft') {\n    alignX = -100;\n    alignY = 0;\n  } else if (finalAlign === 'left') {\n    alignX = -100;\n    alignY = -50;\n  } else if (finalAlign === 'topLeft') {\n    alignX = -100;\n    alignY = -100;\n  } else if (finalAlign === 'center') {\n    alignX = -50;\n    alignY = -50;\n  }\n\n  if (!resolvedArrowPosition) {\n    if (finalAlign === 'left') {\n      resolvedArrowPosition = 'right';\n    } else if (finalAlign === 'right') {\n      resolvedArrowPosition = 'left';\n    } else if (finalAlign === 'top') {\n      resolvedArrowPosition = 'bottom';\n    } else if (finalAlign === 'bottom') {\n      resolvedArrowPosition = 'top';\n    } else if (finalAlign === 'topRight') {\n      resolvedArrowPosition = 'bottomLeft';\n    } else if (finalAlign === 'bottomRight') {\n      resolvedArrowPosition = 'topLeft';\n    } else if (finalAlign === 'topLeft') {\n      resolvedArrowPosition = 'bottomRight';\n    } else if (finalAlign === 'bottomLeft') {\n      resolvedArrowPosition = 'topRight';\n    }\n  }\n\n  if (resolvedArrowPosition === 'bottom') {\n    triangleStyles = {\n      top: '100%',\n      left: '50%',\n      transform: 'translate3d(-50%, 0%, 0)',\n      borderLeft: \"\".concat(triangleSize * 0.8, \"px solid transparent\"),\n      borderRight: \"\".concat(triangleSize * 0.8, \"px solid transparent\"),\n      borderTop: \"\".concat(triangleSize, \"px solid \").concat(backgroundColor)\n    };\n  } else if (resolvedArrowPosition === 'top') {\n    triangleStyles = {\n      top: '0%',\n      left: '50%',\n      transform: 'translate3d(-50%, -100%, 0)',\n      borderLeft: \"\".concat(triangleSize * 0.8, \"px solid transparent\"),\n      borderRight: \"\".concat(triangleSize * 0.8, \"px solid transparent\"),\n      borderBottom: \"\".concat(triangleSize, \"px solid \").concat(backgroundColor)\n    };\n  } else if (resolvedArrowPosition === 'right') {\n    triangleStyles = {\n      top: '50%',\n      left: '100%',\n      transform: 'translate3d(0%, -50%, 0)',\n      borderTop: \"\".concat(triangleSize * 0.8, \"px solid transparent\"),\n      borderBottom: \"\".concat(triangleSize * 0.8, \"px solid transparent\"),\n      borderLeft: \"\".concat(triangleSize, \"px solid \").concat(backgroundColor)\n    };\n  } else if (resolvedArrowPosition === 'left') {\n    triangleStyles = {\n      top: '50%',\n      left: '0%',\n      transform: 'translate3d(-100%, -50%, 0)',\n      borderTop: \"\".concat(triangleSize * 0.8, \"px solid transparent\"),\n      borderBottom: \"\".concat(triangleSize * 0.8, \"px solid transparent\"),\n      borderRight: \"\".concat(triangleSize, \"px solid \").concat(backgroundColor)\n    };\n  } else if (resolvedArrowPosition === 'topRight') {\n    triangleStyles = {\n      top: '0%',\n      left: '100%',\n      transform: 'translate3d(-50%, -50%, 0) rotate(-45deg)',\n      borderTop: \"\".concat(triangleSize * 0.8, \"px solid transparent\"),\n      borderBottom: \"\".concat(triangleSize * 0.8, \"px solid transparent\"),\n      borderLeft: \"\".concat(triangleSize * 2, \"px solid \").concat(backgroundColor)\n    };\n  } else if (resolvedArrowPosition === 'bottomRight') {\n    triangleStyles = {\n      top: '100%',\n      left: '100%',\n      transform: 'translate3d(-50%, -50%, 0) rotate(45deg)',\n      borderTop: \"\".concat(triangleSize * 0.8, \"px solid transparent\"),\n      borderBottom: \"\".concat(triangleSize * 0.8, \"px solid transparent\"),\n      borderLeft: \"\".concat(triangleSize * 2, \"px solid \").concat(backgroundColor)\n    };\n  } else if (resolvedArrowPosition === 'topLeft') {\n    triangleStyles = {\n      top: '0%',\n      left: '0%',\n      transform: 'translate3d(-50%, -50%, 0) rotate(45deg)',\n      borderTop: \"\".concat(triangleSize * 0.8, \"px solid transparent\"),\n      borderBottom: \"\".concat(triangleSize * 0.8, \"px solid transparent\"),\n      borderRight: \"\".concat(triangleSize * 2, \"px solid \").concat(backgroundColor)\n    };\n  } else if (resolvedArrowPosition === 'bottomLeft') {\n    triangleStyles = {\n      top: '100%',\n      left: '0%',\n      transform: 'translate3d(-50%, -50%, 0) rotate(-45deg)',\n      borderTop: \"\".concat(triangleSize * 0.8, \"px solid transparent\"),\n      borderBottom: \"\".concat(triangleSize * 0.8, \"px solid transparent\"),\n      borderRight: \"\".concat(triangleSize * 2, \"px solid \").concat(backgroundColor)\n    };\n  } else {\n    triangleStyles = {\n      opacity: 0\n    };\n  }\n\n  var primaryAxis = Utils.getAxisByAxisID(primaryAxes, resolvedFocused ? resolvedFocused.series.primaryAxisID : null);\n  var secondaryAxis = Utils.getAxisByAxisID(secondaryAxes, resolvedFocused ? resolvedFocused.series.secondaryAxisID : null);\n  var resolvedHorizontalPadding = padding + anchor.horizontalPadding;\n  var resolvedVerticalPadding = padding + anchor.verticalPadding;\n\n  var renderProps = _objectSpread({}, chartState, chartState.tooltip, {\n    datum: resolvedFocused,\n    getStyle: function getStyle(datum) {\n      return datum.getStatusStyle(resolvedFocused, getDatumStyle);\n    },\n    primaryAxis: primaryAxis,\n    secondaryAxis: secondaryAxis\n  });\n\n  var renderedChildren = render(renderProps);\n  var animateCoords;\n\n  if (previousShowRef.current === show) {\n    animateCoords = true;\n  }\n\n  return React.createElement(\"div\", {\n    className: \"tooltip-wrap\",\n    style: {\n      pointerEvents: 'none',\n      position: 'absolute',\n      left: \"\".concat(gridX, \"px\"),\n      top: \"\".concat(gridY, \"px\"),\n      width: \"\".concat(gridWidth, \"px\"),\n      height: \"\".concat(gridHeight, \"px\"),\n      opacity: show ? 1 : 0,\n      transition: 'all .3s ease'\n    },\n    ref: function ref(el) {\n      elRef.current = el;\n    }\n  }, React.createElement(\"div\", {\n    style: {\n      position: 'absolute',\n      left: 0,\n      top: 0,\n      transform: Utils.translate(anchor.x, anchor.y),\n      transition: animateCoords ? 'all .2s ease' : 'opacity .2s ease'\n    }\n  }, React.createElement(\"div\", {\n    style: {\n      transform: \"translate3d(\".concat(alignX, \"%, \").concat(alignY, \"%, 0)\"),\n      padding: \"\".concat(tooltipArrowPadding + resolvedVerticalPadding, \"px \").concat(tooltipArrowPadding + resolvedHorizontalPadding, \"px\"),\n      width: 'auto',\n      transition: 'all .2s ease'\n    }\n  }, React.createElement(\"div\", {\n    ref: function ref(el) {\n      tooltipElRef.current = el;\n    },\n    style: {\n      fontSize: '12px',\n      padding: '5px',\n      background: getBackgroundColor(dark),\n      color: dark ? 'black' : 'white',\n      borderRadius: '3px',\n      position: 'relative'\n    }\n  }, React.createElement(\"div\", {\n    style: _objectSpread({\n      position: 'absolute',\n      width: 0,\n      height: 0\n    }, triangleStyles, {\n      transition: animateCoords ? 'all .2s ease' : 'none'\n    })\n  }), renderedChildren))));\n}\n\nvar getLineBackgroundColor = function getLineBackgroundColor(dark) {\n  return dark ? 'rgba(255,255,255,.3)' : 'rgba(0, 26, 39, 0.3)';\n};\n\nvar getBackgroundColor$1 = function getBackgroundColor(dark) {\n  return dark ? 'rgba(255,255,255,.9)' : 'rgba(0, 26, 39, 0.9)';\n};\n\nfunction Cursor(_ref) {\n  var primary = _ref.primary;\n\n  var _React$useContext = React.useContext(ChartContext),\n      _React$useContext2 = _slicedToArray(_React$useContext, 1),\n      _React$useContext2$ = _React$useContext2[0],\n      primaryCursor = _React$useContext2$.primaryCursor,\n      secondaryCursor = _React$useContext2$.secondaryCursor,\n      focused = _React$useContext2$.focused,\n      latestFocused = _React$useContext2$.latestFocused,\n      gridX = _React$useContext2$.gridX,\n      gridY = _React$useContext2$.gridY,\n      dark = _React$useContext2$.dark;\n\n  var resolvedFocused = focused || latestFocused;\n  var cursor = primary ? primaryCursor : secondaryCursor;\n\n  var _ref2 = cursor || {},\n      showLine = _ref2.showLine,\n      showLabel = _ref2.showLabel,\n      resolvedValue = _ref2.resolvedValue,\n      snap = _ref2.snap,\n      render = _ref2.render,\n      axis = _ref2.axis,\n      siblingAxis = _ref2.siblingAxis,\n      resolvedShow = _ref2.resolvedShow;\n\n  var latestValue = useLatest(resolvedValue, typeof resolvedValue !== 'undefined');\n  var previousShowRef = React.useRef();\n  React.useEffect(function () {\n    previousShowRef.current = resolvedShow;\n  }, [resolvedShow]);\n\n  if (!cursor) {\n    return null;\n  } // Should we animate?\n\n\n  var animated = snap || axis.type === 'ordinal'; // Get the sibling range\n\n  var siblingRange = siblingAxis.scale.range();\n  var x;\n  var y;\n  var x1;\n  var x2;\n  var y1;\n  var y2;\n  var alignPctX;\n  var alignPctY; // Vertical alignment\n\n  if (axis.vertical) {\n    y = axis.scale(latestValue);\n    x1 = siblingRange[0];\n    x2 = siblingRange[1];\n    y1 = y - 1;\n    y2 = y + axis.cursorSize + 1;\n\n    if (axis.position === 'left') {\n      alignPctX = -100;\n      alignPctY = -50;\n    } else {\n      alignPctX = 0;\n      alignPctY = -50;\n    }\n  } else {\n    x = axis.scale(latestValue);\n    x1 = x - 1;\n    x2 = x + axis.cursorSize + 1;\n    y1 = siblingRange[0];\n    y2 = siblingRange[1];\n\n    if (axis.position === 'top') {\n      alignPctX = -500;\n      alignPctY = -100;\n    } else {\n      alignPctX = -50;\n      alignPctY = 0;\n    }\n  }\n\n  var renderProps = _objectSpread({}, cursor);\n\n  renderProps.formattedValue = String(axis.vertical ? typeof latestValue !== 'undefined' ? axis.format(axis.stacked && !primary && resolvedFocused ? resolvedFocused.totalValue : latestValue) : '' : typeof latestValue !== 'undefined' ? axis.format(axis.stacked && !primary && resolvedFocused ? resolvedFocused.totalValue : latestValue) : '');\n  var lineStartX = Math.min(x1, x2);\n  var lineStartY = Math.min(y1, y2);\n  var lineEndX = Math.max(x1, x2);\n  var lineEndY = Math.max(y1, y2);\n  var bubbleX = axis.vertical && axis.RTL ? lineEndX : x1 + (!axis.vertical ? (x2 - x1) / 2 : 0) + (!axis.vertical ? 1 : 0);\n  var bubbleY = !axis.vertical && axis.RTL ? lineStartY : y1 + (axis.vertical ? (y2 - y1) / 2 : 0) + (axis.vertical ? 1 : 0);\n  var lineHeight = Math.max(lineEndY - lineStartY, 0);\n  var lineWidth = Math.max(lineEndX - lineStartX, 0);\n  var animateCoords;\n\n  if (previousShowRef.current === resolvedShow) {\n    animateCoords = true;\n  }\n\n  var renderedChildren = render(renderProps);\n  return React.createElement(\"div\", {\n    style: {\n      pointerEvents: 'none',\n      position: 'absolute',\n      top: 0,\n      left: 0,\n      transform: Utils.translate(gridX, gridY),\n      opacity: resolvedShow ? 1 : 0,\n      transition: 'all .3s ease'\n    },\n    className: \"Cursor\"\n  }, showLine ? React.createElement(\"div\", {\n    style: {\n      position: 'absolute',\n      top: 0,\n      left: 0,\n      transform: Utils.translate(lineStartX, lineStartY),\n      width: \"\".concat(lineWidth, \"px\"),\n      height: \"\".concat(lineHeight, \"px\"),\n      background: getLineBackgroundColor(dark),\n      transition: animated && animateCoords ? 'all .2s ease' : 'opacity .2s ease'\n    }\n  }) : null, showLabel ? React.createElement(\"div\", {\n    style: {\n      position: 'absolute',\n      top: 0,\n      left: 0,\n      transform: Utils.translate(bubbleX, bubbleY),\n      transition: animated && animateCoords ? 'all .2s ease' : 'opacity .2s ease'\n    }\n  }, React.createElement(\"div\", {\n    style: {\n      padding: '5px',\n      fontSize: '10px',\n      background: getBackgroundColor$1(dark),\n      color: getBackgroundColor$1(!dark),\n      borderRadius: '3px',\n      position: 'relative',\n      transform: \"translate3d(\".concat(alignPctX, \"%, \").concat(alignPctY, \"%, 0)\"),\n      whiteSpace: 'nowrap'\n    }\n  }, renderedChildren)) : null);\n}\n\nfunction Brush() {\n  var _React$useContext = React.useContext(ChartContext),\n      _React$useContext2 = _slicedToArray(_React$useContext, 1),\n      _React$useContext2$ = _React$useContext2[0],\n      pointer = _React$useContext2$.pointer,\n      brush = _React$useContext2$.brush,\n      gridX = _React$useContext2$.gridX,\n      gridY = _React$useContext2$.gridY,\n      gridHeight = _React$useContext2$.gridHeight,\n      dark = _React$useContext2$.dark;\n\n  if (!brush) {\n    return null;\n  }\n\n  return React.createElement(\"div\", {\n    className: \"Brush\",\n    style: {\n      pointerEvents: 'none',\n      position: 'absolute',\n      left: 0,\n      top: 0,\n      transform: Utils.translate(gridX, gridY),\n      opacity: pointer.dragging ? Math.abs(pointer.sourceX - pointer.x) < 20 ? 0.5 : 1 : 0\n    }\n  }, React.createElement(\"div\", {\n    style: _objectSpread({\n      position: 'absolute',\n      transform: Utils.translate(Math.min(pointer.x, pointer.sourceX), 0),\n      width: \"\".concat(Math.abs(pointer.x - pointer.sourceX), \"px\"),\n      height: \"\".concat(gridHeight, \"px\"),\n      background: dark ? 'rgba(255,255,255,.3)' : 'rgba(0, 26, 39, 0.3)'\n    }, brush.style)\n  }));\n}\n\nBrush.defaultProps = {\n  onSelect: function onSelect() {}\n};\nvar ChartInner = React.forwardRef(function ChartInner(_ref, ref) {\n  var className = _ref.className,\n      _ref$style = _ref.style,\n      style = _ref$style === void 0 ? {} : _ref$style,\n      rest = _objectWithoutProperties(_ref, [\"className\", \"style\"]);\n\n  var _React$useContext = React.useContext(ChartContext),\n      _React$useContext2 = _slicedToArray(_React$useContext, 1),\n      chartState = _React$useContext2[0];\n\n  var _React$useContext3 = React.useContext(ChartContext),\n      _React$useContext4 = _slicedToArray(_React$useContext3, 2),\n      _React$useContext4$ = _React$useContext4[0],\n      width = _React$useContext4$.width,\n      height = _React$useContext4$.height,\n      offset = _React$useContext4$.offset,\n      gridX = _React$useContext4$.gridX,\n      gridY = _React$useContext4$.gridY,\n      stackData = _React$useContext4$.stackData,\n      primaryAxes = _React$useContext4$.primaryAxes,\n      secondaryAxes = _React$useContext4$.secondaryAxes,\n      renderSVG = _React$useContext4$.renderSVG,\n      onClick = _React$useContext4$.onClick,\n      seriesOptions = _React$useContext4$.seriesOptions,\n      getSeriesOrder = _React$useContext4$.getSeriesOrder,\n      focused = _React$useContext4$.focused,\n      setChartState = _React$useContext4[1];\n\n  var svgRef = React.useRef();\n  React.useLayoutEffect(function () {\n    if (!svgRef.current) {\n      return;\n    }\n\n    var current = svgRef.current.getBoundingClientRect();\n\n    if (current.left !== offset.left || current.top !== offset.top) {\n      setChartState(function (state) {\n        return _objectSpread({}, state, {\n          offset: {\n            left: current.left,\n            top: current.top\n          }\n        });\n      });\n    }\n  });\n\n  var _onMouseLeave = function onMouseLeave(e) {\n    setChartState(function (state) {\n      return _objectSpread({}, state, {\n        focused: null\n      });\n    });\n    setChartState(function (state) {\n      return _objectSpread({}, state, {\n        pointer: _objectSpread({}, state.pointer, {\n          active: false\n        })\n      });\n    });\n  };\n\n  var rafRef = React.useRef();\n\n  var _onMouseMove = function onMouseMove(e) {\n    if (rafRef.current) {\n      raf_1.cancel(rafRef.current);\n    }\n\n    rafRef.current = raf_1(function () {\n      rafRef.current = null;\n      var clientX = e.clientX,\n          clientY = e.clientY;\n      setChartState(function (state) {\n        var x = clientX - offset.left - gridX;\n        var y = clientY - offset.top - gridY;\n\n        var pointer = _objectSpread({}, state.pointer, {\n          active: true,\n          x: x,\n          y: y,\n          dragging: state.pointer && state.pointer.down\n        });\n\n        return _objectSpread({}, state, {\n          pointer: pointer\n        });\n      });\n    });\n  };\n\n  var onMouseUp = function onMouseUp() {\n    document.removeEventListener('mouseup', onMouseUp);\n    document.removeEventListener('mousemove', _onMouseMove);\n    setChartState(function (state) {\n      return _objectSpread({}, state, {\n        pointer: _objectSpread({}, state.pointer, {\n          down: false,\n          dragging: false,\n          released: {\n            x: state.pointer.x,\n            y: state.pointer.y\n          }\n        })\n      });\n    });\n  };\n\n  var _onMouseDown = function onMouseDown() {\n    document.addEventListener('mouseup', onMouseUp);\n    document.addEventListener('mousemove', _onMouseMove);\n    setChartState(function (state) {\n      return _objectSpread({}, state, {\n        pointer: _objectSpread({}, state.pointer, {\n          sourceX: state.pointer.x,\n          sourceY: state.pointer.y,\n          down: true\n        })\n      });\n    });\n  }; // Reverse the stack order for proper z-indexing\n\n\n  var reversedStackData = _toConsumableArray(stackData).reverse();\n\n  var orderedStackData = getSeriesOrder(reversedStackData);\n  var focusedSeriesIndex = focused ? orderedStackData.findIndex(function (series) {\n    return series.id === focused.series.id;\n  }) : -1; // Bring focused series to the front\n\n  var focusOrderedStackData = focused ? [].concat(_toConsumableArray(orderedStackData.slice(0, focusedSeriesIndex)), _toConsumableArray(orderedStackData.slice(focusedSeriesIndex + 1)), [orderedStackData[focusedSeriesIndex]]) : orderedStackData;\n  var stacks = focusOrderedStackData.map(function (stack) {\n    return React.createElement(stack.Component, _extends({\n      key: stack.id\n    }, seriesOptions[stack.index], {\n      series: stack,\n      stackData: stackData\n    }));\n  });\n  return React.createElement(\"div\", _extends({\n    ref: ref\n  }, rest, {\n    className: \"ReactChart \".concat(className || ''),\n    style: _objectSpread({\n      width: width,\n      height: height,\n      position: 'relative'\n    }, style)\n  }), React.createElement(\"svg\", {\n    ref: svgRef,\n    style: {\n      width: width,\n      height: height,\n      overflow: 'hidden'\n    },\n    onMouseEnter: function onMouseEnter(e) {\n      return e.persist() || _onMouseMove(e);\n    },\n    onMouseMove: function onMouseMove(e) {\n      return e.persist() || _onMouseMove(e);\n    },\n    onMouseLeave: function onMouseLeave(e) {\n      return e.persist() || _onMouseLeave(e);\n    },\n    onMouseDown: function onMouseDown(e) {\n      return e.persist() || _onMouseDown(e);\n    },\n    onClick: onClick\n  }, React.createElement(\"g\", {\n    style: {\n      transform: Utils.translate(gridX, gridY)\n    }\n  }, React.createElement(Rectangle // To ensure the pointer always has something to hit\n  , {\n    x1: -gridX,\n    x2: width - gridX,\n    y1: -gridY,\n    y2: height - gridY,\n    style: {\n      opacity: 0\n    }\n  }), React.createElement(Voronoi, null), React.createElement(\"g\", {\n    className: \"axes\"\n  }, [].concat(_toConsumableArray(primaryAxes), _toConsumableArray(secondaryAxes)).map(function (axis) {\n    return React.createElement(Axis, _extends({\n      key: axis.id\n    }, axis));\n  })), React.createElement(\"g\", {\n    className: \"Series\",\n    style: {\n      pointerEvents: 'none'\n    }\n  }, stacks)), renderSVG ? renderSVG({\n    chartState: chartState,\n    setChartState: setChartState\n  }) : null), React.createElement(Cursor, {\n    primary: true\n  }), React.createElement(Cursor, null), React.createElement(Brush, null), React.createElement(Tooltip, null));\n});\n\nvar calculateMaterializeData = function calculateMaterializeData(_ref) {\n  var data = _ref.data,\n      getSeriesID = _ref.getSeriesID,\n      getLabel = _ref.getLabel,\n      getPrimaryAxisID = _ref.getPrimaryAxisID,\n      getSecondaryAxisID = _ref.getSecondaryAxisID,\n      getDatums = _ref.getDatums,\n      getPrimary = _ref.getPrimary,\n      getSecondary = _ref.getSecondary,\n      getR = _ref.getR;\n  return React.useMemo(function () {\n    var materializedData = []; // First access the data, and provide it to the context\n\n    for (var seriesIndex = 0; seriesIndex < data.length; seriesIndex++) {\n      var originalSeries = data[seriesIndex];\n      var seriesID = getSeriesID(originalSeries, seriesIndex, data);\n      var seriesLabel = getLabel(originalSeries, seriesIndex, data);\n      var primaryAxisID = getPrimaryAxisID(originalSeries, seriesIndex, data);\n      var secondaryAxisID = getSecondaryAxisID(originalSeries, seriesIndex, data);\n      var originalDatums = getDatums(originalSeries, seriesIndex, data);\n      var datums = [];\n\n      for (var datumIndex = 0; datumIndex < originalDatums.length; datumIndex++) {\n        var originalDatum = originalDatums[datumIndex];\n        datums[datumIndex] = {\n          originalSeries: originalSeries,\n          seriesIndex: seriesIndex,\n          seriesID: seriesID,\n          seriesLabel: seriesLabel,\n          index: datumIndex,\n          originalDatum: originalDatum,\n          primary: getPrimary(originalDatum, datumIndex, originalSeries, seriesIndex, data),\n          secondary: getSecondary(originalDatum, datumIndex, originalSeries, seriesIndex, data),\n          r: getR(originalDatum, datumIndex, originalSeries, seriesIndex, data)\n        };\n      }\n\n      materializedData[seriesIndex] = {\n        originalSeries: originalSeries,\n        index: seriesIndex,\n        id: seriesID,\n        label: seriesLabel,\n        primaryAxisID: primaryAxisID,\n        secondaryAxisID: secondaryAxisID,\n        datums: datums\n      };\n    }\n\n    return materializedData;\n  }, [data, getDatums, getLabel, getPrimary, getPrimaryAxisID, getR, getSecondary, getSecondaryAxisID, getSeriesID]);\n};\n\nfunction usePropsMemo(fn) {\n  var obj = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var watchRef = React.useRef({\n    style: {},\n    props: {}\n  });\n  var valueRef = React.useRef();\n\n  var _obj$style = obj.style,\n      style = _obj$style === void 0 ? {} : _obj$style,\n      props = _objectWithoutProperties(obj, [\"style\"]);\n\n  if (Utils.shallowDiff(watchRef.current.style, style) || Utils.shallowDiff(watchRef.current.props, props)) {\n    watchRef.current = obj;\n    valueRef.current = fn();\n  }\n\n  return valueRef.current;\n}\n\nfunction useSeriesStyle(series) {\n  var _React$useContext = React.useContext(ChartContext),\n      _React$useContext2 = _slicedToArray(_React$useContext, 1),\n      _React$useContext2$ = _React$useContext2[0],\n      focused = _React$useContext2$.focused,\n      getSeriesStyle = _React$useContext2$.getSeriesStyle;\n\n  return series.getStatusStyle(focused, getSeriesStyle);\n}\n\nfunction useDatumStyle(datum) {\n  var _React$useContext = React.useContext(ChartContext),\n      _React$useContext2 = _slicedToArray(_React$useContext, 1),\n      _React$useContext2$ = _React$useContext2[0],\n      focused = _React$useContext2$.focused,\n      getDatumStyle = _React$useContext2$.getDatumStyle;\n\n  return datum.getStatusStyle(focused, getDatumStyle);\n}\n\nvar defaultStyle$4 = {\n  r: 2,\n  strokeWidth: '1',\n  stroke: '#000000',\n  fill: '#000000',\n  opacity: 1\n};\n\nfunction Circle$1(_ref) {\n  var x = _ref.x,\n      y = _ref.y,\n      r = _ref.r,\n      style = _ref.style,\n      rest = _objectWithoutProperties(_ref, [\"x\", \"y\", \"r\", \"style\"]);\n\n  var resolvedStyle = _objectSpread({}, defaultStyle$4, style);\n\n  return React.createElement(\"circle\", _extends({}, rest, {\n    cx: x || 0,\n    cy: y || 0,\n    r: 1,\n    style: resolvedStyle\n  }));\n}\n\nvar pathDefaultStyle = {\n  strokeWidth: 2\n};\nvar circleDefaultStyle = {\n  r: 2\n};\n\nfunction Line$1(_ref) {\n  var series = _ref.series,\n      showPoints = _ref.showPoints,\n      curve = _ref.curve;\n  var lineFn = React.useMemo(function () {\n    return line().x(function (d) {\n      return d.x;\n    }).y(function (d) {\n      return d.y;\n    }).defined(function (d) {\n      return d.defined;\n    }).curve(curve);\n  }, [curve]);\n  var path = React.useMemo(function () {\n    return lineFn(series.datums);\n  }, [lineFn, series.datums]);\n  var style = useSeriesStyle(series);\n  var pathProps = {\n    d: path,\n    style: _objectSpread({}, pathDefaultStyle, style, style.line, {\n      fill: 'none'\n    })\n  };\n  var renderedPath = usePropsMemo(function () {\n    return React.createElement(Path$1, pathProps);\n  }, pathProps);\n  return React.useMemo(function () {\n    return React.createElement(\"g\", null, renderedPath, showPoints && series.datums.map(function (datum, i) {\n      return React.createElement(Point, {\n        key: i,\n        datum: datum,\n        style: style\n      });\n    }));\n  }, [renderedPath, series.datums, showPoints, style]);\n}\n\nLine$1.defaultProps = {\n  curve: monotoneX\n};\n\nLine$1.plotDatum = function (datum, _ref2) {\n  var primaryAxis = _ref2.primaryAxis,\n      secondaryAxis = _ref2.secondaryAxis,\n      xAxis = _ref2.xAxis,\n      yAxis = _ref2.yAxis;\n  datum.primaryCoord = primaryAxis.scale(datum.primary);\n  datum.secondaryCoord = secondaryAxis.scale(datum.secondary);\n  datum.x = xAxis.scale(datum.xValue);\n  datum.y = yAxis.scale(datum.yValue);\n  datum.defined = Utils.isValidPoint(datum.xValue) && Utils.isValidPoint(datum.yValue);\n  datum.base = primaryAxis.vertical ? xAxis.scale(datum.baseValue) : yAxis.scale(datum.baseValue); // Adjust non-bar elements for ordinal scales\n\n  if (xAxis.type === 'ordinal') {\n    datum.x += xAxis.tickOffset;\n  }\n\n  if (yAxis.type === 'ordinal') {\n    datum.y += yAxis.tickOffset;\n  } // Set the default anchor point\n\n\n  datum.anchor = {\n    x: datum.x,\n    y: datum.y // Set the pointer points (used in voronoi)\n\n  };\n  datum.boundingPoints = [datum.anchor];\n};\n\nLine$1.buildStyles = function (series, _ref3) {\n  var defaultColors = _ref3.defaultColors;\n  var defaults = {\n    // Pass some sane defaults\n    color: defaultColors[series.index % (defaultColors.length - 1)]\n  };\n  Utils.buildStyleGetters(series, defaults);\n};\n\nfunction Point(_ref4) {\n  var datum = _ref4.datum,\n      style = _ref4.style;\n\n  var _React$useContext = React.useContext(ChartContext),\n      _React$useContext2 = _slicedToArray(_React$useContext, 2),\n      setChartState = _React$useContext2[1];\n\n  var dataStyle = useDatumStyle(datum);\n  var circleProps = {\n    x: datum ? datum.x : undefined,\n    y: datum ? datum.y : undefined,\n    style: _objectSpread({}, circleDefaultStyle, style, style.circle, dataStyle, dataStyle.circle),\n    onMouseEnter: function onMouseEnter(e) {\n      return setChartState(function (state) {\n        return _objectSpread({}, state, {\n          element: datum\n        });\n      });\n    },\n    onMouseLeave: function onMouseLeave(e) {\n      return setChartState(function (state) {\n        return _objectSpread({}, state, {\n          element: null\n        });\n      });\n    }\n  };\n  return usePropsMemo(function () {\n    if (!datum.defined) {\n      return null;\n    }\n\n    return React.createElement(Circle$1, circleProps);\n  }, circleProps);\n}\n\nvar circleDefaultStyle$1 = {\n  r: 2\n};\n\nfunction Bubble(_ref) {\n  var series = _ref.series;\n  var style = useSeriesStyle(series);\n  return React.createElement(\"g\", null, series.datums.map(function (datum, i) {\n    return React.createElement(Point$1, {\n      key: i,\n      datum: datum,\n      style: style\n    });\n  }));\n}\n\nBubble.plotDatum = function (datum, _ref2) {\n  var primaryAxis = _ref2.primaryAxis,\n      secondaryAxis = _ref2.secondaryAxis,\n      xAxis = _ref2.xAxis,\n      yAxis = _ref2.yAxis;\n  datum.primaryCoord = primaryAxis.scale(datum.primary);\n  datum.secondaryCoord = secondaryAxis.scale(datum.secondary);\n  datum.x = xAxis.scale(datum.xValue);\n  datum.y = yAxis.scale(datum.yValue);\n  datum.defined = Utils.isValidPoint(datum.xValue) && Utils.isValidPoint(datum.yValue);\n  datum.base = primaryAxis.vertical ? xAxis.scale(datum.baseValue) : yAxis.scale(datum.baseValue); // Adjust non-bar elements for ordinal scales\n\n  if (xAxis.type === 'ordinal') {\n    datum.x += xAxis.tickOffset;\n  }\n\n  if (yAxis.type === 'ordinal') {\n    datum.y += yAxis.tickOffset;\n  } // Set the default anchor point\n\n\n  datum.anchor = {\n    x: datum.x,\n    y: datum.y,\n    verticalPadding: datum.r,\n    horizontalPadding: datum.r // Set the pointer points (used in voronoi)\n\n  };\n  datum.boundingPoints = [datum.anchor];\n};\n\nBubble.buildStyles = function (series, _ref3) {\n  var defaultColors = _ref3.defaultColors;\n  var defaults = {\n    // Pass some sane defaults\n    color: defaultColors[series.index % (defaultColors.length - 1)]\n  };\n  Utils.buildStyleGetters(series, defaults);\n};\n\nfunction Point$1(_ref4) {\n  var datum = _ref4.datum,\n      style = _ref4.style;\n  var dataStyle = useDatumStyle(datum);\n\n  var _React$useContext = React.useContext(ChartContext),\n      _React$useContext2 = _slicedToArray(_React$useContext, 2),\n      setChartState = _React$useContext2[1];\n\n  var circleProps = {\n    x: datum ? datum.x : undefined,\n    y: datum ? datum.y : undefined,\n    style: _objectSpread({}, circleDefaultStyle$1, typeof datum.r !== 'undefined' ? {\n      r: datum.r\n    } : {}, style, style.circle, dataStyle, dataStyle.circle),\n    onMouseEnter: function onMouseEnter(e) {\n      return setChartState(function (state) {\n        return _objectSpread({}, state, {\n          element: datum\n        });\n      });\n    },\n    onMouseLeave: function onMouseLeave(e) {\n      return setChartState(function (state) {\n        return _objectSpread({}, state, {\n          element: null\n        });\n      });\n    }\n  };\n  return usePropsMemo(function () {\n    if (!datum.defined) {\n      return null;\n    }\n\n    return React.createElement(Circle$1, circleProps);\n  }, circleProps);\n}\n\nvar defaultAreaStyle = {\n  strokeWidth: 0\n};\nvar lineDefaultStyle = {\n  strokeWidth: 3\n};\n\nfunction Area(_ref) {\n  var series = _ref.series,\n      showOrphans = _ref.showOrphans,\n      curve = _ref.curve;\n  var areaFn = React.useMemo(function () {\n    return area().x(function (d) {\n      return d.x;\n    }).y0(function (d) {\n      return d.base;\n    }).y1(function (d) {\n      return d.y;\n    }).defined(function (d) {\n      return d.defined;\n    }).curve(curve);\n  }, [curve]);\n  var lineFn = React.useMemo(function () {\n    return line().x(function (d) {\n      return d.x;\n    }).y(function (d) {\n      return d.y;\n    }).defined(function (d) {\n      return d.defined;\n    }).curve(curve);\n  }, [curve]);\n  var areaPath = React.useMemo(function () {\n    return areaFn(series.datums);\n  }, [areaFn, series.datums]);\n  var linePath = React.useMemo(function () {\n    return lineFn(series.datums);\n  }, [lineFn, series.datums]);\n  var style = useSeriesStyle(series);\n  var areaPathProps = {\n    d: areaPath,\n    style: _objectSpread({}, defaultAreaStyle, style, style.line)\n  };\n  var renderedAreaPath = usePropsMemo(function () {\n    return React.createElement(Path$1, areaPathProps);\n  }, areaPathProps);\n  var linePathProps = {\n    d: linePath,\n    style: _objectSpread({}, defaultAreaStyle, style, style.line, {\n      fill: 'none'\n    })\n  };\n  var renderedLinePath = usePropsMemo(function () {\n    return React.createElement(Path$1, linePathProps);\n  }, linePathProps);\n  return React.createElement(\"g\", null, renderedAreaPath, renderedLinePath, showOrphans && series.datums.map(function (datum, index, all) {\n    return React.createElement(OrphanLine, {\n      key: index,\n      datum: datum,\n      style: style,\n      all: all,\n      index: index\n    });\n  }));\n}\n\nArea.defaultProps = {\n  showOrphans: true,\n  curve: curveLinear\n};\n\nArea.plotDatum = function (datum, _ref2) {\n  var primaryAxis = _ref2.primaryAxis,\n      secondaryAxis = _ref2.secondaryAxis,\n      xAxis = _ref2.xAxis,\n      yAxis = _ref2.yAxis; // Turn clamping on for secondaryAxis\n\n  secondaryAxis.scale.clamp(true);\n  datum.primaryCoord = primaryAxis.scale(datum.primary);\n  datum.secondaryCoord = secondaryAxis.scale(datum.secondary);\n  datum.x = xAxis.scale(datum.xValue);\n  datum.y = yAxis.scale(datum.yValue);\n  datum.defined = Utils.isValidPoint(datum.xValue) && Utils.isValidPoint(datum.yValue);\n  datum.base = primaryAxis.vertical ? xAxis.scale(datum.baseValue) : yAxis.scale(datum.baseValue); // Turn clamping back off for secondaryAxis\n\n  secondaryAxis.scale.clamp(false); // Adjust non-bar elements for ordinal scales\n\n  if (xAxis.type === 'ordinal') {\n    datum.x += xAxis.tickOffset;\n  }\n\n  if (yAxis.type === 'ordinal') {\n    datum.y += yAxis.tickOffset;\n  } // Set the default anchor point\n\n\n  datum.anchor = {\n    x: datum.x,\n    y: datum.y // Set the pointer points (used in voronoi)\n\n  };\n  datum.boundingPoints = [datum.anchor, {\n    x: primaryAxis.vertical ? primaryAxis.position === 'left' ? datum.base - 1 : datum.base : datum.anchor.x,\n    y: !primaryAxis.vertical ? primaryAxis.position === 'bottom' ? datum.base - 1 : datum.base : datum.anchor.y\n  }];\n};\n\nArea.buildStyles = function (series, _ref3) {\n  var defaultColors = _ref3.defaultColors;\n  var defaults = {\n    // Pass some sane defaults\n    color: defaultColors[series.index % (defaultColors.length - 1)]\n  };\n  Utils.buildStyleGetters(series, defaults);\n};\n\nvar OrphanLine = function OrphanLine(_ref4) {\n  var datum = _ref4.datum,\n      style = _ref4.style,\n      all = _ref4.all,\n      index = _ref4.index;\n  var prev = all[index - 1] || {\n    defined: false\n  };\n  var next = all[index + 1] || {\n    defined: false\n  };\n  var dataStyle = useDatumStyle(datum);\n  var lineProps = {\n    x1: !datum || Number.isNaN(datum.x) ? null : datum.x,\n    y1: !datum || Number.isNaN(datum.base) ? null : datum.base,\n    x2: !datum || Number.isNaN(datum.x) ? null : datum.x,\n    y2: !datum || Number.isNaN(datum.y) ? null : datum.y,\n    style: _objectSpread({}, lineDefaultStyle, style, style.line, dataStyle, dataStyle.line)\n  };\n  return usePropsMemo(function () {\n    if (!datum.defined || prev.defined || next.defined) {\n      return null;\n    }\n\n    return React.createElement(Line, lineProps);\n  }, lineProps);\n};\n\nfunction Bar(_ref) {\n  var series = _ref.series;\n\n  var _React$useContext = React.useContext(ChartContext),\n      _React$useContext2 = _slicedToArray(_React$useContext, 1),\n      primaryAxes = _React$useContext2[0].primaryAxes;\n\n  var style = useSeriesStyle(series);\n\n  var _ref2 = series.primaryAxisID ? primaryAxes.find(function (d) {\n    return d.id === series.primaryAxisID;\n  }) : primaryAxes[0],\n      barOffset = _ref2.barOffset;\n\n  return React.createElement(\"g\", {\n    className: \"series bar\"\n  }, series.datums.map(function (datum, i) {\n    return React.createElement(BarPiece, _extends({\n      key: i\n    }, {\n      datum: datum,\n      barOffset: barOffset,\n      style: style\n    }));\n  }));\n}\n\nfunction BarPiece(_ref3) {\n  var datum = _ref3.datum,\n      barOffset = _ref3.barOffset,\n      style = _ref3.style;\n\n  var _React$useContext3 = React.useContext(ChartContext),\n      _React$useContext4 = _slicedToArray(_React$useContext3, 2),\n      primaryAxes = _React$useContext4[0].primaryAxes,\n      setChartState = _React$useContext4[1];\n\n  var x = datum ? datum.x : 0;\n  var y = datum ? datum.y : 0;\n  var base = datum ? datum.base : 0;\n  var size = datum ? datum.size : 0;\n  var x1;\n  var y1;\n  var x2;\n  var y2;\n\n  if (primaryAxes.find(function (d) {\n    return d.vertical;\n  })) {\n    x1 = base;\n    x2 = x;\n    y1 = y + barOffset;\n    y2 = y1 + size;\n  } else {\n    x1 = x + barOffset;\n    x2 = x1 + size;\n    y1 = y;\n    y2 = base;\n  }\n\n  var dataStyle = useDatumStyle(datum);\n  var rectangleProps = {\n    style: _objectSpread({\n      pointerEvents: 'all'\n    }, style, style.rectangle, dataStyle, dataStyle.rectangle),\n    x1: Number.isNaN(x1) ? null : x1,\n    y1: Number.isNaN(y1) ? null : y1,\n    x2: Number.isNaN(x2) ? null : x2,\n    y2: Number.isNaN(y2) ? null : y2,\n    onMouseEnter: function onMouseEnter(e) {\n      return setChartState(function (state) {\n        return _objectSpread({}, state, {\n          element: datum\n        });\n      });\n    },\n    onMouseLeave: function onMouseLeave(e) {\n      return setChartState(function (state) {\n        return _objectSpread({}, state, {\n          element: null\n        });\n      });\n    }\n  };\n  return usePropsMemo(function () {\n    return React.createElement(Rectangle, rectangleProps);\n  }, rectangleProps);\n}\n\nBar.plotDatum = function (datum, _ref4) {\n  var xAxis = _ref4.xAxis,\n      yAxis = _ref4.yAxis,\n      primaryAxis = _ref4.primaryAxis,\n      secondaryAxis = _ref4.secondaryAxis; // Turn clamping on for secondaryAxis\n\n  secondaryAxis.scale.clamp(true);\n  datum.primaryCoord = primaryAxis.scale(datum.primary);\n  datum.secondaryCoord = secondaryAxis.scale(datum.secondary);\n  datum.x = xAxis.scale(datum.xValue);\n  datum.y = yAxis.scale(datum.yValue);\n  datum.defined = Utils.isValidPoint(datum.xValue) && Utils.isValidPoint(datum.yValue);\n  datum.base = secondaryAxis.scale(datum.baseValue);\n  datum.size = primaryAxis.barSize; // Turn clamping back off for secondaryAxis\n\n  secondaryAxis.scale.clamp(false);\n\n  if (!secondaryAxis.stacked) {\n    datum.size = primaryAxis.seriesBarSize; // Use the seriesTypeIndex here in case we have mixed types.\n\n    var seriesBandScaleOffset = primaryAxis.seriesBandScale(datum.seriesTypeIndex);\n\n    if (secondaryAxis.vertical) {\n      datum.x += seriesBandScaleOffset;\n    } else {\n      datum.y += seriesBandScaleOffset;\n    }\n  } // Set the default anchor point\n\n\n  datum.anchor = {\n    x: datum.x,\n    y: datum.y,\n    horizontalPadding: secondaryAxis.vertical ? datum.size / 2 : 0,\n    verticalPadding: secondaryAxis.vertical ? 0 : datum.size / 2 // Adjust the anchor point for bars\n\n  };\n\n  if (!primaryAxis.vertical) {\n    datum.anchor.x += primaryAxis.type !== 'ordinal' ? 0 : datum.size / 2;\n  } else {\n    datum.anchor.y += primaryAxis.type !== 'ordinal' ? 0 : datum.size / 2;\n  } // Set the pointer points (used in voronoi)\n\n\n  datum.boundingPoints = [// End of bar\n  datum.anchor, // Start of bar\n  {\n    x: primaryAxis.vertical ? primaryAxis.position === 'left' ? datum.base + 1 : datum.base : datum.anchor.x,\n    y: !primaryAxis.vertical ? primaryAxis.position === 'bottom' ? datum.base - 1 : datum.base : datum.anchor.y\n  }];\n};\n\nBar.buildStyles = function (series, _ref5) {\n  var defaultColors = _ref5.defaultColors;\n  var defaults = {\n    // Pass some sane defaults\n    color: defaultColors[series.index % (defaultColors.length - 1)]\n  };\n  Utils.buildStyleGetters(series, defaults);\n};\n\nvar seriesTypes = {\n  line: Line$1,\n  bubble: Bubble,\n  area: Area,\n  bar: Bar // pie: Pie\n\n};\nvar defaultSeries = {\n  type: 'line',\n  showPoints: true,\n  showOrphans: true,\n  curve: monotoneX\n};\nvar seriesPropType = PropTypes.oneOfType([PropTypes.shape({\n  type: PropTypes.string,\n  showPoints: PropTypes.bool,\n  showOrphans: PropTypes.bool,\n  curve: PropTypes.func\n}), PropTypes.func]);\n\nvar calculateSeriesOptions = function calculateSeriesOptions(_ref) {\n  var materializedData = _ref.materializedData,\n      series = _ref.series;\n  return React.useMemo(function () {\n    return materializedData.map(function (s, seriesIndex) {\n      var _defaultSeries = _objectSpread({}, defaultSeries, typeof series === 'function' ? series(s, seriesIndex) : series),\n          type = _defaultSeries.type,\n          rest = _objectWithoutProperties(_defaultSeries, [\"type\"]);\n\n      var renderer = seriesTypes[type];\n\n      if (!renderer) {\n        throw new Error(\"Could not find a registered series type for \".concat(type));\n      }\n\n      return _objectSpread({}, rest, {\n        type: type,\n        renderer: renderer\n      });\n    });\n  }, [materializedData, series]);\n};\n\nvar calculateSeriesTypes = function calculateSeriesTypes(_ref) {\n  var materializedData = _ref.materializedData,\n      seriesOptions = _ref.seriesOptions;\n  return React.useMemo(function () {\n    return materializedData.map(function (series, i) {\n      series.Component = seriesOptions[i].renderer;\n      return series;\n    }).map(function (series, i, all) {\n      var seriesTypeIndex = all.filter(function (d, j) {\n        return j < i && d.Component === series.Component;\n      }).length;\n      return _objectSpread({}, series, {\n        seriesTypeIndex: seriesTypeIndex,\n        datums: series.datums.map(function (datum) {\n          return _objectSpread({}, datum, {\n            seriesTypeIndex: seriesTypeIndex\n          });\n        })\n      });\n    });\n  }, [materializedData, seriesOptions]);\n};\n\nvar calculateDimensions = function calculateDimensions(_ref) {\n  var width = _ref.width,\n      height = _ref.height,\n      axisDimensions = _ref.axisDimensions,\n      padding = _ref.padding,\n      offset = _ref.offset;\n  offset = React.useMemo(function () {\n    return {\n      left: offset.left || 0,\n      top: offset.top || 0\n    };\n  }, [offset]);\n\n  var _React$useMemo = React.useMemo(function () {\n    // Left\n    var axesLeftWidth = axisDimensions.left && Utils.sumObjBy(axisDimensions.left, 'width') || 0;\n    var axesLeftTop = axisDimensions.left && Utils.sumObjBy(axisDimensions.left, 'top') || 0;\n    var axesLeftBottom = axisDimensions.left && Utils.sumObjBy(axisDimensions.left, 'bottom') || 0; // Right\n\n    var axesRightWidth = axisDimensions.right && Utils.sumObjBy(axisDimensions.right, 'width') || 0;\n    var axesRightTop = axisDimensions.right && Utils.sumObjBy(axisDimensions.right, 'top') || 0;\n    var axesRightBottom = axisDimensions.right && Utils.sumObjBy(axisDimensions.right, 'bottom') || 0; // Top\n\n    var axesTopHeight = axisDimensions.top && Utils.sumObjBy(axisDimensions.top, 'height') || 0;\n    var axesTopLeft = axisDimensions.top && Utils.sumObjBy(axisDimensions.top, 'left') || 0;\n    var axesTopRight = axisDimensions.top && Utils.sumObjBy(axisDimensions.top, 'right') || 0; // Bottom\n\n    var axesBottomHeight = axisDimensions.bottom && Utils.sumObjBy(axisDimensions.bottom, 'height') || 0;\n    var axesBottomLeft = axisDimensions.bottom && Utils.sumObjBy(axisDimensions.bottom, 'left') || 0;\n    var axesBottomRight = axisDimensions.bottom && Utils.sumObjBy(axisDimensions.bottom, 'right') || 0;\n    var paddingLeft = padding.left || 0;\n    var paddingRight = padding.right || 0;\n    var paddingTop = padding.top || 0;\n    var paddingBottom = padding.bottom || 0;\n    var gridX = paddingLeft + Math.max(axesLeftWidth, axesTopLeft, axesBottomLeft);\n    var gridY = paddingTop + Math.max(axesTopHeight, axesLeftTop, axesRightTop);\n    var gridWidth = width - paddingLeft - paddingRight - Math.max(axesLeftWidth, axesTopLeft, axesBottomLeft) - Math.max(axesRightWidth, axesTopRight, axesBottomRight);\n    var gridHeight = height - paddingTop - paddingBottom - Math.max(axesTopHeight, axesLeftTop, axesRightTop) - Math.max(axesBottomHeight, axesLeftBottom, axesRightBottom);\n    return {\n      gridX: gridX,\n      gridY: gridY,\n      gridWidth: gridWidth,\n      gridHeight: gridHeight\n    };\n  }, [width, height, axisDimensions, padding]),\n      gridX = _React$useMemo.gridX,\n      gridY = _React$useMemo.gridY,\n      gridWidth = _React$useMemo.gridWidth,\n      gridHeight = _React$useMemo.gridHeight;\n\n  return {\n    offset: offset,\n    gridX: gridX,\n    gridY: gridY,\n    gridWidth: gridWidth,\n    gridHeight: gridHeight\n  };\n};\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n\nfunction bisector(compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function left(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;else hi = mid;\n      }\n\n      return lo;\n    },\n    right: function right(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;else lo = mid + 1;\n      }\n\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function (d, x) {\n    return ascending(f(d), x);\n  };\n}\n\nvar ascendingBisect = bisector(ascending);\nvar bisectRight = ascendingBisect.right;\n\nfunction sequence(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n\nvar e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nfunction ticks(start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    start = Math.ceil(start / step);\n    stop = Math.floor(stop / step);\n    ticks = new Array(n = Math.ceil(stop - start + 1));\n\n    while (++i < n) {\n      ticks[i] = (start + i) * step;\n    }\n  } else {\n    start = Math.floor(start * step);\n    stop = Math.ceil(stop * step);\n    ticks = new Array(n = Math.ceil(start - stop + 1));\n\n    while (++i < n) {\n      ticks[i] = (start - i) / step;\n    }\n  }\n\n  if (reverse) ticks.reverse();\n  return ticks;\n}\n\nfunction tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0 ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power) : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nfunction tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;else if (error >= e5) step1 *= 5;else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n\nfunction initRange(domain, range) {\n  switch (arguments.length) {\n    case 0:\n      break;\n\n    case 1:\n      this.range(domain);\n      break;\n\n    default:\n      this.range(range).domain(domain);\n      break;\n  }\n\n  return this;\n}\n\nvar implicit = Symbol(\"implicit\");\n\nfunction ordinal() {\n  var index = new Map(),\n      domain = [],\n      range = [],\n      unknown = implicit;\n\n  function scale(d) {\n    var key = d + \"\",\n        i = index.get(key);\n\n    if (!i) {\n      if (unknown !== implicit) return unknown;\n      index.set(key, i = domain.push(d));\n    }\n\n    return range[(i - 1) % range.length];\n  }\n\n  scale.domain = function (_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = new Map();\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = _[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var value = _step.value;\n        var key = value + \"\";\n        if (index.has(key)) continue;\n        index.set(key, domain.push(value));\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n          _iterator[\"return\"]();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n\n    return scale;\n  };\n\n  scale.range = function (_) {\n    return arguments.length ? (range = Array.from(_), scale) : range.slice();\n  };\n\n  scale.unknown = function (_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function () {\n    return ordinal(domain, range).unknown(unknown);\n  };\n\n  initRange.apply(scale, arguments);\n  return scale;\n}\n\nfunction band() {\n  var scale = ordinal().unknown(undefined),\n      domain = scale.domain,\n      ordinalRange = scale.range,\n      r0 = 0,\n      r1 = 1,\n      step,\n      bandwidth,\n      round = false,\n      paddingInner = 0,\n      paddingOuter = 0,\n      align = 0.5;\n  delete scale.unknown;\n\n  function rescale() {\n    var n = domain().length,\n        reverse = r1 < r0,\n        start = reverse ? r1 : r0,\n        stop = reverse ? r0 : r1;\n    step = (stop - start) / Math.max(1, n - paddingInner + paddingOuter * 2);\n    if (round) step = Math.floor(step);\n    start += (stop - start - step * (n - paddingInner)) * align;\n    bandwidth = step * (1 - paddingInner);\n    if (round) start = Math.round(start), bandwidth = Math.round(bandwidth);\n    var values = sequence(n).map(function (i) {\n      return start + step * i;\n    });\n    return ordinalRange(reverse ? values.reverse() : values);\n  }\n\n  scale.domain = function (_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.range = function (_) {\n    var _ref6, _ref7;\n\n    return arguments.length ? ((_ref6 = _, _ref7 = _slicedToArray2(_ref6, 2), r0 = _ref7[0], r1 = _ref7[1], _ref6), r0 = +r0, r1 = +r1, rescale()) : [r0, r1];\n  };\n\n  scale.rangeRound = function (_) {\n    var _ref8, _ref9;\n\n    return (_ref8 = _, _ref9 = _slicedToArray2(_ref8, 2), r0 = _ref9[0], r1 = _ref9[1], _ref8), r0 = +r0, r1 = +r1, round = true, rescale();\n  };\n\n  scale.bandwidth = function () {\n    return bandwidth;\n  };\n\n  scale.step = function () {\n    return step;\n  };\n\n  scale.round = function (_) {\n    return arguments.length ? (round = !!_, rescale()) : round;\n  };\n\n  scale.padding = function (_) {\n    return arguments.length ? (paddingInner = Math.min(1, paddingOuter = +_), rescale()) : paddingInner;\n  };\n\n  scale.paddingInner = function (_) {\n    return arguments.length ? (paddingInner = Math.min(1, _), rescale()) : paddingInner;\n  };\n\n  scale.paddingOuter = function (_) {\n    return arguments.length ? (paddingOuter = +_, rescale()) : paddingOuter;\n  };\n\n  scale.align = function (_) {\n    return arguments.length ? (align = Math.max(0, Math.min(1, _)), rescale()) : align;\n  };\n\n  scale.copy = function () {\n    return band(domain(), [r0, r1]).round(round).paddingInner(paddingInner).paddingOuter(paddingOuter).align(align);\n  };\n\n  return initRange.apply(rescale(), arguments);\n}\n\nfunction define(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nfunction extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n\n  for (var key in definition) {\n    prototype[key] = definition[key];\n  }\n\n  return prototype;\n}\n\nfunction Color() {}\n\nvar _darker = 0.7;\n\nvar _brighter = 1 / _darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex3 = /^#([0-9a-f]{3})$/,\n    reHex6 = /^#([0-9a-f]{6})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\ndefine(Color, color, {\n  displayable: function displayable() {\n    return this.rgb().displayable();\n  },\n  hex: function hex() {\n    return this.rgb().hex();\n  },\n  toString: function toString() {\n    return this.rgb() + \"\";\n  }\n});\n\nfunction color(format) {\n  var m;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex3.exec(format)) ? (m = parseInt(m[1], 16), new Rgb(m >> 8 & 0xf | m >> 4 & 0x0f0, m >> 4 & 0xf | m & 0xf0, (m & 0xf) << 4 | m & 0xf, 1) // #f00\n  ) : (m = reHex6.exec(format)) ? rgbn(parseInt(m[1], 16)) // #ff0000\n  : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n  : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n  : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n  : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n  : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n  : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n  : named.hasOwnProperty(format) ? rgbn(named[format]) : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0) : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nfunction rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb();\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nfunction rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nfunction Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function brighter(k) {\n    k = k == null ? _brighter : Math.pow(_brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function darker(k) {\n    k = k == null ? _darker : Math.pow(_darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function rgb() {\n    return this;\n  },\n  displayable: function displayable() {\n    return 0 <= this.r && this.r <= 255 && 0 <= this.g && this.g <= 255 && 0 <= this.b && this.b <= 255 && 0 <= this.opacity && this.opacity <= 1;\n  },\n  hex: function hex() {\n    return \"#\" + _hex(this.r) + _hex(this.g) + _hex(this.b);\n  },\n  toString: function toString() {\n    var a = this.opacity;\n    a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"rgb(\" : \"rgba(\") + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \" + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \" + Math.max(0, Math.min(255, Math.round(this.b) || 0)) + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\nfunction _hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;else if (l <= 0 || l >= 1) h = s = NaN;else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nfunction hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl();\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;else if (g === max) h = (b - r) / s + 2;else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n\n  return new Hsl(h, s, l, o.opacity);\n}\n\nfunction hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function brighter(k) {\n    k = k == null ? _brighter : Math.pow(_brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function darker(k) {\n    k = k == null ? _darker : Math.pow(_darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function rgb() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2), hsl2rgb(h, m1, m2), hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2), this.opacity);\n  },\n  displayable: function displayable() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s)) && 0 <= this.l && this.l <= 1 && 0 <= this.opacity && this.opacity <= 1;\n  }\n}));\n/* From FvD 13.37, CSS Color Module Level 3 */\n\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60 : h < 180 ? m2 : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60 : m1) * 255;\n}\n\nvar deg2rad = Math.PI / 180;\nvar rad2deg = 180 / Math.PI; // https://beta.observablehq.com/@mbostock/lab-and-rgb\n\nvar K = 18,\n    Xn = 0.96422,\n    Yn = 1,\n    Zn = 0.82521,\n    t0 = 4 / 29,\n    t1 = 6 / 29,\n    t2 = 3 * t1 * t1,\n    t3 = t1 * t1 * t1;\n\nfunction labConvert(o) {\n  if (o instanceof Lab) return new Lab(o.l, o.a, o.b, o.opacity);\n\n  if (o instanceof Hcl) {\n    if (isNaN(o.h)) return new Lab(o.l, 0, 0, o.opacity);\n    var h = o.h * deg2rad;\n    return new Lab(o.l, Math.cos(h) * o.c, Math.sin(h) * o.c, o.opacity);\n  }\n\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = rgb2lrgb(o.r),\n      g = rgb2lrgb(o.g),\n      b = rgb2lrgb(o.b),\n      y = xyz2lab((0.2225045 * r + 0.7168786 * g + 0.0606169 * b) / Yn),\n      x,\n      z;\n  if (r === g && g === b) x = z = y;else {\n    x = xyz2lab((0.4360747 * r + 0.3850649 * g + 0.1430804 * b) / Xn);\n    z = xyz2lab((0.0139322 * r + 0.0971045 * g + 0.7141733 * b) / Zn);\n  }\n  return new Lab(116 * y - 16, 500 * (x - y), 200 * (y - z), o.opacity);\n}\n\nfunction lab(l, a, b, opacity) {\n  return arguments.length === 1 ? labConvert(l) : new Lab(l, a, b, opacity == null ? 1 : opacity);\n}\n\nfunction Lab(l, a, b, opacity) {\n  this.l = +l;\n  this.a = +a;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Lab, lab, extend(Color, {\n  brighter: function brighter(k) {\n    return new Lab(this.l + K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  darker: function darker(k) {\n    return new Lab(this.l - K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  rgb: function rgb() {\n    var y = (this.l + 16) / 116,\n        x = isNaN(this.a) ? y : y + this.a / 500,\n        z = isNaN(this.b) ? y : y - this.b / 200;\n    x = Xn * lab2xyz(x);\n    y = Yn * lab2xyz(y);\n    z = Zn * lab2xyz(z);\n    return new Rgb(lrgb2rgb(3.1338561 * x - 1.6168667 * y - 0.4906146 * z), lrgb2rgb(-0.9787684 * x + 1.9161415 * y + 0.0334540 * z), lrgb2rgb(0.0719453 * x - 0.2289914 * y + 1.4052427 * z), this.opacity);\n  }\n}));\n\nfunction xyz2lab(t) {\n  return t > t3 ? Math.pow(t, 1 / 3) : t / t2 + t0;\n}\n\nfunction lab2xyz(t) {\n  return t > t1 ? t * t * t : t2 * (t - t0);\n}\n\nfunction lrgb2rgb(x) {\n  return 255 * (x <= 0.0031308 ? 12.92 * x : 1.055 * Math.pow(x, 1 / 2.4) - 0.055);\n}\n\nfunction rgb2lrgb(x) {\n  return (x /= 255) <= 0.04045 ? x / 12.92 : Math.pow((x + 0.055) / 1.055, 2.4);\n}\n\nfunction hclConvert(o) {\n  if (o instanceof Hcl) return new Hcl(o.h, o.c, o.l, o.opacity);\n  if (!(o instanceof Lab)) o = labConvert(o);\n  if (o.a === 0 && o.b === 0) return new Hcl(NaN, 0, o.l, o.opacity);\n  var h = Math.atan2(o.b, o.a) * rad2deg;\n  return new Hcl(h < 0 ? h + 360 : h, Math.sqrt(o.a * o.a + o.b * o.b), o.l, o.opacity);\n}\n\nfunction hcl(h, c, l, opacity) {\n  return arguments.length === 1 ? hclConvert(h) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hcl(h, c, l, opacity) {\n  this.h = +h;\n  this.c = +c;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hcl, hcl, extend(Color, {\n  brighter: function brighter(k) {\n    return new Hcl(this.h, this.c, this.l + K * (k == null ? 1 : k), this.opacity);\n  },\n  darker: function darker(k) {\n    return new Hcl(this.h, this.c, this.l - K * (k == null ? 1 : k), this.opacity);\n  },\n  rgb: function rgb() {\n    return labConvert(this).rgb();\n  }\n}));\nvar A = -0.14861,\n    B = +1.78277,\n    C = -0.29227,\n    D = -0.90649,\n    E = +1.97294,\n    ED = E * D,\n    EB = E * B,\n    BC_DA = B * C - D * A;\n\nfunction cubehelixConvert(o) {\n  if (o instanceof Cubehelix) return new Cubehelix(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      l = (BC_DA * b + ED * r - EB * g) / (BC_DA + ED - EB),\n      bl = b - l,\n      k = (E * (g - l) - C * bl) / D,\n      s = Math.sqrt(k * k + bl * bl) / (E * l * (1 - l)),\n      // NaN if l=0 or l=1\n  h = s ? Math.atan2(k, bl) * rad2deg - 120 : NaN;\n  return new Cubehelix(h < 0 ? h + 360 : h, s, l, o.opacity);\n}\n\nfunction cubehelix(h, s, l, opacity) {\n  return arguments.length === 1 ? cubehelixConvert(h) : new Cubehelix(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Cubehelix(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Cubehelix, cubehelix, extend(Color, {\n  brighter: function brighter(k) {\n    k = k == null ? _brighter : Math.pow(_brighter, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function darker(k) {\n    k = k == null ? _darker : Math.pow(_darker, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function rgb() {\n    var h = isNaN(this.h) ? 0 : (this.h + 120) * deg2rad,\n        l = +this.l,\n        a = isNaN(this.s) ? 0 : this.s * l * (1 - l),\n        cosh = Math.cos(h),\n        sinh = Math.sin(h);\n    return new Rgb(255 * (l + a * (A * cosh + B * sinh)), 255 * (l + a * (C * cosh + D * sinh)), 255 * (l + a * (E * cosh)), this.opacity);\n  }\n}));\n\nfunction constant$2(x) {\n  return function () {\n    return x;\n  };\n}\n\nfunction linear(a, d) {\n  return function (t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function (t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nfunction gamma(y) {\n  return (y = +y) === 1 ? nogamma : function (a, b) {\n    return b - a ? exponential(a, b, y) : constant$2(isNaN(a) ? b : a);\n  };\n}\n\nfunction nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant$2(isNaN(a) ? b : a);\n}\n\nvar rgb$1 = function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb$1(start, end) {\n    var r = color((start = rgb(start)).r, (end = rgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function (t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb$1.gamma = rgbGamma;\n  return rgb$1;\n}(1);\n\nfunction array(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) {\n    x[i] = interpolateValue(a[i], b[i]);\n  }\n\n  for (; i < nb; ++i) {\n    c[i] = b[i];\n  }\n\n  return function (t) {\n    for (i = 0; i < na; ++i) {\n      c[i] = x[i](t);\n    }\n\n    return c;\n  };\n}\n\nfunction date(a, b) {\n  var d = new Date();\n  return a = +a, b -= a, function (t) {\n    return d.setTime(a + b * t), d;\n  };\n}\n\nfunction interpolateNumber(a, b) {\n  return a = +a, b -= a, function (t) {\n    return a + b * t;\n  };\n}\n\nfunction object(a, b) {\n  var i = {},\n      c = {},\n      k;\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = interpolateValue(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function (t) {\n    for (k in i) {\n      c[k] = i[k](t);\n    }\n\n    return c;\n  };\n}\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function () {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function (t) {\n    return b(t) + \"\";\n  };\n}\n\nfunction string(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0,\n      // scan index for next number in b\n  am,\n      // current match in a\n  bm,\n      // current match in b\n  bs,\n      // string preceding current number in b, if any\n  i = -1,\n      // index in s\n  s = [],\n      // string constants and placeholders\n  q = []; // number interpolators\n  // Coerce inputs to strings.\n\n  a = a + \"\", b = b + \"\"; // Interpolate pairs of numbers in a & b.\n\n  while ((am = reA.exec(a)) && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) {\n      // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n\n    if ((am = am[0]) === (bm = bm[0])) {\n      // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else {\n      // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({\n        i: i,\n        x: interpolateNumber(am, bm)\n      });\n    }\n\n    bi = reB.lastIndex;\n  } // Add remains of b.\n\n\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  } // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n\n\n  return s.length < 2 ? q[0] ? one(q[0].x) : zero(b) : (b = q.length, function (t) {\n    for (var i = 0, o; i < b; ++i) {\n      s[(o = q[i]).i] = o.x(t);\n    }\n\n    return s.join(\"\");\n  });\n}\n\nfunction interpolateValue(a, b) {\n  var t = typeof b,\n      c;\n  return b == null || t === \"boolean\" ? constant$2(b) : (t === \"number\" ? interpolateNumber : t === \"string\" ? (c = color(b)) ? (b = c, rgb$1) : string : b instanceof color ? rgb$1 : b instanceof Date ? date : Array.isArray(b) ? array : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object : interpolateNumber)(a, b);\n}\n\nfunction interpolateRound(a, b) {\n  return a = +a, b -= a, function (t) {\n    return Math.round(a + b * t);\n  };\n}\n\nvar degrees = 180 / Math.PI;\nvar rho = Math.SQRT2;\n\nfunction constant$3(x) {\n  return function () {\n    return x;\n  };\n}\n\nfunction number(x) {\n  return +x;\n}\n\nvar unit = [0, 1];\n\nfunction identity$1(x) {\n  return x;\n}\n\nfunction normalize(a, b) {\n  return (b -= a = +a) ? function (x) {\n    return (x - a) / b;\n  } : constant$3(isNaN(b) ? NaN : 0.5);\n}\n\nfunction clamper(domain) {\n  var a = domain[0],\n      b = domain[domain.length - 1],\n      t;\n  if (a > b) t = a, a = b, b = t;\n  return function (x) {\n    return Math.max(a, Math.min(b, x));\n  };\n} // normalize(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// interpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding range value x in [a,b].\n\n\nfunction bimap(domain, range, interpolate) {\n  var d0 = domain[0],\n      d1 = domain[1],\n      r0 = range[0],\n      r1 = range[1];\n  if (d1 < d0) d0 = normalize(d1, d0), r0 = interpolate(r1, r0);else d0 = normalize(d0, d1), r0 = interpolate(r0, r1);\n  return function (x) {\n    return r0(d0(x));\n  };\n}\n\nfunction polymap(domain, range, interpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1; // Reverse descending domains.\n\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = normalize(domain[i], domain[i + 1]);\n    r[i] = interpolate(range[i], range[i + 1]);\n  }\n\n  return function (x) {\n    var i = bisectRight(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nfunction copy(source, target) {\n  return target.domain(source.domain()).range(source.range()).interpolate(source.interpolate()).clamp(source.clamp()).unknown(source.unknown());\n}\n\nfunction transformer() {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolateValue,\n      transform,\n      untransform,\n      unknown,\n      clamp = identity$1,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    piecewise = Math.min(domain.length, range.length) > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return isNaN(x = +x) ? unknown : (output || (output = piecewise(domain.map(transform), range, interpolate)))(transform(clamp(x)));\n  }\n\n  scale.invert = function (y) {\n    return clamp(untransform((input || (input = piecewise(range, domain.map(transform), interpolateNumber)))(y)));\n  };\n\n  scale.domain = function (_) {\n    return arguments.length ? (domain = Array.from(_, number), clamp === identity$1 || (clamp = clamper(domain)), rescale()) : domain.slice();\n  };\n\n  scale.range = function (_) {\n    return arguments.length ? (range = Array.from(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function (_) {\n    return range = Array.from(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function (_) {\n    return arguments.length ? (clamp = _ ? clamper(domain) : identity$1, scale) : clamp !== identity$1;\n  };\n\n  scale.interpolate = function (_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  scale.unknown = function (_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function (t, u) {\n    transform = t, untransform = u;\n    return rescale();\n  };\n}\n\nfunction continuous(transform, untransform) {\n  return transformer()(transform, untransform);\n} // Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimal(1.23) returns [\"123\", 0].\n\n\nfunction formatDecimal(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, Infinity\n\n  var i,\n      coefficient = x.slice(0, i); // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n\n  return [coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient, +x.slice(i + 1)];\n}\n\nfunction exponent(x) {\n  return x = formatDecimal(Math.abs(x)), x ? x[1] : NaN;\n}\n\nfunction formatGroup(grouping, thousands) {\n  return function (value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n\nfunction formatNumerals(numerals) {\n  return function (value) {\n    return value.replace(/[0-9]/g, function (i) {\n      return numerals[+i];\n    });\n  };\n} // [[fill]align][sign][symbol][0][width][,][.precision][~][type]\n\n\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\n\nfunction formatSpecifier(specifier) {\n  return new FormatSpecifier(specifier);\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nfunction FormatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  this.fill = match[1] || \" \";\n  this.align = match[2] || \">\";\n  this.sign = match[3] || \"-\";\n  this.symbol = match[4] || \"\";\n  this.zero = !!match[5];\n  this.width = match[6] && +match[6];\n  this.comma = !!match[7];\n  this.precision = match[8] && +match[8].slice(1);\n  this.trim = !!match[9];\n  this.type = match[10] || \"\";\n}\n\nFormatSpecifier.prototype.toString = function () {\n  return this.fill + this.align + this.sign + this.symbol + (this.zero ? \"0\" : \"\") + (this.width == null ? \"\" : Math.max(1, this.width | 0)) + (this.comma ? \",\" : \"\") + (this.precision == null ? \"\" : \".\" + Math.max(0, this.precision | 0)) + (this.trim ? \"~\" : \"\") + this.type;\n}; // Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\n\n\nfunction formatTrim(s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\":\n        i0 = i1 = i;\n        break;\n\n      case \"0\":\n        if (i0 === 0) i0 = i;\n        i1 = i;\n        break;\n\n      default:\n        if (i0 > 0) {\n          if (!+s[i]) break out;\n          i0 = 0;\n        }\n\n        break;\n    }\n  }\n\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n\nvar prefixExponent;\n\nfunction formatPrefixAuto(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient : i > n ? coefficient + new Array(i - n + 1).join(\"0\") : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i) : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimal(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n\nfunction formatRounded(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1) : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n\nvar formatTypes = {\n  \"%\": function _(x, p) {\n    return (x * 100).toFixed(p);\n  },\n  \"b\": function b(x) {\n    return Math.round(x).toString(2);\n  },\n  \"c\": function c(x) {\n    return x + \"\";\n  },\n  \"d\": function d(x) {\n    return Math.round(x).toString(10);\n  },\n  \"e\": function e(x, p) {\n    return x.toExponential(p);\n  },\n  \"f\": function f(x, p) {\n    return x.toFixed(p);\n  },\n  \"g\": function g(x, p) {\n    return x.toPrecision(p);\n  },\n  \"o\": function o(x) {\n    return Math.round(x).toString(8);\n  },\n  \"p\": function p(x, _p) {\n    return formatRounded(x * 100, _p);\n  },\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": function X(x) {\n    return Math.round(x).toString(16).toUpperCase();\n  },\n  \"x\": function x(_x) {\n    return Math.round(_x).toString(16);\n  }\n};\n\nfunction identity$2(x) {\n  return x;\n}\n\nvar prefixes = [\"y\", \"z\", \"a\", \"f\", \"p\", \"n\", \"\", \"m\", \"\", \"k\", \"M\", \"G\", \"T\", \"P\", \"E\", \"Z\", \"Y\"];\n\nfunction formatLocale(locale) {\n  var group = locale.grouping && locale.thousands ? formatGroup(locale.grouping, locale.thousands) : identity$2,\n      currency = locale.currency,\n      decimal = locale.decimal,\n      numerals = locale.numerals ? formatNumerals(locale.numerals) : identity$2,\n      percent = locale.percent || \"%\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        trim = specifier.trim,\n        type = specifier.type; // The \"n\" type is an alias for \",g\".\n\n    if (type === \"n\") comma = true, type = \"g\"; // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type]) precision == null && (precision = 12), trim = true, type = \"g\"; // If zero fill is specified, padding goes after sign and before digits.\n\n    if (zero || fill === \"0\" && align === \"=\") zero = true, fill = \"0\", align = \"=\"; // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n\n    var prefix = symbol === \"$\" ? currency[0] : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currency[1] : /[%p]/.test(type) ? percent : \"\"; // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n\n    var formatType = formatTypes[type],\n        maybeSuffix = /[defgprs%]/.test(type); // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n\n    precision = precision == null ? 6 : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision)) : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i,\n          n,\n          c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value; // Perform the initial formatting.\n\n        var valueNegative = value < 0;\n        value = formatType(Math.abs(value), precision); // Trim insignificant zeros.\n\n        if (trim) value = formatTrim(value); // If a negative value rounds to zero during formatting, treat as positive.\n\n        if (valueNegative && +value === 0) valueNegative = false; // Compute the prefix and suffix.\n\n        valuePrefix = (valueNegative ? sign === \"(\" ? sign : \"-\" : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\"); // Break the formatted value into the integer value part that can be\n        // grouped, and fractional or exponential suffix part that is not.\n\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      } // If the fill character is not \"0\", grouping is applied before padding.\n\n\n      if (comma && !zero) value = group(value, Infinity); // Compute the padding.\n\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\"; // If the fill character is \"0\", grouping is applied after padding.\n\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\"; // Reconstruct the final output based on the desired alignment.\n\n      switch (align) {\n        case \"<\":\n          value = valuePrefix + value + valueSuffix + padding;\n          break;\n\n        case \"=\":\n          value = valuePrefix + padding + value + valueSuffix;\n          break;\n\n        case \"^\":\n          value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length);\n          break;\n\n        default:\n          value = padding + valuePrefix + value + valueSuffix;\n          break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function () {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function (value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n\nvar locale;\nvar format;\nvar formatPrefix;\ndefaultLocale({\n  decimal: \".\",\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"]\n});\n\nfunction defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n\nfunction precisionFixed(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n\nfunction precisionPrefix(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n\nfunction precisionRound(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n\nfunction tickFormat(start, stop, count, specifier) {\n  var step = tickStep(start, stop, count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n\n  switch (specifier.type) {\n    case \"s\":\n      {\n        var value = Math.max(Math.abs(start), Math.abs(stop));\n        if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n        return formatPrefix(specifier, value);\n      }\n\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\":\n      {\n        if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n        break;\n      }\n\n    case \"f\":\n    case \"%\":\n      {\n        if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n        break;\n      }\n  }\n\n  return format(specifier);\n}\n\nfunction linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function (count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function (count, specifier) {\n    var d = domain();\n    return tickFormat(d[0], d[d.length - 1], count == null ? 10 : count, specifier);\n  };\n\n  scale.nice = function (count) {\n    if (count == null) count = 10;\n    var d = domain(),\n        i0 = 0,\n        i1 = d.length - 1,\n        start = d[i0],\n        stop = d[i1],\n        step;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n\n    step = tickIncrement(start, stop, count);\n\n    if (step > 0) {\n      start = Math.floor(start / step) * step;\n      stop = Math.ceil(stop / step) * step;\n      step = tickIncrement(start, stop, count);\n    } else if (step < 0) {\n      start = Math.ceil(start * step) / step;\n      stop = Math.floor(stop * step) / step;\n      step = tickIncrement(start, stop, count);\n    }\n\n    if (step > 0) {\n      d[i0] = Math.floor(start / step) * step;\n      d[i1] = Math.ceil(stop / step) * step;\n      domain(d);\n    } else if (step < 0) {\n      d[i0] = Math.ceil(start * step) / step;\n      d[i1] = Math.floor(stop * step) / step;\n      domain(d);\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nfunction linear$1() {\n  var scale = continuous(identity$1, identity$1);\n\n  scale.copy = function () {\n    return copy(scale, linear$1());\n  };\n\n  initRange.apply(scale, arguments);\n  return linearish(scale);\n}\n\nfunction nice(domain, interval) {\n  domain = domain.slice();\n  var i0 = 0,\n      i1 = domain.length - 1,\n      x0 = domain[i0],\n      x1 = domain[i1],\n      t;\n\n  if (x1 < x0) {\n    t = i0, i0 = i1, i1 = t;\n    t = x0, x0 = x1, x1 = t;\n  }\n\n  domain[i0] = interval.floor(x0);\n  domain[i1] = interval.ceil(x1);\n  return domain;\n}\n\nfunction transformLog(x) {\n  return Math.log(x);\n}\n\nfunction transformExp(x) {\n  return Math.exp(x);\n}\n\nfunction transformLogn(x) {\n  return -Math.log(-x);\n}\n\nfunction transformExpn(x) {\n  return -Math.exp(-x);\n}\n\nfunction pow10(x) {\n  return isFinite(x) ? +(\"1e\" + x) : x < 0 ? 0 : x;\n}\n\nfunction powp(base) {\n  return base === 10 ? pow10 : base === Math.E ? Math.exp : function (x) {\n    return Math.pow(base, x);\n  };\n}\n\nfunction logp(base) {\n  return base === Math.E ? Math.log : base === 10 && Math.log10 || base === 2 && Math.log2 || (base = Math.log(base), function (x) {\n    return Math.log(x) / base;\n  });\n}\n\nfunction reflect(f) {\n  return function (x) {\n    return -f(-x);\n  };\n}\n\nfunction loggish(transform) {\n  var scale = transform(transformLog, transformExp),\n      domain = scale.domain,\n      base = 10,\n      logs,\n      pows;\n\n  function rescale() {\n    logs = logp(base), pows = powp(base);\n\n    if (domain()[0] < 0) {\n      logs = reflect(logs), pows = reflect(pows);\n      transform(transformLogn, transformExpn);\n    } else {\n      transform(transformLog, transformExp);\n    }\n\n    return scale;\n  }\n\n  scale.base = function (_) {\n    return arguments.length ? (base = +_, rescale()) : base;\n  };\n\n  scale.domain = function (_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.ticks = function (count) {\n    var d = domain(),\n        u = d[0],\n        v = d[d.length - 1],\n        r;\n    if (r = v < u) i = u, u = v, v = i;\n    var i = logs(u),\n        j = logs(v),\n        p,\n        k,\n        t,\n        n = count == null ? 10 : +count,\n        z = [];\n\n    if (!(base % 1) && j - i < n) {\n      i = Math.round(i) - 1, j = Math.round(j) + 1;\n      if (u > 0) for (; i < j; ++i) {\n        for (k = 1, p = pows(i); k < base; ++k) {\n          t = p * k;\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      } else for (; i < j; ++i) {\n        for (k = base - 1, p = pows(i); k >= 1; --k) {\n          t = p * k;\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      }\n    } else {\n      z = ticks(i, j, Math.min(j - i, n)).map(pows);\n    }\n\n    return r ? z.reverse() : z;\n  };\n\n  scale.tickFormat = function (count, specifier) {\n    if (specifier == null) specifier = base === 10 ? \".0e\" : \",\";\n    if (typeof specifier !== \"function\") specifier = format(specifier);\n    if (count === Infinity) return specifier;\n    if (count == null) count = 10;\n    var k = Math.max(1, base * count / scale.ticks().length); // TODO fast estimate?\n\n    return function (d) {\n      var i = d / pows(Math.round(logs(d)));\n      if (i * base < base - 0.5) i *= base;\n      return i <= k ? specifier(d) : \"\";\n    };\n  };\n\n  scale.nice = function () {\n    return domain(nice(domain(), {\n      floor: function floor(x) {\n        return pows(Math.floor(logs(x)));\n      },\n      ceil: function ceil(x) {\n        return pows(Math.ceil(logs(x)));\n      }\n    }));\n  };\n\n  return scale;\n}\n\nfunction log() {\n  var scale = loggish(transformer()).domain([1, 10]);\n\n  scale.copy = function () {\n    return copy(scale, log()).base(scale.base());\n  };\n\n  initRange.apply(scale, arguments);\n  return scale;\n}\n\nvar t0$1 = new Date(),\n    t1$1 = new Date();\n\nfunction newInterval(floori, offseti, count, field) {\n  function interval(date) {\n    return floori(date = new Date(+date)), date;\n  }\n\n  interval.floor = interval;\n\n  interval.ceil = function (date) {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = function (date) {\n    var d0 = interval(date),\n        d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = function (date, step) {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = function (start, stop, step) {\n    var range = [],\n        previous;\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n\n    do {\n      range.push(previous = new Date(+start)), offseti(start, step), floori(start);\n    } while (previous < start && start < stop);\n\n    return range;\n  };\n\n  interval.filter = function (test) {\n    return newInterval(function (date) {\n      if (date >= date) while (floori(date), !test(date)) {\n        date.setTime(date - 1);\n      }\n    }, function (date, step) {\n      if (date >= date) {\n        if (step < 0) while (++step <= 0) {\n          while (offseti(date, -1), !test(date)) {} // eslint-disable-line no-empty\n\n        } else while (--step >= 0) {\n          while (offseti(date, +1), !test(date)) {} // eslint-disable-line no-empty\n\n        }\n      }\n    });\n  };\n\n  if (count) {\n    interval.count = function (start, end) {\n      t0$1.setTime(+start), t1$1.setTime(+end);\n      floori(t0$1), floori(t1$1);\n      return Math.floor(count(t0$1, t1$1));\n    };\n\n    interval.every = function (step) {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null : !(step > 1) ? interval : interval.filter(field ? function (d) {\n        return field(d) % step === 0;\n      } : function (d) {\n        return interval.count(0, d) % step === 0;\n      });\n    };\n  }\n\n  return interval;\n}\n\nvar millisecond = newInterval(function () {// noop\n}, function (date, step) {\n  date.setTime(+date + step);\n}, function (start, end) {\n  return end - start;\n}); // An optimized implementation for this simple case.\n\nmillisecond.every = function (k) {\n  k = Math.floor(k);\n  if (!isFinite(k) || !(k > 0)) return null;\n  if (!(k > 1)) return millisecond;\n  return newInterval(function (date) {\n    date.setTime(Math.floor(date / k) * k);\n  }, function (date, step) {\n    date.setTime(+date + step * k);\n  }, function (start, end) {\n    return (end - start) / k;\n  });\n};\n\nvar durationSecond = 1e3;\nvar durationMinute = 6e4;\nvar durationHour = 36e5;\nvar durationDay = 864e5;\nvar durationWeek = 6048e5;\nvar second = newInterval(function (date) {\n  date.setTime(Math.floor(date / durationSecond) * durationSecond);\n}, function (date, step) {\n  date.setTime(+date + step * durationSecond);\n}, function (start, end) {\n  return (end - start) / durationSecond;\n}, function (date) {\n  return date.getUTCSeconds();\n});\nvar minute = newInterval(function (date) {\n  date.setTime(Math.floor(date / durationMinute) * durationMinute);\n}, function (date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function (start, end) {\n  return (end - start) / durationMinute;\n}, function (date) {\n  return date.getMinutes();\n});\nvar hour = newInterval(function (date) {\n  var offset = date.getTimezoneOffset() * durationMinute % durationHour;\n  if (offset < 0) offset += durationHour;\n  date.setTime(Math.floor((+date - offset) / durationHour) * durationHour + offset);\n}, function (date, step) {\n  date.setTime(+date + step * durationHour);\n}, function (start, end) {\n  return (end - start) / durationHour;\n}, function (date) {\n  return date.getHours();\n});\nvar day = newInterval(function (date) {\n  date.setHours(0, 0, 0, 0);\n}, function (date, step) {\n  date.setDate(date.getDate() + step);\n}, function (start, end) {\n  return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay;\n}, function (date) {\n  return date.getDate() - 1;\n});\n\nfunction weekday(i) {\n  return newInterval(function (date) {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, function (date, step) {\n    date.setDate(date.getDate() + step * 7);\n  }, function (start, end) {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nvar sunday = weekday(0);\nvar monday = weekday(1);\nvar tuesday = weekday(2);\nvar wednesday = weekday(3);\nvar thursday = weekday(4);\nvar friday = weekday(5);\nvar saturday = weekday(6);\nvar month = newInterval(function (date) {\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n}, function (date, step) {\n  date.setMonth(date.getMonth() + step);\n}, function (start, end) {\n  return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}, function (date) {\n  return date.getMonth();\n});\nvar year = newInterval(function (date) {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, function (date, step) {\n  date.setFullYear(date.getFullYear() + step);\n}, function (start, end) {\n  return end.getFullYear() - start.getFullYear();\n}, function (date) {\n  return date.getFullYear();\n}); // An optimized implementation for this simple case.\n\nyear.every = function (k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : newInterval(function (date) {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, function (date, step) {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\nvar utcMinute = newInterval(function (date) {\n  date.setUTCSeconds(0, 0);\n}, function (date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function (start, end) {\n  return (end - start) / durationMinute;\n}, function (date) {\n  return date.getUTCMinutes();\n});\nvar utcHour = newInterval(function (date) {\n  date.setUTCMinutes(0, 0, 0);\n}, function (date, step) {\n  date.setTime(+date + step * durationHour);\n}, function (start, end) {\n  return (end - start) / durationHour;\n}, function (date) {\n  return date.getUTCHours();\n});\nvar utcDay = newInterval(function (date) {\n  date.setUTCHours(0, 0, 0, 0);\n}, function (date, step) {\n  date.setUTCDate(date.getUTCDate() + step);\n}, function (start, end) {\n  return (end - start) / durationDay;\n}, function (date) {\n  return date.getUTCDate() - 1;\n});\n\nfunction utcWeekday(i) {\n  return newInterval(function (date) {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function (date, step) {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, function (start, end) {\n    return (end - start) / durationWeek;\n  });\n}\n\nvar utcSunday = utcWeekday(0);\nvar utcMonday = utcWeekday(1);\nvar utcTuesday = utcWeekday(2);\nvar utcWednesday = utcWeekday(3);\nvar utcThursday = utcWeekday(4);\nvar utcFriday = utcWeekday(5);\nvar utcSaturday = utcWeekday(6);\nvar utcMonth = newInterval(function (date) {\n  date.setUTCDate(1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function (date, step) {\n  date.setUTCMonth(date.getUTCMonth() + step);\n}, function (start, end) {\n  return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n}, function (date) {\n  return date.getUTCMonth();\n});\nvar utcYear = newInterval(function (date) {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function (date, step) {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, function (start, end) {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, function (date) {\n  return date.getUTCFullYear();\n}); // An optimized implementation for this simple case.\n\nutcYear.every = function (k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : newInterval(function (date) {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function (date, step) {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\n\nfunction localDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n    date.setFullYear(d.y);\n    return date;\n  }\n\n  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\n\nfunction utcDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n\n  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n\nfunction newYear(y) {\n  return {\n    y: y,\n    m: 0,\n    d: 1,\n    H: 0,\n    M: 0,\n    S: 0,\n    L: 0\n  };\n}\n\nfunction formatLocale$1(locale) {\n  var locale_dateTime = locale.dateTime,\n      locale_date = locale.date,\n      locale_time = locale.time,\n      locale_periods = locale.periods,\n      locale_weekdays = locale.days,\n      locale_shortWeekdays = locale.shortDays,\n      locale_months = locale.months,\n      locale_shortMonths = locale.shortMonths;\n  var periodRe = formatRe(locale_periods),\n      periodLookup = formatLookup(locale_periods),\n      weekdayRe = formatRe(locale_weekdays),\n      weekdayLookup = formatLookup(locale_weekdays),\n      shortWeekdayRe = formatRe(locale_shortWeekdays),\n      shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n      monthRe = formatRe(locale_months),\n      monthLookup = formatLookup(locale_months),\n      shortMonthRe = formatRe(locale_shortMonths),\n      shortMonthLookup = formatLookup(locale_shortMonths);\n  var formats = {\n    \"a\": formatShortWeekday,\n    \"A\": formatWeekday,\n    \"b\": formatShortMonth,\n    \"B\": formatMonth,\n    \"c\": null,\n    \"d\": formatDayOfMonth,\n    \"e\": formatDayOfMonth,\n    \"f\": formatMicroseconds,\n    \"H\": formatHour24,\n    \"I\": formatHour12,\n    \"j\": formatDayOfYear,\n    \"L\": formatMilliseconds,\n    \"m\": formatMonthNumber,\n    \"M\": formatMinutes,\n    \"p\": formatPeriod,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatSeconds,\n    \"u\": formatWeekdayNumberMonday,\n    \"U\": formatWeekNumberSunday,\n    \"V\": formatWeekNumberISO,\n    \"w\": formatWeekdayNumberSunday,\n    \"W\": formatWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatYear,\n    \"Y\": formatFullYear,\n    \"Z\": formatZone,\n    \"%\": formatLiteralPercent\n  };\n  var utcFormats = {\n    \"a\": formatUTCShortWeekday,\n    \"A\": formatUTCWeekday,\n    \"b\": formatUTCShortMonth,\n    \"B\": formatUTCMonth,\n    \"c\": null,\n    \"d\": formatUTCDayOfMonth,\n    \"e\": formatUTCDayOfMonth,\n    \"f\": formatUTCMicroseconds,\n    \"H\": formatUTCHour24,\n    \"I\": formatUTCHour12,\n    \"j\": formatUTCDayOfYear,\n    \"L\": formatUTCMilliseconds,\n    \"m\": formatUTCMonthNumber,\n    \"M\": formatUTCMinutes,\n    \"p\": formatUTCPeriod,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatUTCSeconds,\n    \"u\": formatUTCWeekdayNumberMonday,\n    \"U\": formatUTCWeekNumberSunday,\n    \"V\": formatUTCWeekNumberISO,\n    \"w\": formatUTCWeekdayNumberSunday,\n    \"W\": formatUTCWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatUTCYear,\n    \"Y\": formatUTCFullYear,\n    \"Z\": formatUTCZone,\n    \"%\": formatLiteralPercent\n  };\n  var parses = {\n    \"a\": parseShortWeekday,\n    \"A\": parseWeekday,\n    \"b\": parseShortMonth,\n    \"B\": parseMonth,\n    \"c\": parseLocaleDateTime,\n    \"d\": parseDayOfMonth,\n    \"e\": parseDayOfMonth,\n    \"f\": parseMicroseconds,\n    \"H\": parseHour24,\n    \"I\": parseHour24,\n    \"j\": parseDayOfYear,\n    \"L\": parseMilliseconds,\n    \"m\": parseMonthNumber,\n    \"M\": parseMinutes,\n    \"p\": parsePeriod,\n    \"Q\": parseUnixTimestamp,\n    \"s\": parseUnixTimestampSeconds,\n    \"S\": parseSeconds,\n    \"u\": parseWeekdayNumberMonday,\n    \"U\": parseWeekNumberSunday,\n    \"V\": parseWeekNumberISO,\n    \"w\": parseWeekdayNumberSunday,\n    \"W\": parseWeekNumberMonday,\n    \"x\": parseLocaleDate,\n    \"X\": parseLocaleTime,\n    \"y\": parseYear,\n    \"Y\": parseFullYear,\n    \"Z\": parseZone,\n    \"%\": parseLiteralPercent\n  }; // These recursive directive definitions must be deferred.\n\n  formats.x = newFormat(locale_date, formats);\n  formats.X = newFormat(locale_time, formats);\n  formats.c = newFormat(locale_dateTime, formats);\n  utcFormats.x = newFormat(locale_date, utcFormats);\n  utcFormats.X = newFormat(locale_time, utcFormats);\n  utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n  function newFormat(specifier, formats) {\n    return function (date) {\n      var string = [],\n          i = -1,\n          j = 0,\n          n = specifier.length,\n          c,\n          pad,\n          format;\n      if (!(date instanceof Date)) date = new Date(+date);\n\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);else pad = c === \"e\" ? \" \" : \"0\";\n          if (format = formats[c]) c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n\n      string.push(specifier.slice(j, i));\n      return string.join(\"\");\n    };\n  }\n\n  function newParse(specifier, newDate) {\n    return function (string) {\n      var d = newYear(1900),\n          i = parseSpecifier(d, specifier, string += \"\", 0),\n          week,\n          day$1;\n      if (i != string.length) return null; // If a UNIX timestamp is specified, return it.\n\n      if (\"Q\" in d) return new Date(d.Q); // The am-pm flag is 0 for AM, and 1 for PM.\n\n      if (\"p\" in d) d.H = d.H % 12 + d.p * 12; // Convert day-of-week and week-of-year to day-of-year.\n\n      if (\"V\" in d) {\n        if (d.V < 1 || d.V > 53) return null;\n        if (!(\"w\" in d)) d.w = 1;\n\n        if (\"Z\" in d) {\n          week = utcDate(newYear(d.y)), day$1 = week.getUTCDay();\n          week = day$1 > 4 || day$1 === 0 ? utcMonday.ceil(week) : utcMonday(week);\n          week = utcDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getUTCFullYear();\n          d.m = week.getUTCMonth();\n          d.d = week.getUTCDate() + (d.w + 6) % 7;\n        } else {\n          week = newDate(newYear(d.y)), day$1 = week.getDay();\n          week = day$1 > 4 || day$1 === 0 ? monday.ceil(week) : monday(week);\n          week = day.offset(week, (d.V - 1) * 7);\n          d.y = week.getFullYear();\n          d.m = week.getMonth();\n          d.d = week.getDate() + (d.w + 6) % 7;\n        }\n      } else if (\"W\" in d || \"U\" in d) {\n        if (!(\"w\" in d)) d.w = \"u\" in d ? d.u % 7 : \"W\" in d ? 1 : 0;\n        day$1 = \"Z\" in d ? utcDate(newYear(d.y)).getUTCDay() : newDate(newYear(d.y)).getDay();\n        d.m = 0;\n        d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day$1 + 5) % 7 : d.w + d.U * 7 - (day$1 + 6) % 7;\n      } // If a time zone is specified, all fields are interpreted as UTC and then\n      // offset according to the specified time zone.\n\n\n      if (\"Z\" in d) {\n        d.H += d.Z / 100 | 0;\n        d.M += d.Z % 100;\n        return utcDate(d);\n      } // Otherwise, all fields are in local time.\n\n\n      return newDate(d);\n    };\n  }\n\n  function parseSpecifier(d, specifier, string, j) {\n    var i = 0,\n        n = specifier.length,\n        m = string.length,\n        c,\n        parse;\n\n    while (i < n) {\n      if (j >= m) return -1;\n      c = specifier.charCodeAt(i++);\n\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = parses[c in pads ? specifier.charAt(i++) : c];\n        if (!parse || (j = parse(d, string, j)) < 0) return -1;\n      } else if (c != string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n\n    return j;\n  }\n\n  function parsePeriod(d, string, i) {\n    var n = periodRe.exec(string.slice(i));\n    return n ? (d.p = periodLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortWeekday(d, string, i) {\n    var n = shortWeekdayRe.exec(string.slice(i));\n    return n ? (d.w = shortWeekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseWeekday(d, string, i) {\n    var n = weekdayRe.exec(string.slice(i));\n    return n ? (d.w = weekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortMonth(d, string, i) {\n    var n = shortMonthRe.exec(string.slice(i));\n    return n ? (d.m = shortMonthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseMonth(d, string, i) {\n    var n = monthRe.exec(string.slice(i));\n    return n ? (d.m = monthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseLocaleDateTime(d, string, i) {\n    return parseSpecifier(d, locale_dateTime, string, i);\n  }\n\n  function parseLocaleDate(d, string, i) {\n    return parseSpecifier(d, locale_date, string, i);\n  }\n\n  function parseLocaleTime(d, string, i) {\n    return parseSpecifier(d, locale_time, string, i);\n  }\n\n  function formatShortWeekday(d) {\n    return locale_shortWeekdays[d.getDay()];\n  }\n\n  function formatWeekday(d) {\n    return locale_weekdays[d.getDay()];\n  }\n\n  function formatShortMonth(d) {\n    return locale_shortMonths[d.getMonth()];\n  }\n\n  function formatMonth(d) {\n    return locale_months[d.getMonth()];\n  }\n\n  function formatPeriod(d) {\n    return locale_periods[+(d.getHours() >= 12)];\n  }\n\n  function formatUTCShortWeekday(d) {\n    return locale_shortWeekdays[d.getUTCDay()];\n  }\n\n  function formatUTCWeekday(d) {\n    return locale_weekdays[d.getUTCDay()];\n  }\n\n  function formatUTCShortMonth(d) {\n    return locale_shortMonths[d.getUTCMonth()];\n  }\n\n  function formatUTCMonth(d) {\n    return locale_months[d.getUTCMonth()];\n  }\n\n  function formatUTCPeriod(d) {\n    return locale_periods[+(d.getUTCHours() >= 12)];\n  }\n\n  return {\n    format: function format(specifier) {\n      var f = newFormat(specifier += \"\", formats);\n\n      f.toString = function () {\n        return specifier;\n      };\n\n      return f;\n    },\n    parse: function parse(specifier) {\n      var p = newParse(specifier += \"\", localDate);\n\n      p.toString = function () {\n        return specifier;\n      };\n\n      return p;\n    },\n    utcFormat: function utcFormat(specifier) {\n      var f = newFormat(specifier += \"\", utcFormats);\n\n      f.toString = function () {\n        return specifier;\n      };\n\n      return f;\n    },\n    utcParse: function utcParse(specifier) {\n      var p = newParse(specifier, utcDate);\n\n      p.toString = function () {\n        return specifier;\n      };\n\n      return p;\n    }\n  };\n}\n\nvar pads = {\n  \"-\": \"\",\n  \"_\": \" \",\n  \"0\": \"0\"\n},\n    numberRe = /^\\s*\\d+/,\n    // note: ignores next directive\npercentRe = /^%/,\n    requoteRe = /[\\\\^$*+?|[\\]().{}]/g;\n\nfunction pad(value, fill, width) {\n  var sign = value < 0 ? \"-\" : \"\",\n      string = (sign ? -value : value) + \"\",\n      length = string.length;\n  return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n\nfunction requote(s) {\n  return s.replace(requoteRe, \"\\\\$&\");\n}\n\nfunction formatRe(names) {\n  return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\n\nfunction formatLookup(names) {\n  var map = {},\n      i = -1,\n      n = names.length;\n\n  while (++i < n) {\n    map[names[i].toLowerCase()] = i;\n  }\n\n  return map;\n}\n\nfunction parseWeekdayNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekdayNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.u = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberISO(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.V = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseFullYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 4));\n  return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\n\nfunction parseZone(d, string, i) {\n  var n = /^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(string.slice(i, i + 6));\n  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\n\nfunction parseMonthNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\n\nfunction parseDayOfMonth(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseDayOfYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseHour24(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMinutes(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMilliseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMicroseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 6));\n  return n ? (d.L = Math.floor(n[0] / 1000), i + n[0].length) : -1;\n}\n\nfunction parseLiteralPercent(d, string, i) {\n  var n = percentRe.exec(string.slice(i, i + 1));\n  return n ? i + n[0].length : -1;\n}\n\nfunction parseUnixTimestamp(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseUnixTimestampSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = +n[0] * 1000, i + n[0].length) : -1;\n}\n\nfunction formatDayOfMonth(d, p) {\n  return pad(d.getDate(), p, 2);\n}\n\nfunction formatHour24(d, p) {\n  return pad(d.getHours(), p, 2);\n}\n\nfunction formatHour12(d, p) {\n  return pad(d.getHours() % 12 || 12, p, 2);\n}\n\nfunction formatDayOfYear(d, p) {\n  return pad(1 + day.count(year(d), d), p, 3);\n}\n\nfunction formatMilliseconds(d, p) {\n  return pad(d.getMilliseconds(), p, 3);\n}\n\nfunction formatMicroseconds(d, p) {\n  return formatMilliseconds(d, p) + \"000\";\n}\n\nfunction formatMonthNumber(d, p) {\n  return pad(d.getMonth() + 1, p, 2);\n}\n\nfunction formatMinutes(d, p) {\n  return pad(d.getMinutes(), p, 2);\n}\n\nfunction formatSeconds(d, p) {\n  return pad(d.getSeconds(), p, 2);\n}\n\nfunction formatWeekdayNumberMonday(d) {\n  var day = d.getDay();\n  return day === 0 ? 7 : day;\n}\n\nfunction formatWeekNumberSunday(d, p) {\n  return pad(sunday.count(year(d), d), p, 2);\n}\n\nfunction formatWeekNumberISO(d, p) {\n  var day = d.getDay();\n  d = day >= 4 || day === 0 ? thursday(d) : thursday.ceil(d);\n  return pad(thursday.count(year(d), d) + (year(d).getDay() === 4), p, 2);\n}\n\nfunction formatWeekdayNumberSunday(d) {\n  return d.getDay();\n}\n\nfunction formatWeekNumberMonday(d, p) {\n  return pad(monday.count(year(d), d), p, 2);\n}\n\nfunction formatYear(d, p) {\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatFullYear(d, p) {\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatZone(d) {\n  var z = d.getTimezoneOffset();\n  return (z > 0 ? \"-\" : (z *= -1, \"+\")) + pad(z / 60 | 0, \"0\", 2) + pad(z % 60, \"0\", 2);\n}\n\nfunction formatUTCDayOfMonth(d, p) {\n  return pad(d.getUTCDate(), p, 2);\n}\n\nfunction formatUTCHour24(d, p) {\n  return pad(d.getUTCHours(), p, 2);\n}\n\nfunction formatUTCHour12(d, p) {\n  return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\n\nfunction formatUTCDayOfYear(d, p) {\n  return pad(1 + utcDay.count(utcYear(d), d), p, 3);\n}\n\nfunction formatUTCMilliseconds(d, p) {\n  return pad(d.getUTCMilliseconds(), p, 3);\n}\n\nfunction formatUTCMicroseconds(d, p) {\n  return formatUTCMilliseconds(d, p) + \"000\";\n}\n\nfunction formatUTCMonthNumber(d, p) {\n  return pad(d.getUTCMonth() + 1, p, 2);\n}\n\nfunction formatUTCMinutes(d, p) {\n  return pad(d.getUTCMinutes(), p, 2);\n}\n\nfunction formatUTCSeconds(d, p) {\n  return pad(d.getUTCSeconds(), p, 2);\n}\n\nfunction formatUTCWeekdayNumberMonday(d) {\n  var dow = d.getUTCDay();\n  return dow === 0 ? 7 : dow;\n}\n\nfunction formatUTCWeekNumberSunday(d, p) {\n  return pad(utcSunday.count(utcYear(d), d), p, 2);\n}\n\nfunction formatUTCWeekNumberISO(d, p) {\n  var day = d.getUTCDay();\n  d = day >= 4 || day === 0 ? utcThursday(d) : utcThursday.ceil(d);\n  return pad(utcThursday.count(utcYear(d), d) + (utcYear(d).getUTCDay() === 4), p, 2);\n}\n\nfunction formatUTCWeekdayNumberSunday(d) {\n  return d.getUTCDay();\n}\n\nfunction formatUTCWeekNumberMonday(d, p) {\n  return pad(utcMonday.count(utcYear(d), d), p, 2);\n}\n\nfunction formatUTCYear(d, p) {\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCFullYear(d, p) {\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCZone() {\n  return \"+0000\";\n}\n\nfunction formatLiteralPercent() {\n  return \"%\";\n}\n\nfunction formatUnixTimestamp(d) {\n  return +d;\n}\n\nfunction formatUnixTimestampSeconds(d) {\n  return Math.floor(+d / 1000);\n}\n\nvar locale$1;\nvar timeFormat;\nvar timeParse;\nvar utcFormat;\nvar utcParse;\ndefaultLocale$1({\n  dateTime: \"%x, %X\",\n  date: \"%-m/%-d/%Y\",\n  time: \"%-I:%M:%S %p\",\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\n\nfunction defaultLocale$1(definition) {\n  locale$1 = formatLocale$1(definition);\n  timeFormat = locale$1.format;\n  timeParse = locale$1.parse;\n  utcFormat = locale$1.utcFormat;\n  utcParse = locale$1.utcParse;\n  return locale$1;\n}\n\nvar isoSpecifier = \"%Y-%m-%dT%H:%M:%S.%LZ\";\n\nfunction formatIsoNative(date) {\n  return date.toISOString();\n}\n\nvar formatIso = Date.prototype.toISOString ? formatIsoNative : utcFormat(isoSpecifier);\n\nfunction parseIsoNative(string) {\n  var date = new Date(string);\n  return isNaN(date) ? null : date;\n}\n\nvar parseIso = +new Date(\"2000-01-01T00:00:00.000Z\") ? parseIsoNative : utcParse(isoSpecifier);\nvar durationSecond$1 = 1000,\n    durationMinute$1 = durationSecond$1 * 60,\n    durationHour$1 = durationMinute$1 * 60,\n    durationDay$1 = durationHour$1 * 24,\n    durationWeek$1 = durationDay$1 * 7,\n    durationMonth = durationDay$1 * 30,\n    durationYear = durationDay$1 * 365;\n\nfunction date$1(t) {\n  return new Date(t);\n}\n\nfunction number$1(t) {\n  return t instanceof Date ? +t : +new Date(+t);\n}\n\nfunction calendar(year, month, week, day, hour, minute, second, millisecond, format) {\n  var scale = continuous(identity$1, identity$1),\n      invert = scale.invert,\n      domain = scale.domain;\n  var formatMillisecond = format(\".%L\"),\n      formatSecond = format(\":%S\"),\n      formatMinute = format(\"%I:%M\"),\n      formatHour = format(\"%I %p\"),\n      formatDay = format(\"%a %d\"),\n      formatWeek = format(\"%b %d\"),\n      formatMonth = format(\"%B\"),\n      formatYear = format(\"%Y\");\n  var tickIntervals = [[second, 1, durationSecond$1], [second, 5, 5 * durationSecond$1], [second, 15, 15 * durationSecond$1], [second, 30, 30 * durationSecond$1], [minute, 1, durationMinute$1], [minute, 5, 5 * durationMinute$1], [minute, 15, 15 * durationMinute$1], [minute, 30, 30 * durationMinute$1], [hour, 1, durationHour$1], [hour, 3, 3 * durationHour$1], [hour, 6, 6 * durationHour$1], [hour, 12, 12 * durationHour$1], [day, 1, durationDay$1], [day, 2, 2 * durationDay$1], [week, 1, durationWeek$1], [month, 1, durationMonth], [month, 3, 3 * durationMonth], [year, 1, durationYear]];\n\n  function tickFormat(date) {\n    return (second(date) < date ? formatMillisecond : minute(date) < date ? formatSecond : hour(date) < date ? formatMinute : day(date) < date ? formatHour : month(date) < date ? week(date) < date ? formatDay : formatWeek : year(date) < date ? formatMonth : formatYear)(date);\n  }\n\n  function tickInterval(interval, start, stop, step) {\n    if (interval == null) interval = 10; // If a desired tick count is specified, pick a reasonable tick interval\n    // based on the extent of the domain and a rough estimate of tick size.\n    // Otherwise, assume interval is already a time interval and use it.\n\n    if (typeof interval === \"number\") {\n      var target = Math.abs(stop - start) / interval,\n          i = bisector(function (i) {\n        return i[2];\n      }).right(tickIntervals, target);\n\n      if (i === tickIntervals.length) {\n        step = tickStep(start / durationYear, stop / durationYear, interval);\n        interval = year;\n      } else if (i) {\n        i = tickIntervals[target / tickIntervals[i - 1][2] < tickIntervals[i][2] / target ? i - 1 : i];\n        step = i[1];\n        interval = i[0];\n      } else {\n        step = Math.max(tickStep(start, stop, interval), 1);\n        interval = millisecond;\n      }\n    }\n\n    return step == null ? interval : interval.every(step);\n  }\n\n  scale.invert = function (y) {\n    return new Date(invert(y));\n  };\n\n  scale.domain = function (_) {\n    return arguments.length ? domain(Array.from(_, number$1)) : domain().map(date$1);\n  };\n\n  scale.ticks = function (interval, step) {\n    var d = domain(),\n        t0 = d[0],\n        t1 = d[d.length - 1],\n        r = t1 < t0,\n        t;\n    if (r) t = t0, t0 = t1, t1 = t;\n    t = tickInterval(interval, t0, t1, step);\n    t = t ? t.range(t0, t1 + 1) : []; // inclusive stop\n\n    return r ? t.reverse() : t;\n  };\n\n  scale.tickFormat = function (count, specifier) {\n    return specifier == null ? tickFormat : format(specifier);\n  };\n\n  scale.nice = function (interval, step) {\n    var d = domain();\n    return (interval = tickInterval(interval, d[0], d[d.length - 1], step)) ? domain(nice(d, interval)) : scale;\n  };\n\n  scale.copy = function () {\n    return copy(scale, calendar(year, month, week, day, hour, minute, second, millisecond, format));\n  };\n\n  return scale;\n}\n\nfunction scaleTime() {\n  return initRange.apply(calendar(year, month, sunday, day, hour, minute, second, millisecond, timeFormat).domain([new Date(2000, 0, 1), new Date(2000, 0, 2)]), arguments);\n}\n\nfunction scaleUtc() {\n  return initRange.apply(calendar(utcYear, utcMonth, utcSunday, utcDay, utcHour, utcMinute, second, millisecond, utcFormat).domain([Date.UTC(2000, 0, 1), Date.UTC(2000, 0, 2)]), arguments);\n}\n\nvar _scales;\n\nvar scales = (_scales = {}, _defineProperty(_scales, axisTypeLinear, linear$1), _defineProperty(_scales, axisTypeLog, log), _defineProperty(_scales, axisTypeTime, scaleTime), _defineProperty(_scales, axisTypeUtc, scaleUtc), _defineProperty(_scales, axisTypeOrdinal, band), _scales);\n\nvar detectVertical = function detectVertical(d) {\n  return [positionLeft, positionRight].indexOf(d) > -1;\n};\n\nvar detectRTL = function detectRTL(d) {\n  return [positionTop, positionRight].indexOf(d) > -1;\n};\n\nfunction buildAxisLinear(_ref) {\n  var _ref$axis = _ref.axis,\n      primary = _ref$axis.primary,\n      type = _ref$axis.type,\n      invert = _ref$axis.invert,\n      position = _ref$axis.position,\n      primaryAxisID = _ref$axis.primaryAxisID,\n      _ref$axis$min = _ref$axis.min,\n      userMin = _ref$axis$min === void 0 ? undefined : _ref$axis$min,\n      _ref$axis$max = _ref$axis.max,\n      userMax = _ref$axis$max === void 0 ? undefined : _ref$axis$max,\n      _ref$axis$hardMin = _ref$axis.hardMin,\n      hardMin = _ref$axis$hardMin === void 0 ? undefined : _ref$axis$hardMin,\n      _ref$axis$hardMax = _ref$axis.hardMax,\n      hardMax = _ref$axis$hardMax === void 0 ? undefined : _ref$axis$hardMax,\n      _ref$axis$base = _ref$axis.base,\n      base = _ref$axis$base === void 0 ? undefined : _ref$axis$base,\n      _ref$axis$tickCount = _ref$axis.tickCount,\n      tickCount = _ref$axis$tickCount === void 0 ? 'auto' : _ref$axis$tickCount,\n      _ref$axis$minTickCoun = _ref$axis.minTickCount,\n      minTickCount = _ref$axis$minTickCoun === void 0 ? 0 : _ref$axis$minTickCoun,\n      _ref$axis$maxTickCoun = _ref$axis.maxTickCount,\n      maxTickCount = _ref$axis$maxTickCoun === void 0 ? Infinity : _ref$axis$maxTickCoun,\n      _ref$axis$tickValues = _ref$axis.tickValues,\n      tickValues = _ref$axis$tickValues === void 0 ? null : _ref$axis$tickValues,\n      _ref$axis$tickFormat = _ref$axis.tickFormat,\n      tickFormat = _ref$axis$tickFormat === void 0 ? null : _ref$axis$tickFormat,\n      _ref$axis$tickSizeInn = _ref$axis.tickSizeInner,\n      tickSizeInner = _ref$axis$tickSizeInn === void 0 ? 6 : _ref$axis$tickSizeInn,\n      _ref$axis$tickSizeOut = _ref$axis.tickSizeOuter,\n      tickSizeOuter = _ref$axis$tickSizeOut === void 0 ? 6 : _ref$axis$tickSizeOut,\n      _ref$axis$tickPadding = _ref$axis.tickPadding,\n      tickPadding = _ref$axis$tickPadding === void 0 ? 14 : _ref$axis$tickPadding,\n      _ref$axis$maxLabelRot = _ref$axis.maxLabelRotation,\n      maxLabelRotation = _ref$axis$maxLabelRot === void 0 ? 50 : _ref$axis$maxLabelRot,\n      _ref$axis$labelRotati = _ref$axis.labelRotationStep,\n      labelRotationStep = _ref$axis$labelRotati === void 0 ? 5 : _ref$axis$labelRotati,\n      _ref$axis$innerPaddin = _ref$axis.innerPadding,\n      innerPadding = _ref$axis$innerPaddin === void 0 ? 0.2 : _ref$axis$innerPaddin,\n      _ref$axis$outerPaddin = _ref$axis.outerPadding,\n      outerPadding = _ref$axis$outerPaddin === void 0 ? 0.1 : _ref$axis$outerPaddin,\n      _ref$axis$showGrid = _ref$axis.showGrid,\n      showGrid = _ref$axis$showGrid === void 0 ? null : _ref$axis$showGrid,\n      _ref$axis$showTicks = _ref$axis.showTicks,\n      showTicks = _ref$axis$showTicks === void 0 ? true : _ref$axis$showTicks,\n      _ref$axis$show = _ref$axis.show,\n      show = _ref$axis$show === void 0 ? true : _ref$axis$show,\n      _ref$axis$stacked = _ref$axis.stacked,\n      stacked = _ref$axis$stacked === void 0 ? false : _ref$axis$stacked,\n      userID = _ref$axis.id,\n      materializedData = _ref.materializedData,\n      gridHeight = _ref.gridHeight,\n      gridWidth = _ref.gridWidth,\n      axisDimensions = _ref.axisDimensions;\n\n  if (!position) {\n    throw new Error(\"Chart axes must have a valid 'position' property\");\n  } // Detect some settings\n\n\n  var valueKey = primary ? 'primary' : 'secondary';\n  var groupKey = !primary && 'primary';\n  var AxisIDKey = \"\".concat(valueKey, \"AxisID\");\n  var vertical = detectVertical(position);\n  var RTL = detectRTL(position); // Right to left OR top to bottom\n\n  var id = userID || \"\".concat(position, \"_\").concat(type); // TODO: Any sorting needs to happen here, else the min/max's might not line up correctly\n  // First we need to find unique values, min/max values and negative/positive totals\n\n  var uniqueVals = [];\n  var min;\n  var max;\n  var negativeTotalByKey = {};\n  var positiveTotalByKey = {};\n  var domain;\n  var axisDimension = axisDimensions && axisDimensions[position] && axisDimensions[position][id]; // Loop through each series\n\n  for (var seriesIndex = 0; seriesIndex < materializedData.length; seriesIndex++) {\n    if (materializedData[seriesIndex][AxisIDKey] && materializedData[seriesIndex][AxisIDKey] !== id) {\n      continue;\n    } // Loop through each datum\n\n\n    for (var datumIndex = 0; datumIndex < materializedData[seriesIndex].datums.length; datumIndex++) {\n      var datum = materializedData[seriesIndex].datums[datumIndex];\n      var value = void 0;\n      var key = groupKey ? datum[groupKey] : datumIndex; // For ordinal scales, unique the values\n\n      if (type === axisTypeOrdinal) {\n        if (uniqueVals.indexOf() === -1) {\n          uniqueVals.push(materializedData[seriesIndex].datums[datumIndex][valueKey]);\n        }\n      } else if (type === axisTypeTime || type === axisTypeUtc) {\n        value = +datum[valueKey];\n      } else {\n        value = datum[valueKey];\n      } // Add to stack total\n\n\n      if (stacked) {\n        if (value > 0) {\n          positiveTotalByKey[key] = typeof positiveTotalByKey[key] !== 'undefined' ? positiveTotalByKey[key] + value : value;\n        } else {\n          negativeTotalByKey[key] = typeof negativeTotalByKey[key] !== 'undefined' ? negativeTotalByKey[key] + value : value;\n        }\n      } else {\n        // Find min/max\n        min = typeof min !== 'undefined' ? Math.min(min, value) : value;\n        max = typeof max !== 'undefined' ? Math.max(max, value) : value;\n      }\n    }\n  }\n\n  if (type === axisTypeOrdinal) {\n    domain = uniqueVals;\n  } else if (stacked) {\n    domain = [Math.min.apply(Math, [0].concat(_toConsumableArray(Object.values(negativeTotalByKey)))), Math.max.apply(Math, [0].concat(_toConsumableArray(Object.values(positiveTotalByKey))))];\n  } else {\n    domain = [min, max];\n  } // Now we need to figure out the range\n\n\n  var range = [0, vertical ? gridHeight : gridWidth]; // axes by default read from top to bottom and left to right\n\n  if (vertical && !primary) {\n    // Vertical secondary ranges get inverted by default\n    range.reverse();\n  } // Give the scale a home\n\n\n  var scale; // If this is an ordinal or other primary axis, it needs to be able to display bars.\n\n  var bandScale;\n  var barSize = 0;\n  var cursorSize = 0;\n  var stepSize = 0;\n\n  var seriesBandScale = function seriesBandScale(d) {\n    return d;\n  };\n\n  var seriesBarSize = 1;\n\n  if (type === axisTypeOrdinal || primary) {\n    // Calculate a band axis that is similar and pass down the bandwidth\n    // just in case.\n    bandScale = band().domain(materializedData.reduce(function (prev, current) {\n      return current.datums.length > prev.length ? current.datums : prev;\n    }, []).map(function (d) {\n      return d.primary;\n    })).rangeRound(range, 0.1).padding(0);\n    bandScale.paddingOuter(outerPadding).paddingInner(innerPadding);\n    barSize = bandScale.bandwidth();\n\n    if (type === axisTypeOrdinal) {\n      cursorSize = barSize;\n    } // barSize = bandScale.bandwidth()\n\n\n    stepSize = bandScale.step(); // Create a seriesBandScale in case this axis isn't stacked\n\n    seriesBandScale = band().paddingInner(innerPadding / 2).domain(materializedData.filter(function (d) {\n      return d.Component === Bar;\n    }).map(function (d, i) {\n      return i;\n    })).rangeRound([0, barSize]);\n    seriesBarSize = seriesBandScale.bandwidth();\n  }\n\n  if (type === axisTypeOrdinal) {\n    // If it's ordinal, just assign the bandScale we made\n    scale = bandScale;\n  } else {\n    // Otherwise, create a new scale of the appropriate type\n    scale = scales[type]();\n  } // Set base, min, and max\n\n\n  if (typeof base === 'number') {\n    domain[0] = Math.min(domain[0], base);\n    domain[1] = Math.max(domain[1], base);\n  }\n\n  if (typeof defaultMin === 'number') {\n    domain[0] = Math.min(domain[0], userMin);\n  }\n\n  if (typeof defaultMax === 'number') {\n    domain[1] = Math.max(domain[1], userMax);\n  } // Set the domain\n\n\n  scale.domain(domain); // If we're not using an ordinal scale, round the ticks to \"nice\" values\n\n  if (type !== axisTypeOrdinal) {\n    scale.nice();\n  } // If hard min and max are set, override any \"nice\" rounding values\n\n\n  if (typeof hardMin === 'number') {\n    scale.domain([hardMin, scale.domain()[1]]);\n  }\n\n  if (typeof hardMax === 'number') {\n    scale.domain([scale.domain()[0], hardMax]);\n  } // Invert if necessary\n\n\n  if (invert) {\n    scale.domain(_toConsumableArray(scale.domain()).reverse());\n  } // Now set the range\n\n\n  scale.range(range); // Pass down the axis config (including the scale itself) for posterity\n\n  var axis = {\n    id: id,\n    primary: primary,\n    type: type,\n    invert: invert,\n    position: position,\n    primaryAxisID: primaryAxisID,\n    hardMin: hardMin,\n    hardMax: hardMax,\n    base: base,\n    tickCount: tickCount,\n    minTickCount: minTickCount,\n    maxTickCount: maxTickCount,\n    tickValues: tickValues,\n    tickFormat: tickFormat,\n    tickSizeInner: tickSizeInner,\n    tickSizeOuter: tickSizeOuter,\n    tickPadding: tickPadding,\n    maxLabelRotation: maxLabelRotation,\n    labelRotationStep: labelRotationStep,\n    innerPadding: innerPadding,\n    outerPadding: outerPadding,\n    showGrid: showGrid,\n    showTicks: showTicks,\n    show: show,\n    stacked: stacked,\n    scale: scale,\n    uniqueVals: uniqueVals,\n    vertical: vertical,\n    RTL: RTL,\n    barSize: barSize,\n    cursorSize: cursorSize,\n    stepSize: stepSize,\n    seriesBandScale: seriesBandScale,\n    seriesBarSize: seriesBarSize,\n    domain: domain,\n    range: range,\n    max: position === positionBottom ? -gridHeight : position === positionLeft ? gridWidth : position === positionTop ? gridHeight : -gridWidth,\n    directionMultiplier: position === positionTop || position === positionLeft ? -1 : 1,\n    transform: !vertical ? Utils.translateX : Utils.translateY,\n    ticks: tickValues || scale.ticks ? scale.ticks(tickCount === 'auto' ? axisDimension ? axisDimension.tickCount : 10 : tickCount) : scale.domain(),\n    format: tickFormat || scale.tickFormat ? tickFormat || scale.tickFormat(tickFormat) : Utils.identity,\n    spacing: Math.max(tickSizeInner, 0) + tickPadding\n  };\n\n  if (type === axisTypeOrdinal) {\n    axis.gridOffset = -(axis.stepSize * innerPadding) / 2;\n    axis.tickOffset = axis.barSize / 2;\n    axis.barOffset = 0;\n  } else {\n    axis.tickOffset = 0;\n    axis.barOffset = -axis.barSize / 2;\n  }\n\n  return axis;\n} // import buildAxisPie from './buildAxis.pie'\n\n\nfunction buildAxis(config) {\n  // if (config.type === 'pie') {\n  // return buildAxisPie(config)\n  // }\n  return buildAxisLinear(config);\n}\n\nvar axisShape = PropTypes.shape({\n  primary: PropTypes.bool,\n  type: PropTypes.oneOf([axisTypeOrdinal, axisTypeTime, axisTypeUtc, axisTypeLinear, axisTypeLog]).isRequired,\n  invert: PropTypes.bool,\n  position: PropTypes.oneOf([positionTop, positionRight, positionBottom, positionLeft]),\n  primaryAxisID: PropTypes.any,\n  min: PropTypes.any,\n  max: PropTypes.any,\n  hardMin: PropTypes.any,\n  hardMax: PropTypes.any,\n  base: PropTypes.any,\n  ticks: PropTypes.any,\n  tickValues: PropTypes.any,\n  tickFormat: PropTypes.func,\n  tickSizeInner: PropTypes.number,\n  tickSizeOuter: PropTypes.number,\n  tickPadding: PropTypes.number,\n  maxLabelRotation: PropTypes.number,\n  innerPadding: PropTypes.number,\n  outerPadding: PropTypes.number,\n  showGrid: PropTypes.bool,\n  showTicks: PropTypes.bool,\n  show: PropTypes.bool,\n  stacked: PropTypes.bool,\n  id: PropTypes.any\n});\n\nvar calculateAxes = function calculateAxes(_ref) {\n  var axes = _ref.axes,\n      materializedData = _ref.materializedData,\n      gridHeight = _ref.gridHeight,\n      gridWidth = _ref.gridWidth,\n      axisDimensions = _ref.axisDimensions; // Detect axes changes and build axes\n\n  var prePrimaryAxes = axes.filter(function (d) {\n    return d.primary;\n  });\n  var preSecondaryAxes = axes.filter(function (d) {\n    return !d.primary;\n  });\n  var primaryAxesHashes = JSON.stringify(prePrimaryAxes);\n  var secondaryAxesHashes = JSON.stringify(preSecondaryAxes); // Calculate primary axes\n\n  var primaryAxes = React.useMemo(function () {\n    return prePrimaryAxes.map(function (axis, i) {\n      return buildAxis({\n        axis: axis,\n        materializedData: materializedData,\n        gridWidth: gridWidth,\n        gridHeight: gridHeight,\n        axisDimensions: axisDimensions\n      });\n    });\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  [primaryAxesHashes, materializedData, gridHeight, gridWidth]); // Calculate secondary axes\n\n  var secondaryAxes = React.useMemo(function () {\n    return preSecondaryAxes.map(function (axis, i) {\n      return buildAxis({\n        axis: axis,\n        primaryAxes: primaryAxes,\n        materializedData: materializedData,\n        gridWidth: gridWidth,\n        gridHeight: gridHeight,\n        axisDimensions: axisDimensions\n      });\n    });\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  [secondaryAxesHashes, materializedData, gridHeight, gridWidth]); // Make sure we're mapping x and y to the correct axes\n\n  var xKey = primaryAxes.find(function (d) {\n    return d.vertical;\n  }) ? 'secondary' : 'primary';\n  var yKey = primaryAxes.find(function (d) {\n    return d.vertical;\n  }) ? 'primary' : 'secondary';\n  var xAxes = primaryAxes.find(function (d) {\n    return d.vertical;\n  }) ? secondaryAxes : primaryAxes;\n  var yAxes = primaryAxes.find(function (d) {\n    return d.vertical;\n  }) ? primaryAxes : secondaryAxes;\n  return {\n    primaryAxes: primaryAxes,\n    secondaryAxes: secondaryAxes,\n    xKey: xKey,\n    yKey: yKey,\n    xAxes: xAxes,\n    yAxes: yAxes\n  };\n};\n\nvar defaultColors = ['#4ab5eb', '#fc6868', '#DECF3F', '#60BD68', '#FAA43A', '#c63b89', '#1aaabe', '#734fe9', '#1828bd', '#cd82ad'];\n\nvar calculateStackData = function calculateStackData(_ref) {\n  var materializedData = _ref.materializedData,\n      primaryAxes = _ref.primaryAxes,\n      secondaryAxes = _ref.secondaryAxes,\n      yAxes = _ref.yAxes,\n      yKey = _ref.yKey,\n      xAxes = _ref.xAxes,\n      xKey = _ref.xKey,\n      grouping = _ref.grouping; // Make stackData\n\n  return React.useMemo(function () {\n    // We need materializedData and both axes to continue\n    if (!primaryAxes.length || !secondaryAxes.length) {\n      throw new Error('A primary and secondary axis is required!');\n    } // If the axes are ready, let's decorate the materializedData for visual plotting\n    // \"totals\" are kept per secondaryAxis and used for bases if secondaryAxis stacking is enabled\n\n\n    var scaleTotals = secondaryAxes.map(function () {\n      return {};\n    });\n    materializedData.forEach(function (series) {\n      var axisIndex = Utils.getAxisIndexByAxisID(secondaryAxes, series.secondaryAxisID);\n      series.datums.forEach(function (datum) {\n        scaleTotals[axisIndex][datum.primary] = {\n          negative: 0,\n          positive: 0\n        };\n      });\n    }); // Determine the correct primary and secondary values for each axis\n    // Also calculate bases and totals if either axis is stacked\n\n    var stackData = materializedData.map(function (series) {\n      var primaryAxisIndex = Utils.getAxisIndexByAxisID(primaryAxes, series.primaryAxisID);\n      var primaryAxis = primaryAxes[primaryAxisIndex];\n      var secondaryAxisIndex = Utils.getAxisIndexByAxisID(secondaryAxes, series.secondaryAxisID);\n      var secondaryAxis = secondaryAxes[secondaryAxisIndex];\n      return _objectSpread({}, series, {\n        datums: series.datums.map(function (d) {\n          var datum = _objectSpread({}, d, {\n            xValue: d[xKey],\n            yValue: d[yKey],\n            baseValue: 0\n          });\n\n          if (secondaryAxis.stacked) {\n            var start = scaleTotals[secondaryAxisIndex][d.primary]; // Stack the x or y values (according to axis positioning)\n\n            if (primaryAxis.vertical) {\n              // Is this a valid point?\n              var validPoint = Utils.isValidPoint(datum.xValue); // Should we use positive or negative base?\n\n              var totalKey = datum.xValue >= 0 ? 'positive' : 'negative'; // Assign the base\n\n              datum.baseValue = start[totalKey]; // Add the value for a total\n\n              datum.totalValue = datum.baseValue + (validPoint ? datum.xValue : 0); // Update the totals\n\n              scaleTotals[secondaryAxisIndex][d.primary][totalKey] = datum.totalValue; // Make the total the new value\n\n              datum.xValue = validPoint ? datum.totalValue : null;\n            } else {\n              // Is this a valid point?\n              var _validPoint = Utils.isValidPoint(datum.yValue); // Should we use positive or negative base?\n\n\n              var _totalKey = datum.yValue >= 0 ? 'positive' : 'negative'; // Assign the base\n\n\n              datum.baseValue = start[_totalKey]; // Add the value to the base\n\n              datum.totalValue = datum.baseValue + (_validPoint ? datum.yValue : 0); // Update the totals\n\n              scaleTotals[secondaryAxisIndex][d.primary][_totalKey] = datum.totalValue; // Make the total the new value\n\n              datum.yValue = _validPoint ? datum.totalValue : null;\n            }\n          }\n\n          return datum;\n        })\n      });\n    });\n    stackData.forEach(function (series) {\n      series.datums.forEach(function (datum) {\n        datum.series = series;\n      });\n    }); // Use the plotDatum method on each series\n\n    stackData.forEach(function (series, i) {\n      if (!series.Component.plotDatum) {\n        throw new Error(\"Could not find a [SeriesType].plotDatum() static method for the series Component above (index: \".concat(i, \")\"));\n      }\n\n      var primaryAxisIndex = Utils.getAxisIndexByAxisID(primaryAxes, series.primaryAxisID);\n      var secondaryAxisIndex = Utils.getAxisIndexByAxisID(secondaryAxes, series.secondaryAxisID);\n      var primaryAxis = primaryAxes[primaryAxisIndex];\n      var secondaryAxis = secondaryAxes[secondaryAxisIndex];\n      var xAxisIndex = Utils.getAxisIndexByAxisID(xAxes, series[\"\".concat(xKey, \"AxisID\")]);\n      var yAxisIndex = Utils.getAxisIndexByAxisID(yAxes, series[\"\".concat(yKey, \"AxisID\")]);\n      var xAxis = xAxes[xAxisIndex];\n      var yAxis = yAxes[yAxisIndex];\n      series.datums = series.datums.map(function (d) {\n        // Data for cartesian charts\n        var result = series.Component.plotDatum(d, {\n          primaryAxis: primaryAxis,\n          secondaryAxis: secondaryAxis,\n          xAxis: xAxis,\n          yAxis: yAxis\n        });\n        return result || d;\n      });\n    }); // Do any data grouping ahead of time using\n\n    if ([groupingSingle, groupingSeries].includes(grouping)) {\n      for (var seriesIndex = 0; seriesIndex < stackData.length; seriesIndex++) {\n        var series = stackData[seriesIndex];\n\n        for (var datumIndex = 0; datumIndex < series.datums.length; datumIndex++) {\n          var datum = series.datums[datumIndex];\n          datum.group = grouping === groupingSeries ? datum.series.datums : [datum];\n        }\n      }\n    } else if ([groupingPrimary, groupingSecondary].includes(grouping)) {\n      var datumsByGrouping = {};\n\n      for (var _seriesIndex = 0; _seriesIndex < stackData.length; _seriesIndex++) {\n        var _series = stackData[_seriesIndex];\n\n        for (var _datumIndex = 0; _datumIndex < _series.datums.length; _datumIndex++) {\n          var _datum = _series.datums[_datumIndex];\n\n          if (!_datum.defined) {\n            continue;\n          }\n\n          var axisKey = String(grouping === groupingPrimary ? _datum.primary : _datum.secondary);\n          datumsByGrouping[axisKey] = datumsByGrouping[axisKey] || [];\n          datumsByGrouping[axisKey].push(_datum);\n        }\n      }\n\n      for (var _seriesIndex2 = 0; _seriesIndex2 < stackData.length; _seriesIndex2++) {\n        var _series2 = stackData[_seriesIndex2];\n\n        for (var _datumIndex2 = 0; _datumIndex2 < _series2.datums.length; _datumIndex2++) {\n          var _datum2 = _series2.datums[_datumIndex2];\n\n          var _axisKey = String(grouping === groupingPrimary ? _datum2.primary : _datum2.secondary);\n\n          _datum2.group = datumsByGrouping[_axisKey];\n        }\n      }\n    } // Not we need to precalculate all of the possible status styles by\n    // calling the seemingly 'live' getSeriesStyle, and getDatumStyle callbacks ;)\n\n\n    stackData = stackData.map(function (series, i) {\n      if (!series.Component.buildStyles) {\n        throw new Error(\"Could not find a SeriesType.buildStyles() static method for the series Component above (index: \".concat(i, \")\"));\n      }\n\n      var result = series.Component.buildStyles(series, {\n        defaultColors: defaultColors\n      });\n      return result || series;\n    });\n    return stackData;\n  }, [primaryAxes, secondaryAxes, materializedData, grouping, xKey, yKey, xAxes, yAxes]);\n};\n\nvar showCount = 10;\n\nfunction TooltipRenderer(props) {\n  var datum = props.datum,\n      grouping = props.grouping,\n      primaryAxis = props.primaryAxis,\n      secondaryAxis = props.secondaryAxis,\n      formatSecondary = props.formatSecondary,\n      formatTertiary = props.formatTertiary,\n      getStyle = props.getStyle,\n      dark = props.dark;\n\n  if (!datum) {\n    return null;\n  }\n\n  var resolvedFormatSecondary = formatSecondary || function (val) {\n    return Math.floor(val) < val ? secondaryAxis.format(Math.round(val * 100) / 100) : secondaryAxis.format(val);\n  };\n\n  var resolvedFormatTertiary = formatTertiary || function (val) {\n    return Math.floor(val) < val ? Math.round(val * 100) / 100 : val;\n  };\n\n  var sortedGroupDatums = _toConsumableArray(datum.group).sort(function (a, b) {\n    if (!primaryAxis.stacked && grouping === groupingSeries || grouping === groupingSecondary) {\n      if (a.primaryCoord > b.primaryCoord) {\n        return -1;\n      } else if (a.primaryCoord < b.primaryCoord) {\n        return 1;\n      }\n    } else if (!secondaryAxis.stacked) {\n      if (a.secondaryCoord > b.secondaryCoord) {\n        return -1;\n      } else if (a.secondaryCoord < b.secondaryCoord) {\n        return 1;\n      }\n    }\n\n    return a.seriesIndex > b.seriesIndex ? 1 : -1;\n  });\n\n  if (grouping === groupingPrimary) {\n    sortedGroupDatums.reverse();\n  }\n\n  if (secondaryAxis.invert) {\n    sortedGroupDatums.reverse();\n  }\n\n  var resolvedShowCount = showCount;\n  var length = sortedGroupDatums.length; // Get the focused series' index\n\n  var activeIndex = sortedGroupDatums.findIndex(function (d) {\n    return d === datum;\n  }); // Get the start by going back half of the showCount\n\n  var start = activeIndex > -1 ? activeIndex - resolvedShowCount / 2 : 0; // Make sure it's at least 0\n\n  start = Math.max(start, 0); // Use the start and add the showCount to get the end\n\n  var end = activeIndex > -1 ? start + resolvedShowCount : length; // Don't let the end go passed the length\n\n  end = Math.min(end, length); // Double check we aren't clipping the start\n\n  start = Math.max(end - resolvedShowCount, 0); // Slice the datums by start and end\n\n  var visibleSortedGroupDatums = sortedGroupDatums.slice(start, end); // Detect if we have previous items\n\n  var hasPrevious = start > 0; // Or next items\n\n  var hasNext = end < length;\n  return React.createElement(\"div\", null, React.createElement(\"div\", {\n    style: {\n      marginBottom: '3px',\n      textAlign: 'center'\n    }\n  }, grouping === groupingSeries ? React.createElement(\"strong\", null, datum.seriesLabel) : grouping === groupingSecondary ? React.createElement(\"strong\", null, secondaryAxis.format(datum.secondary)) : React.createElement(\"strong\", null, primaryAxis.format(datum.primary))), React.createElement(\"table\", {\n    style: {\n      whiteSpace: 'nowrap'\n    }\n  }, React.createElement(\"tbody\", null, hasPrevious ? React.createElement(\"tr\", {\n    style: {\n      opacity: 0.8\n    }\n  }, React.createElement(\"td\", null), React.createElement(\"td\", null, \"...\"), React.createElement(\"td\", null)) : null, visibleSortedGroupDatums.map(function (sortedDatum, i) {\n    var active = sortedDatum === datum;\n    return React.createElement(\"tr\", {\n      key: i,\n      style: {\n        opacity: active ? 1 : 0.8,\n        fontWeight: active && 'bold'\n      }\n    }, React.createElement(\"td\", {\n      style: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        marginRight: '5px'\n      }\n    }, React.createElement(\"svg\", {\n      width: \"16\",\n      height: \"16\"\n    }, React.createElement(\"circle\", {\n      cx: \"8\",\n      cy: \"8\",\n      r: \"7\",\n      style: _objectSpread({}, getStyle(sortedDatum), {\n        stroke: dark ? 'black' : 'white',\n        strokeWidth: active ? 2 : 1\n      })\n    }))), grouping === groupingSeries ? React.createElement(React.Fragment, null, React.createElement(\"td\", null, primaryAxis.format(sortedDatum.primary), \": \\xA0\"), React.createElement(\"td\", {\n      style: {\n        textAlign: 'right'\n      }\n    }, resolvedFormatSecondary(sortedDatum.secondary), sortedDatum.r ? \" (\".concat(resolvedFormatTertiary(sortedDatum.r), \")\") : null)) : grouping === groupingSecondary ? React.createElement(React.Fragment, null, React.createElement(\"td\", null, sortedDatum.seriesLabel, \": \\xA0\"), React.createElement(\"td\", {\n      style: {\n        textAlign: 'right'\n      }\n    }, primaryAxis.format(sortedDatum.primary), sortedDatum.r ? \" (\".concat(resolvedFormatTertiary(sortedDatum.r), \")\") : null)) : React.createElement(React.Fragment, null, React.createElement(\"td\", null, sortedDatum.seriesLabel, \": \\xA0\"), React.createElement(\"td\", {\n      style: {\n        textAlign: 'right'\n      }\n    }, resolvedFormatSecondary(sortedDatum.secondary), sortedDatum.r ? \" (\".concat(resolvedFormatTertiary(sortedDatum.r), \")\") : null)));\n  }), hasNext ? React.createElement(\"tr\", {\n    style: {\n      opacity: 0.8\n    }\n  }, React.createElement(\"td\", null), React.createElement(\"td\", null, \"...\"), React.createElement(\"td\", null)) : null, secondaryAxis && secondaryAxis.stacked && datum.group.length > 1 ? React.createElement(\"tr\", null, React.createElement(\"td\", {\n    style: {\n      paddingTop: '5px'\n    }\n  }, React.createElement(\"div\", {\n    style: {\n      width: '12px',\n      height: '12px',\n      backgroundColor: dark ? 'rgba(0, 26, 39, 0.3)' : 'rgba(255,255,255,.2)',\n      borderRadius: '50px'\n    }\n  })), React.createElement(\"td\", {\n    style: {\n      paddingTop: '5px'\n    }\n  }, \"Total: \\xA0\"), React.createElement(\"td\", {\n    style: {\n      paddingTop: '5px'\n    }\n  }, resolvedFormatSecondary(_toConsumableArray(datum.group).reverse()[0].totalValue))) : null)));\n}\n\nvar alignPropType = PropTypes.oneOf([alignAuto, alignRight, alignTopRight, alignBottomRight, alignLeft, alignTopLeft, alignBottomLeft, alignTop, alignBottom]);\nvar tooltipShape = PropTypes.oneOfType([PropTypes.oneOf([true]), PropTypes.shape({\n  align: alignPropType,\n  alignPriority: PropTypes.arrayOf(alignPropType),\n  padding: PropTypes.number,\n  tooltipArrowPadding: PropTypes.number,\n  anchor: PropTypes.oneOf([anchorPointer, anchorClosest, anchorCenter, anchorTop, anchorBottom, anchorLeft, anchorRight, anchorGridTop, anchorGridBottom, anchorGridLeft, anchorGridRight]),\n  render: PropTypes.func.required,\n  onChange: PropTypes.func\n})]);\n\nvar calculateTooltip = function calculateTooltip(_ref) {\n  var focused = _ref.focused,\n      tooltip = _ref.tooltip,\n      pointer = _ref.pointer,\n      gridWidth = _ref.gridWidth,\n      gridHeight = _ref.gridHeight;\n  return React.useMemo(function () {\n    if (!tooltip) {\n      return null;\n    } // Default tooltip props\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n\n\n    tooltip = _objectSpread({\n      align: alignAuto,\n      alignPriority: [alignRight, alignTopRight, alignBottomRight, alignLeft, alignTopLeft, alignBottomLeft, alignTop, alignBottom],\n      padding: 5,\n      tooltipArrowPadding: 7,\n      anchor: 'closest',\n      render: TooltipRenderer,\n      onChange: function onChange() {}\n    }, tooltip);\n    var anchor = {};\n    var show = true; // If there is a focused datum, default the focus to its x and y\n\n    if (focused) {\n      anchor = focused.anchor;\n    } else {\n      show = false;\n    }\n\n    if (tooltip.anchor === 'pointer') {\n      // Support pointer-bound focus\n      anchor = pointer;\n    } else if (tooltip.anchor === 'closest') ;else if (focused) {\n      // Support manual definition of focus point using relative multiFocus strategy\n      var multiFocus = Array.isArray(tooltip.anchor) ? _toConsumableArray(tooltip.anchor) : [tooltip.anchor];\n      anchor = Utils.getMultiAnchor({\n        anchor: multiFocus,\n        points: focused.group,\n        gridWidth: gridWidth,\n        gridHeight: gridHeight\n      });\n    }\n\n    anchor = anchor ? _objectSpread({\n      horizontalPadding: anchor.horizontalPadding || 0,\n      verticalPadding: anchor.verticalPadding || 0\n    }, anchor) : anchor;\n    return _objectSpread({}, tooltip, {\n      anchor: anchor,\n      show: show\n    });\n  }, [focused, gridHeight, gridWidth, pointer, tooltip]);\n};\n\nvar cursorShape = PropTypes.oneOfType([PropTypes.oneOf([true]), PropTypes.shape({\n  render: PropTypes.func,\n  snap: PropTypes.bool,\n  showLine: PropTypes.bool,\n  showLabel: PropTypes.bool,\n  axisID: PropTypes.any,\n  onChange: PropTypes.func\n})]);\nvar defaultCursorProps = {\n  render: function render(_ref) {\n    var formattedValue = _ref.formattedValue;\n    return React.createElement(\"span\", null, formattedValue);\n  },\n  snap: true,\n  showLine: true,\n  showLabel: true,\n  axisID: undefined,\n  onChange: function onChange() {}\n};\n\nvar calculateCursors = function calculateCursors(_ref2) {\n  var primaryCursor = _ref2.primaryCursor,\n      secondaryCursor = _ref2.secondaryCursor,\n      primaryAxes = _ref2.primaryAxes,\n      secondaryAxes = _ref2.secondaryAxes,\n      focused = _ref2.focused,\n      pointer = _ref2.pointer,\n      gridWidth = _ref2.gridWidth,\n      gridHeight = _ref2.gridHeight,\n      stackData = _ref2.stackData;\n  return [primaryCursor, secondaryCursor].map(function (cursor, i) {\n    var cursorValue = cursor && cursor.value;\n    return React.useMemo(function () {\n      if (!cursor) {\n        return;\n      }\n\n      var primary = i === 0; // eslint-disable-next-line react-hooks/exhaustive-deps\n\n      cursor = _objectSpread({}, defaultCursorProps, cursor, {\n        primary: primary\n      });\n      var value;\n      var show = false; // Determine the axis to use\n\n      var axis = Utils.getAxisByAxisID(primary ? primaryAxes : secondaryAxes, cursor.axisID || focused ? focused.series[primary ? 'primaryAxisID' : 'secondaryAxisID'] : undefined);\n      var siblingAxis = primary ? secondaryAxes[0] : primaryAxes[0]; // Resolve the invert function\n\n      var invert = axis.scale.invert || function (d) {\n        return d;\n      }; // If the pointer is active, try to show\n\n\n      if (pointer.active) {\n        // Default to cursor x and y\n        var x = pointer.x;\n        var y = pointer.y; // If the cursor isn't in the grid, don't display\n\n        if (x < -1 || x > gridWidth + 1 || y < -1 || y > gridHeight + 1) {\n          show = false;\n        } else {\n          show = true;\n        } // Implement snapping\n\n\n        if (axis.type === 'ordinal' || cursor.snap) {\n          if (!focused) {\n            show = false;\n          } else {\n            if (axis.vertical) {\n              value = focused.yValue;\n            } else {\n              value = focused.xValue;\n            }\n          }\n        } else if (axis.vertical) {\n          value = invert(y);\n        } else {\n          value = invert(x);\n        }\n      } else {\n        show = false;\n      }\n\n      var resolvedShow = show;\n      var resolvedValue = value;\n\n      if (typeof cursor.value !== 'undefined' && cursor.value !== null) {\n        resolvedValue = cursor.value;\n\n        if (typeof cursor.show !== 'undefined') {\n          resolvedShow = cursor.show;\n        } else {\n          resolvedShow = true;\n        }\n\n        if (typeof axis.scale(resolvedValue) === 'undefined') {\n          resolvedShow = false;\n        }\n      }\n\n      return _objectSpread({}, cursor, {\n        axis: axis,\n        siblingAxis: siblingAxis,\n        show: show,\n        value: value,\n        resolvedShow: resolvedShow,\n        resolvedValue: resolvedValue\n      });\n    }, [stackData, pointer, cursorValue]);\n  });\n};\n\nvar defaultProps = {\n  getDatums: function getDatums(d) {\n    return Array.isArray(d) ? d : d.datums || d.data;\n  },\n  getLabel: function getLabel(d, i) {\n    return d.label || \"Series \".concat(i + 1);\n  },\n  getSeriesID: function getSeriesID(d, i) {\n    return i;\n  },\n  getPrimary: function getPrimary(d) {\n    return Array.isArray(d) ? d[0] : d.primary || d.x;\n  },\n  getSecondary: function getSecondary(d) {\n    return Array.isArray(d) ? d[1] : d.secondary || d.y;\n  },\n  getR: function getR(d) {\n    return Array.isArray(d) ? d[2] : d.radius || d.r;\n  },\n  getPrimaryAxisID: function getPrimaryAxisID(s) {\n    return s.primaryAxisID;\n  },\n  getSecondaryAxisID: function getSecondaryAxisID(s) {\n    return s.secondaryAxisID;\n  },\n  getSeriesStyle: function getSeriesStyle(series) {\n    return {\n      color: series.originalSeries.color\n    };\n  },\n  getDatumStyle: function getDatumStyle() {\n    return {};\n  },\n  getSeriesOrder: function getSeriesOrder(d) {\n    return d;\n  },\n  onHover: function onHover() {},\n  grouping: groupingPrimary,\n  focus: focusAuto,\n  showVoronoi: false\n};\n\nfunction Chart(_ref) {\n  var data = _ref.data,\n      grouping = _ref.grouping,\n      focus = _ref.focus,\n      showVoronoi = _ref.showVoronoi,\n      dark = _ref.dark,\n      series = _ref.series,\n      axes = _ref.axes,\n      primaryCursor = _ref.primaryCursor,\n      secondaryCursor = _ref.secondaryCursor,\n      tooltip = _ref.tooltip,\n      brush = _ref.brush,\n      renderSVG = _ref.renderSVG,\n      getDatums = _ref.getDatums,\n      getLabel = _ref.getLabel,\n      getSeriesID = _ref.getSeriesID,\n      getPrimary = _ref.getPrimary,\n      getSecondary = _ref.getSecondary,\n      getR = _ref.getR,\n      getPrimaryAxisID = _ref.getPrimaryAxisID,\n      getSecondaryAxisID = _ref.getSecondaryAxisID,\n      getSeriesStyle = _ref.getSeriesStyle,\n      getDatumStyle = _ref.getDatumStyle,\n      onClick = _ref.onClick,\n      onFocus = _ref.onFocus,\n      onHover = _ref.onHover,\n      getSeriesOrder = _ref.getSeriesOrder,\n      rest = _objectWithoutProperties(_ref, [\"data\", \"grouping\", \"focus\", \"showVoronoi\", \"dark\", \"series\", \"axes\", \"primaryCursor\", \"secondaryCursor\", \"tooltip\", \"brush\", \"renderSVG\", \"getDatums\", \"getLabel\", \"getSeriesID\", \"getPrimary\", \"getSecondary\", \"getR\", \"getPrimaryAxisID\", \"getSecondaryAxisID\", \"getSeriesStyle\", \"getDatumStyle\", \"onClick\", \"onFocus\", \"onHover\", \"getSeriesOrder\"]);\n\n  var _React$useState = React.useState({\n    focused: null,\n    element: null,\n    axisDimensions: {},\n    padding: {},\n    offset: {},\n    pointer: {}\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      _React$useState2$ = _React$useState2[0],\n      focused = _React$useState2$.focused,\n      element = _React$useState2$.element,\n      axisDimensions = _React$useState2$.axisDimensions,\n      offsetState = _React$useState2$.offset,\n      padding = _React$useState2$.padding,\n      pointer = _React$useState2$.pointer,\n      setChartState = _React$useState2[1];\n\n  var onClickRef = useLatestRef(onClick);\n  var onFocusRef = useLatestRef(onFocus);\n  var onHoverRef = useLatestRef(onHover);\n  var responsiveElRef = React.useRef();\n\n  var _useHyperResponsive = useHyperResponsive(responsiveElRef),\n      _useHyperResponsive2 = _slicedToArray(_useHyperResponsive, 1),\n      _useHyperResponsive2$ = _useHyperResponsive2[0],\n      width = _useHyperResponsive2$.width,\n      height = _useHyperResponsive2$.height;\n\n  getSeriesID = React.useCallback(Utils.normalizeGetter(getSeriesID), getSeriesID);\n  getLabel = React.useCallback(Utils.normalizeGetter(getLabel), getLabel);\n  getPrimaryAxisID = React.useCallback(Utils.normalizeGetter(getPrimaryAxisID), getPrimaryAxisID);\n  getSecondaryAxisID = React.useCallback(Utils.normalizeGetter(getSecondaryAxisID), getSecondaryAxisID);\n  getDatums = React.useCallback(Utils.normalizeGetter(getDatums), getDatums);\n  getPrimary = React.useCallback(Utils.normalizeGetter(getPrimary), getPrimary);\n  getSecondary = React.useCallback(Utils.normalizeGetter(getSecondary), getSecondary);\n  getR = React.useCallback(Utils.normalizeGetter(getR), getR);\n  var materializedData = calculateMaterializeData({\n    data: data,\n    getSeriesID: getSeriesID,\n    getLabel: getLabel,\n    getPrimaryAxisID: getPrimaryAxisID,\n    getSecondaryAxisID: getSecondaryAxisID,\n    getDatums: getDatums,\n    getPrimary: getPrimary,\n    getSecondary: getSecondary,\n    getR: getR\n  });\n  var seriesOptions = calculateSeriesOptions({\n    materializedData: materializedData,\n    series: series\n  });\n  materializedData = calculateSeriesTypes({\n    materializedData: materializedData,\n    seriesOptions: seriesOptions\n  });\n\n  var _calculateDimensions = calculateDimensions({\n    width: width,\n    height: height,\n    axisDimensions: axisDimensions,\n    padding: padding,\n    offset: offsetState\n  }),\n      offset = _calculateDimensions.offset,\n      gridX = _calculateDimensions.gridX,\n      gridY = _calculateDimensions.gridY,\n      gridWidth = _calculateDimensions.gridWidth,\n      gridHeight = _calculateDimensions.gridHeight;\n\n  var _calculateAxes = calculateAxes({\n    axes: axes,\n    materializedData: materializedData,\n    gridHeight: gridHeight,\n    gridWidth: gridWidth,\n    axisDimensions: axisDimensions\n  }),\n      primaryAxes = _calculateAxes.primaryAxes,\n      secondaryAxes = _calculateAxes.secondaryAxes,\n      xKey = _calculateAxes.xKey,\n      yKey = _calculateAxes.yKey,\n      xAxes = _calculateAxes.xAxes,\n      yAxes = _calculateAxes.yAxes;\n\n  var stackData = calculateStackData({\n    materializedData: materializedData,\n    primaryAxes: primaryAxes,\n    secondaryAxes: secondaryAxes,\n    yAxes: yAxes,\n    yKey: yKey,\n    xAxes: xAxes,\n    xKey: xKey,\n    grouping: grouping\n  });\n  pointer = React.useMemo(function () {\n    return _objectSpread({}, pointer, {\n      axisValues: [].concat(_toConsumableArray(primaryAxes), _toConsumableArray(secondaryAxes)).map(function (axis) {\n        return {\n          axis: axis,\n          value: axis.scale.invert ? axis.scale.invert(pointer[axis.vertical ? 'y' : 'x']) : null\n        };\n      })\n    });\n  }, [pointer, primaryAxes, secondaryAxes]);\n  focused = React.useMemo(function () {\n    // Get the closest focus datum out of the datum group\n    if (focused || element) {\n      var resolvedFocus = focus;\n\n      if (focus === focusAuto) {\n        if (element) {\n          resolvedFocus = focusElement;\n        } else {\n          resolvedFocus = focusClosest;\n        }\n      }\n\n      if (resolvedFocus === focusElement && element) {\n        return element;\n      } else if (resolvedFocus === focusClosest) {\n        return Utils.getClosestPoint(pointer, focused.group);\n      }\n    }\n\n    return null;\n  }, [element, focus, focused, pointer]); // keep the previous focused value around for animations\n\n  var latestFocused = useLatest(focused, focused); // Calculate Tooltip\n\n  tooltip = calculateTooltip({\n    focused: focused,\n    tooltip: tooltip,\n    pointer: pointer,\n    gridWidth: gridWidth,\n    gridHeight: gridHeight\n  }) // Cursors\n  ;\n\n  var _calculateCursors = calculateCursors({\n    primaryCursor: primaryCursor,\n    secondaryCursor: secondaryCursor,\n    primaryAxes: primaryAxes,\n    secondaryAxes: secondaryAxes,\n    focused: focused,\n    pointer: pointer,\n    gridWidth: gridWidth,\n    gridHeight: gridHeight,\n    stackData: stackData\n  });\n\n  var _calculateCursors2 = _slicedToArray(_calculateCursors, 2);\n\n  primaryCursor = _calculateCursors2[0];\n  secondaryCursor = _calculateCursors2[1];\n  React.useEffect(function () {\n    if (onFocusRef.current) {\n      onFocusRef.current(focused);\n    }\n  }, [onFocusRef, focused]);\n  React.useEffect(function () {\n    if (onHoverRef.current) {\n      onHoverRef.current(pointer);\n    }\n  }, [onHoverRef, pointer]);\n  var previousDragging = usePrevious(pointer.dragging);\n  React.useEffect(function () {\n    if (brush && previousDragging && !pointer.dragging) {\n      if (Math.abs(pointer.sourceX - pointer.x) < 20) {\n        return;\n      }\n\n      brush.onSelect({\n        pointer: pointer.released,\n        start: primaryAxes[0].scale.invert(pointer.sourceX),\n        end: primaryAxes[0].scale.invert(pointer.x)\n      });\n    }\n  }, [brush, pointer, pointer.released, pointer.sourceX, pointer.x, previousDragging, primaryAxes]); // Decorate the chartState with computed values (or ones we just\n  // want to pass down through context)\n\n  var chartState = React.useMemo(function () {\n    return {\n      focused: focused,\n      latestFocused: latestFocused,\n      pointer: pointer,\n      tooltip: tooltip,\n      axisDimensions: axisDimensions,\n      offset: offset,\n      padding: padding,\n      width: width,\n      height: height,\n      brush: brush,\n      grouping: grouping,\n      showVoronoi: showVoronoi,\n      materializedData: materializedData,\n      stackData: stackData,\n      primaryAxes: primaryAxes,\n      secondaryAxes: secondaryAxes,\n      primaryCursor: primaryCursor,\n      secondaryCursor: secondaryCursor,\n      gridX: gridX,\n      gridY: gridY,\n      gridWidth: gridWidth,\n      gridHeight: gridHeight,\n      dark: dark,\n      renderSVG: renderSVG,\n      xKey: xKey,\n      yKey: yKey,\n      xAxes: xAxes,\n      yAxes: yAxes,\n      onClickRef: onClickRef,\n      getSeriesStyle: getSeriesStyle,\n      getDatumStyle: getDatumStyle,\n      seriesOptions: seriesOptions,\n      getSeriesOrder: getSeriesOrder\n    };\n  }, [axisDimensions, brush, dark, focused, getDatumStyle, getSeriesOrder, getSeriesStyle, gridHeight, gridWidth, gridX, gridY, grouping, height, latestFocused, materializedData, offset, onClickRef, padding, pointer, primaryAxes, primaryCursor, renderSVG, secondaryAxes, secondaryCursor, seriesOptions, showVoronoi, stackData, tooltip, width, xAxes, xKey, yAxes, yKey]);\n  var chartStateContextValue = React.useMemo(function () {\n    return [chartState, setChartState];\n  }, [chartState, setChartState]);\n  return React.createElement(ChartContext.Provider, {\n    value: chartStateContextValue\n  }, React.createElement(ChartInner, _extends({\n    ref: responsiveElRef\n  }, rest, {\n    onClick: function onClick(e) {\n      if (onClickRef.current) {\n        onClickRef.current(focused);\n      }\n    }\n  })));\n}\n\nChart.propTypes = {\n  data: PropTypes.any.isRequired,\n  focus: PropTypes.oneOf([focusAuto, focusClosest, focusElement]).isRequired,\n  grouping: PropTypes.oneOf([groupingSingle, groupingSeries, groupingPrimary, groupingSecondary]).isRequired,\n  showVoronoi: PropTypes.bool,\n  dark: PropTypes.bool,\n  series: seriesPropType,\n  axes: PropTypes.arrayOf(axisShape),\n  primaryCursor: cursorShape,\n  secondaryCursor: cursorShape,\n  tooltip: tooltipShape,\n  renderSVG: PropTypes.func,\n  getDatums: PropTypes.func.isRequired,\n  getLabel: PropTypes.func.isRequired,\n  getSeriesID: PropTypes.func.isRequired,\n  getPrimary: PropTypes.func.isRequired,\n  getSecondary: PropTypes.func.isRequired,\n  getR: PropTypes.func.isRequired,\n  getPrimaryAxisID: PropTypes.func.isRequired,\n  getSecondaryAxisID: PropTypes.func.isRequired,\n  getSeriesOrder: PropTypes.func.isRequired,\n  getSeriesStyle: PropTypes.func,\n  getDatumStyle: PropTypes.func,\n  onClick: PropTypes.func,\n  onFocus: PropTypes.func,\n  onHover: PropTypes.func\n};\nChart.defaultProps = defaultProps;\nexports.Chart = Chart;\nexports.alignAuto = alignAuto;\nexports.alignBottom = alignBottom;\nexports.alignBottomLeft = alignBottomLeft;\nexports.alignBottomRight = alignBottomRight;\nexports.alignLeft = alignLeft;\nexports.alignRight = alignRight;\nexports.alignTop = alignTop;\nexports.alignTopLeft = alignTopLeft;\nexports.alignTopRight = alignTopRight;\nexports.anchorBottom = anchorBottom;\nexports.anchorCenter = anchorCenter;\nexports.anchorClosest = anchorClosest;\nexports.anchorGridBottom = anchorGridBottom;\nexports.anchorGridLeft = anchorGridLeft;\nexports.anchorGridRight = anchorGridRight;\nexports.anchorGridTop = anchorGridTop;\nexports.anchorLeft = anchorLeft;\nexports.anchorPointer = anchorPointer;\nexports.anchorRight = anchorRight;\nexports.anchorTop = anchorTop;\nexports.axisTypeLinear = axisTypeLinear;\nexports.axisTypeLog = axisTypeLog;\nexports.axisTypeOrdinal = axisTypeOrdinal;\nexports.axisTypeTime = axisTypeTime;\nexports.axisTypeUtc = axisTypeUtc;\nexports.curveBasis = basis;\nexports.curveBasisClosed = basisClosed;\nexports.curveBasisOpen = basisOpen;\nexports.curveBundle = bundle;\nexports.curveCardinal = cardinal;\nexports.curveCardinalClosed = cardinalClosed;\nexports.curveCardinalOpen = cardinalOpen;\nexports.curveCatmullRom = catmullRom;\nexports.curveCatmullRomClosed = catmullRomClosed;\nexports.curveCatmullRomOpen = catmullRomOpen;\nexports.curveLinear = curveLinear;\nexports.curveLinearClosed = linearClosed;\nexports.curveMonotoneX = monotoneX;\nexports.curveMonotoneY = monotoneY;\nexports.curveNatural = natural;\nexports.curveStep = step;\nexports.curveStepAfter = stepAfter;\nexports.curveStepBefore = stepBefore;\nexports.focusAuto = focusAuto;\nexports.focusClosest = focusClosest;\nexports.focusElement = focusElement;\nexports.groupingPrimary = groupingPrimary;\nexports.groupingSecondary = groupingSecondary;\nexports.groupingSeries = groupingSeries;\nexports.groupingSingle = groupingSingle;\nexports.positionBottom = positionBottom;\nexports.positionLeft = positionLeft;\nexports.positionRight = positionRight;\nexports.positionTop = positionTop;","// shim for using process in browser\nvar process = module.exports = {}; // cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n  throw new Error('setTimeout has not been defined');\n}\n\nfunction defaultClearTimeout() {\n  throw new Error('clearTimeout has not been defined');\n}\n\n(function () {\n  try {\n    if (typeof setTimeout === 'function') {\n      cachedSetTimeout = setTimeout;\n    } else {\n      cachedSetTimeout = defaultSetTimout;\n    }\n  } catch (e) {\n    cachedSetTimeout = defaultSetTimout;\n  }\n\n  try {\n    if (typeof clearTimeout === 'function') {\n      cachedClearTimeout = clearTimeout;\n    } else {\n      cachedClearTimeout = defaultClearTimeout;\n    }\n  } catch (e) {\n    cachedClearTimeout = defaultClearTimeout;\n  }\n})();\n\nfunction runTimeout(fun) {\n  if (cachedSetTimeout === setTimeout) {\n    //normal enviroments in sane situations\n    return setTimeout(fun, 0);\n  } // if setTimeout wasn't available but was latter defined\n\n\n  if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n    cachedSetTimeout = setTimeout;\n    return setTimeout(fun, 0);\n  }\n\n  try {\n    // when when somebody has screwed with setTimeout but no I.E. maddness\n    return cachedSetTimeout(fun, 0);\n  } catch (e) {\n    try {\n      // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n      return cachedSetTimeout.call(null, fun, 0);\n    } catch (e) {\n      // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n      return cachedSetTimeout.call(this, fun, 0);\n    }\n  }\n}\n\nfunction runClearTimeout(marker) {\n  if (cachedClearTimeout === clearTimeout) {\n    //normal enviroments in sane situations\n    return clearTimeout(marker);\n  } // if clearTimeout wasn't available but was latter defined\n\n\n  if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n    cachedClearTimeout = clearTimeout;\n    return clearTimeout(marker);\n  }\n\n  try {\n    // when when somebody has screwed with setTimeout but no I.E. maddness\n    return cachedClearTimeout(marker);\n  } catch (e) {\n    try {\n      // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n      return cachedClearTimeout.call(null, marker);\n    } catch (e) {\n      // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n      // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n      return cachedClearTimeout.call(this, marker);\n    }\n  }\n}\n\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n  if (!draining || !currentQueue) {\n    return;\n  }\n\n  draining = false;\n\n  if (currentQueue.length) {\n    queue = currentQueue.concat(queue);\n  } else {\n    queueIndex = -1;\n  }\n\n  if (queue.length) {\n    drainQueue();\n  }\n}\n\nfunction drainQueue() {\n  if (draining) {\n    return;\n  }\n\n  var timeout = runTimeout(cleanUpNextTick);\n  draining = true;\n  var len = queue.length;\n\n  while (len) {\n    currentQueue = queue;\n    queue = [];\n\n    while (++queueIndex < len) {\n      if (currentQueue) {\n        currentQueue[queueIndex].run();\n      }\n    }\n\n    queueIndex = -1;\n    len = queue.length;\n  }\n\n  currentQueue = null;\n  draining = false;\n  runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n  var args = new Array(arguments.length - 1);\n\n  if (arguments.length > 1) {\n    for (var i = 1; i < arguments.length; i++) {\n      args[i - 1] = arguments[i];\n    }\n  }\n\n  queue.push(new Item(fun, args));\n\n  if (queue.length === 1 && !draining) {\n    runTimeout(drainQueue);\n  }\n}; // v8 likes predictible objects\n\n\nfunction Item(fun, array) {\n  this.fun = fun;\n  this.array = array;\n}\n\nItem.prototype.run = function () {\n  this.fun.apply(null, this.array);\n};\n\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\n\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) {\n  return [];\n};\n\nprocess.binding = function (name) {\n  throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () {\n  return '/';\n};\n\nprocess.chdir = function (dir) {\n  throw new Error('process.chdir is not supported');\n};\n\nprocess.umask = function () {\n  return 0;\n};","// https://github.com/tc39/proposal-object-values-entries\nvar $export = require('./_export');\nvar $values = require('./_object-to-array')(false);\n\n$export($export.S, 'Object', {\n  values: function values(it) {\n    return $values(it);\n  }\n});\n","// 20.3.4.36 / 15.9.5.43 Date.prototype.toISOString()\nvar $export = require('./_export');\nvar toISOString = require('./_date-to-iso-string');\n\n// PhantomJS / old WebKit has a broken implementations\n$export($export.P + $export.F * (Date.prototype.toISOString !== toISOString), 'Date', {\n  toISOString: toISOString\n});\n","'use strict';\n// 20.3.4.36 / 15.9.5.43 Date.prototype.toISOString()\nvar fails = require('./_fails');\nvar getTime = Date.prototype.getTime;\nvar $toISOString = Date.prototype.toISOString;\n\nvar lz = function (num) {\n  return num > 9 ? num : '0' + num;\n};\n\n// PhantomJS / old WebKit has a broken implementations\nmodule.exports = (fails(function () {\n  return $toISOString.call(new Date(-5e13 - 1)) != '0385-07-25T07:06:39.999Z';\n}) || !fails(function () {\n  $toISOString.call(new Date(NaN));\n})) ? function toISOString() {\n  if (!isFinite(getTime.call(this))) throw RangeError('Invalid time value');\n  var d = this;\n  var y = d.getUTCFullYear();\n  var m = d.getUTCMilliseconds();\n  var s = y < 0 ? '-' : y > 9999 ? '+' : '';\n  return s + ('00000' + Math.abs(y)).slice(s ? -6 : -4) +\n    '-' + lz(d.getUTCMonth() + 1) + '-' + lz(d.getUTCDate()) +\n    'T' + lz(d.getUTCHours()) + ':' + lz(d.getUTCMinutes()) +\n    ':' + lz(d.getUTCSeconds()) + '.' + (m > 99 ? m : '0' + lz(m)) + 'Z';\n} : $toISOString;\n","// 20.2.2.22 Math.log2(x)\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  log2: function log2(x) {\n    return Math.log(x) / Math.LN2;\n  }\n});\n","// 20.2.2.21 Math.log10(x)\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  log10: function log10(x) {\n    return Math.log(x) * Math.LOG10E;\n  }\n});\n","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nmodule.exports = _nonIterableRest;","// 20.1.2.4 Number.isNaN(number)\nvar $export = require('./_export');\n\n$export($export.S, 'Number', {\n  isNaN: function isNaN(number) {\n    // eslint-disable-next-line no-self-compare\n    return number != number;\n  }\n});\n","'use strict';\n// B.2.3.2 String.prototype.anchor(name)\nrequire('./_string-html')('anchor', function (createHTML) {\n  return function anchor(name) {\n    return createHTML(this, 'a', 'name', name);\n  };\n});\n"],"sourceRoot":""}