{"version":3,"sources":["webpack:///../docs/charts-example.jsx","webpack:///../docs/advanced-examples.mdx","webpack:///../src/index.js","webpack:///../node_modules/react-charts/dist/index.js","webpack:///../node_modules/process/browser.js","webpack:///../node_modules/core-js/modules/es7.object.values.js","webpack:///../node_modules/core-js/modules/es6.date.to-iso-string.js","webpack:///../node_modules/core-js/modules/_date-to-iso-string.js","webpack:///../node_modules/core-js/modules/es6.math.log2.js","webpack:///../node_modules/core-js/modules/es6.math.log10.js","webpack:///../node_modules/@babel/runtime/helpers/slicedToArray.js","webpack:///../node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack:///../node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack:///../node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack:///../node_modules/core-js/modules/es6.number.is-nan.js","webpack:///../node_modules/core-js/modules/es6.string.anchor.js"],"names":["MyChart","coords","axes","React","useMemo","primary","type","position","style","width","height","start","end","value","onTick","ar","Math","random","toFixed","push","data","label","renderChart","_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","props","mdxType","parentName","isMDXComponent","ReactTimer","children","interval","onEnd","useState","setValue","timerRef","useRef","useEffect","window","PropTypes","func","_slicedToArray2","_interopDefault","ex","Object","defineProperty","exports","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","i","length","descriptor","enumerable","configurable","writable","key","_createClass","protoProps","staticProps","prototype","_defineProperty","obj","_extends","assign","arguments","source","hasOwnProperty","call","apply","this","_objectSpread","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","forEach","_inherits","subClass","superClass","create","constructor","_setPrototypeOf","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","p","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","sourceSymbolKeys","propertyIsEnumerable","_possibleConstructorReturn","self","ReferenceError","_assertThisInitialized","_slicedToArray","arr","Array","isArray","_arrayWithHoles","_arr","_n","_d","_e","undefined","_s","_i","Symbol","iterator","next","done","err","_iterableToArrayLimit","_nonIterableRest","_toConsumableArray","arr2","_arrayWithoutHoles","iter","toString","from","_iterableToArray","_nonIterableSpread","ChartContext","createContext","Utils","getStatus","getStatusStyle","buildStyleGetters","series","defaults","focused","decorator","status","datums","datum","getMultiAnchor","_ref","x","y","anchor","points","gridWidth","gridHeight","invalid","Error","JSON","stringify","xMin","xMax","yMin","yMax","point","min","max","sort","a","includes","anchorPart","getClosestPoint","closestDistance","Infinity","closestDatum","boundingPoints","pointerPoint","distance","sqrt","pow","normalizeGetter","getter","d","path","def","e","val","pathObj","flattenDeep","newArr","join","replace","split","makePathArray","reduce","current","pathPart","get","isValidPoint","getAxisByAxisID","AxisID","find","id","getAxisIndexByAxisID","index","findIndex","sumObjBy","str","map","prev","curr","translateX","round","translateY","translate","identity","shallowDiff","b","aKeys","bKeys","some","item","otherFocused","group","seriesID","materializeStyles","stroke","color","fill","normalizeColor","elementTypes","t","n","_n2","onResize","element","fn","observer","observe","r","u","getBoundingClientRect","requestAnimationFrame","unobserve","cancelAnimationFrame","observeRect","useLatestRef","latest","ref","useLatest","when","usePrevious","commonjsGlobal","globalThis","global","performanceNow","module","createCommonjsModule","getNanoSeconds","hrtime","loadTime","moduleLoadTime","nodeLoadTime","upTime","performance","now","process","hr","uptime","Date","getTime","root","vendors","suffix","raf","caf","last","queue","callback","_now","setTimeout","cp","slice","cancelled","handle","raf_1","cancel","polyfill","object","defaultStyle","strokeWidth","opacity","rx","ry","Rectangle","_React$Component","_this$props","x1","y1","x2","y2","rest","resolvedStyle","xStart","yStart","xEnd","yEnd","createElement","Component","constant","RedBlackTree","_","RedBlackNode","node","U","C","L","R","P","N","RedBlackRotateLeft","tree","q","parent","RedBlackRotateRight","RedBlackFirst","createEdge","left","right","v0","v1","edge","edges","setEdgeEnd","cells","halfedges","createBorderEdge","vertex","clipEdge","x0","y0","ax","ay","t0","t1","dx","dy","connectEdge","fm","fb","lx","ly","fx","fy","cellHalfedgeAngle","cell","site","va","vb","atan2","cellHalfedgeStart","cellHalfedgeEnd","insert","after","grandpa","uncle","remove","sibling","red","firstCircle","circlePool","Circle","arc","cy","attachCircle","lArc","rArc","lSite","cSite","rSite","bx","by","cx","epsilon2","ha","hc","circle","pop","before","circles","detachCircle","beachPool","Beach","createBeach","beach","detachBeach","beaches","removeBeach","previous","disappearing","abs","epsilon","unshift","iArc","nArcs","addBeach","dxl","dxr","directrix","leftBreakPoint","rightBreakPoint","createCell","newArc","hb","rfocx","rfocy","pby2","lfocx","lfocy","plby2","hl","aby2","lexicographic","Diagram","sites","extent","j","m","array","sortCellHalfedges","clipEdges","iCell","iHalfedge","nHalfedges","startX","startY","endX","endY","nCells","cover","splice","d2","dc","v00","v01","v11","v10","clipCells","polygons","polygon","triangles","s0","c","e1","s1","links","radius","i0","that","i1","_found","v","vx","vy","v2","pi","PI","tau","tauEpsilon","Path","_x0","_y0","_x1","_y1","constant$1","moveTo","closePath","lineTo","quadraticCurveTo","bezierCurveTo","arcTo","x21","y21","x01","y01","l01_2","x20","y20","l21_2","l20_2","l21","l01","l","tan","acos","t01","t21","a0","a1","ccw","cos","sin","cw","da","rect","w","h","epsilon$2","Linear","context","_context","curveLinear","x$1","y$1","line","defined","curve","output","buffer","defined0","lineStart","lineEnd","noop","_point","Basis","BasisClosed","BasisOpen","Bundle","beta","_basis","_beta","areaStart","_line","areaEnd","NaN","_x2","_x3","_x4","_y2","_y3","_y4","_x","_y","bundle","custom","point$1","_k","Cardinal","tension","cardinal","CardinalClosed","_x5","_y5","cardinalClosed","CardinalOpen","cardinalOpen","point$2","_l01_a","_l01_2a","_l12_a","_l12_2a","_l23_a","_l23_2a","CatmullRom","alpha","_alpha","x23","y23","catmullRom","CatmullRomClosed","catmullRomClosed","CatmullRomOpen","catmullRomOpen","LinearClosed","sign","slope3","h0","h1","slope2","point$3","MonotoneX","MonotoneY","ReflectContext","monotoneX","Natural","controlPoints","Step","_t","_t0","px","py","defaultStyle$1","Path$1","lineFn","VoronoiElement","className","Voronoi","_React$useContext2","useContext","_React$useContext2$","stackData","primaryAxes","secondaryAxes","showVoronoi","setChartState","onHover","useCallback","state","voronoiData","boundingPoint","Number","isNaN","voronoi","s","size","onMouseEnter","onMouseLeave","defaultStyle$2","Line","defaultStyle$3","fontFamily","fontSize","Text","Group","forwardRef","positionTop","positionRight","positionBottom","positionLeft","groupingSingle","groupingSeries","groupingPrimary","groupingSecondary","axisTypeOrdinal","axisTypeTime","axisTypeUtc","focusAuto","focusClosest","focusElement","defaultStyles","tick","radiansToDegrees","AxisLinear","tickSizeInner","tickSizeOuter","show","showGrid","showTicks","styles","maxLabelRotation","labelRotationStep","tickPadding","ticks","tickCount","minTickCount","maxTickCount","scale","scaleMax","transform","vertical","format","_ref$range","range","range0","range1","directionMultiplier","tickOffset","gridOffset","spacing","_React$useState2","rotation","setRotation","dark","axisDimensions","elRef","visibleLabelStepRef","measureDimensions","labelDims","querySelectorAll","el","tickSpace","calculatedTickCount","top","bottom","smallestTickGap","gap","firstLabelDim","lastLabelDim","largestLabel","_overflow","labelDim","largestLabelSize","newRotation","ceil","floor","newVisibleLabelStep","newDimensions","newAxes","previousRotation","useLayoutEffect","axisPath","showGridLine","axisStyles","pointerEvents","String","dominantBaseline","textAnchor","Axis","triangleSize","getBackgroundColor","Tooltip","chartState","gridX","gridY","latestFocused","getDatumStyle","tooltip","tooltipElRef","previousShowRef","align","alignPriority","padding","tooltipArrowPadding","arrowPosition","render","finalAlign","setFinalAlign","space","container","gridDims","tooltipDims","document","body","parentElement","_window$getComputedSt","getComputedStyle","overflowX","overflowY","containerDims","resolvedAlign","priority","fits","horizontalPadding","verticalPadding","resolvedFocused","alignX","alignY","triangleStyles","backgroundColor","resolvedArrowPosition","borderLeft","borderRight","borderTop","borderBottom","animateCoords","primaryAxis","primaryAxisID","secondaryAxis","secondaryAxisID","resolvedHorizontalPadding","resolvedVerticalPadding","renderedChildren","getStyle","transition","background","borderRadius","getLineBackgroundColor","getBackgroundColor$1","Cursor","primaryCursor","secondaryCursor","cursor","_ref2","showLine","showLabel","resolvedValue","snap","axis","siblingAxis","resolvedShow","latestValue","alignPctX","alignPctY","animated","siblingRange","cursorSize","renderProps","formattedValue","stacked","totalValue","lineStartX","lineStartY","lineEndX","lineEndY","bubbleX","RTL","bubbleY","lineHeight","lineWidth","whiteSpace","Brush","pointer","brush","dragging","sourceX","defaultProps","onSelect","ChartInner","_ref$style","_React$useContext4","_React$useContext4$","offset","renderSVG","onClick","seriesOptions","getSeriesOrder","svgRef","rafRef","_onMouseMove","clientX","clientY","active","down","onMouseUp","removeEventListener","released","orderedStackData","reverse","focusedSeriesIndex","stacks","stack","overflow","persist","onMouseMove","onMouseDown","addEventListener","sourceY","calculateMaterializeData","getSeriesID","getLabel","getPrimaryAxisID","getSecondaryAxisID","getDatums","getPrimary","getSecondary","getR","materializedData","seriesIndex","originalSeries","seriesLabel","originalDatums","datumIndex","originalDatum","secondary","usePropsMemo","watchRef","valueRef","_obj$style","useSeriesStyle","getSeriesStyle","useDatumStyle","defaultStyle$4","Circle$1","pathDefaultStyle","circleDefaultStyle","Line$1","showPoints","pathProps","renderedPath","Point","_ref4","dataStyle","circleProps","plotDatum","xAxis","yAxis","primaryCoord","secondaryCoord","xValue","yValue","base","baseValue","buildStyles","_ref3","defaultColors","circleDefaultStyle$1","Bubble","Point$1","defaultAreaStyle","lineDefaultStyle","Area","showOrphans","areaFn","area","k","x0z","y0z","arealine","lineX0","lineY0","lineY1","lineX1","areaPath","linePath","areaPathProps","renderedAreaPath","linePathProps","renderedLinePath","all","OrphanLine","clamp","lineProps","Bar","barOffset","BarPiece","rectangleProps","rectangle","barSize","seriesBarSize","seriesBandScaleOffset","seriesBandScale","seriesTypeIndex","_ref5","seriesTypes","bubble","bar","defaultSeries","seriesPropType","oneOfType","shape","string","bool","calculateSeriesOptions","_defaultSeries","renderer","calculateSeriesTypes","calculateDimensions","_React$useMemo","axesLeftWidth","axesLeftTop","axesLeftBottom","axesRightWidth","axesRightTop","axesRightBottom","axesTopHeight","axesTopLeft","axesTopRight","axesBottomHeight","axesBottomLeft","axesBottomRight","paddingLeft","paddingRight","paddingTop","paddingBottom","ascending","bisector","compare","f","lo","hi","mid","bisectRight","e10","e5","e2","stop","count","step","tickIncrement","isFinite","power","log","LN10","error","tickStep","step0","step1","initRange","domain","implicit","band","bandwidth","ordinal","Map","unknown","set","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","has","copy","ordinalRange","r0","r1","paddingInner","paddingOuter","rescale","values","sequence","_ref7","rangeRound","_ref9","define","factory","extend","definition","Color","reI","reN","reP","reHex3","reHex6","reRgbInteger","RegExp","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","trim","toLowerCase","exec","Rgb","parseInt","rgbn","rgba","hsla","g","rgbConvert","rgb","_hex","Hsl","hsl2rgb","m1","m2","displayable","hex","brighter","darker","hslConvert","deg2rad","rad2deg","Xn","Yn","Zn","t2","t3","labConvert","Lab","Hcl","z","rgb2lrgb","xyz2lab","lab2xyz","lrgb2rgb","hclConvert","A","B","D","E","ED","EB","BC_DA","Cubehelix","constant$2","gamma","nogamma","exponential","linear","bl","cubehelixConvert","cosh","sinh","rgb$1","rgbGamma","nb","na","interpolateValue","date","setTime","interpolateNumber","reA","reB","am","bm","bs","bi","lastIndex","one","zero","valueOf","interpolateRound","SQRT2","number","unit","identity$1","normalize","constant$3","clamper","bimap","interpolate","d0","d1","polymap","transformer","untransform","piecewise","input","invert","continuous","formatDecimal","toExponential","coefficient","exponent","prefixExponent","re","formatSpecifier","specifier","FormatSpecifier","match","symbol","comma","precision","formatRounded","formatTypes","toPrecision","_p","toUpperCase","identity$2","locale","formatPrefix","prefixes","formatLocale","grouping","thousands","substring","currency","decimal","numerals","formatNumerals","percent","newFormat","prefix","test","formatType","maybeSuffix","valuePrefix","valueSuffix","valueNegative","out","formatTrim","charCodeAt","tickFormat","precisionPrefix","precisionRound","precisionFixed","nice","transformLog","transformExp","exp","transformLogn","transformExpn","pow10","reflect","loggish","logs","pows","log10","log2","logp","powp","t0$1","t1$1","newInterval","floori","offseti","field","every","millisecond","durationMinute","durationWeek","second","getUTCSeconds","minute","getMinutes","hour","getTimezoneOffset","getHours","day","setHours","setDate","getDate","weekday","getDay","sunday","monday","thursday","month","setMonth","getMonth","getFullYear","year","setFullYear","utcMinute","setUTCSeconds","getUTCMinutes","utcHour","setUTCMinutes","getUTCHours","utcDay","setUTCHours","setUTCDate","getUTCDate","utcWeekday","getUTCDay","utcSunday","utcMonday","utcThursday","utcMonth","setUTCMonth","getUTCMonth","getUTCFullYear","utcYear","setUTCFullYear","localDate","H","M","S","utcDate","UTC","newYear","locale$1","timeFormat","utcFormat","utcParse","pads","numberRe","percentRe","requoteRe","pad","requote","formatRe","names","formatLookup","parseWeekdayNumberSunday","parseWeekdayNumberMonday","parseWeekNumberSunday","parseWeekNumberISO","V","parseWeekNumberMonday","W","parseFullYear","parseYear","parseZone","Z","parseMonthNumber","parseDayOfMonth","parseDayOfYear","parseHour24","parseMinutes","parseSeconds","parseMilliseconds","parseMicroseconds","parseLiteralPercent","parseUnixTimestamp","Q","parseUnixTimestampSeconds","formatDayOfMonth","formatHour24","formatHour12","formatDayOfYear","formatMilliseconds","getMilliseconds","formatMicroseconds","formatMonthNumber","formatMinutes","formatSeconds","getSeconds","formatWeekdayNumberMonday","formatWeekNumberSunday","formatWeekNumberISO","formatWeekdayNumberSunday","formatWeekNumberMonday","formatYear","formatFullYear","formatZone","formatUTCDayOfMonth","formatUTCHour24","formatUTCHour12","formatUTCDayOfYear","formatUTCMilliseconds","getUTCMilliseconds","formatUTCMicroseconds","formatUTCMonthNumber","formatUTCMinutes","formatUTCSeconds","formatUTCWeekdayNumberMonday","dow","formatUTCWeekNumberSunday","formatUTCWeekNumberISO","formatUTCWeekdayNumberSunday","formatUTCWeekNumberMonday","formatUTCYear","formatUTCFullYear","formatUTCZone","formatLiteralPercent","formatUnixTimestamp","formatUnixTimestampSeconds","locale_dateTime","dateTime","locale_date","locale_time","time","locale_periods","periods","locale_weekdays","days","locale_shortWeekdays","shortDays","locale_months","months","locale_shortMonths","shortMonths","periodRe","periodLookup","weekdayRe","weekdayLookup","shortWeekdayRe","shortWeekdayLookup","monthRe","monthLookup","shortMonthRe","shortMonthLookup","formats","utcFormats","parses","parseSpecifier","charAt","newParse","newDate","week","day$1","parse","X","formatLocale$1","defaultLocale$1","toISOString","_scales","durationSecond$1","durationMinute$1","durationHour$1","durationDay$1","durationWeek$1","durationMonth","durationYear","date$1","number$1","calendar","formatMillisecond","formatSecond","formatMinute","formatHour","formatDay","formatWeek","formatMonth","tickIntervals","tickInterval","scales","linear$1","linearish","detectVertical","detectRTL","buildAxis","config","_ref$axis","_ref$axis$min","userMin","_ref$axis$max","userMax","_ref$axis$hardMin","hardMin","_ref$axis$hardMax","hardMax","_ref$axis$base","_ref$axis$tickCount","_ref$axis$minTickCoun","_ref$axis$maxTickCoun","_ref$axis$tickValues","tickValues","_ref$axis$tickFormat","_ref$axis$tickSizeInn","_ref$axis$tickSizeOut","_ref$axis$tickPadding","_ref$axis$maxLabelRot","_ref$axis$labelRotati","_ref$axis$innerPaddin","innerPadding","_ref$axis$outerPaddin","outerPadding","_ref$axis$showGrid","_ref$axis$showTicks","_ref$axis$show","_ref$axis$stacked","userID","valueKey","groupKey","AxisIDKey","uniqueVals","negativeTotalByKey","positiveTotalByKey","axisDimension","bandScale","stepSize","defaultMin","defaultMax","buildAxisLinear","axisShape","oneOf","isRequired","any","calculateAxes","prePrimaryAxes","preSecondaryAxes","primaryAxesHashes","secondaryAxesHashes","xKey","yKey","xAxes","yAxes","calculateStackData","scaleTotals","axisIndex","negative","positive","primaryAxisIndex","secondaryAxisIndex","validPoint","totalKey","_validPoint","_totalKey","xAxisIndex","yAxisIndex","datumsByGrouping","_seriesIndex","_series","_datumIndex","_datum","axisKey","_seriesIndex2","_series2","_datumIndex2","_datum2","_axisKey","showCount","TooltipRenderer","formatSecondary","formatTertiary","resolvedFormatSecondary","resolvedFormatTertiary","sortedGroupDatums","resolvedShowCount","activeIndex","visibleSortedGroupDatums","hasPrevious","hasNext","marginBottom","textAlign","sortedDatum","fontWeight","display","alignItems","justifyContent","marginRight","Fragment","alignPropType","tooltipShape","arrayOf","required","onChange","calculateTooltip","multiFocus","cursorShape","axisID","defaultCursorProps","calculateCursors","cursorValue","focus","Chart","onFocus","_React$useState2$","offsetState","onClickRef","onFocusRef","onHoverRef","responsiveElRef","_useHyperResponsive","setState","resize","computed","boxSizing","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","newWidth","newHeight","stopListening","useHyperResponsive","_useHyperResponsive2$","_calculateDimensions","_calculateAxes","axisValues","resolvedFocus","_calculateCursors2","previousDragging","chartStateContextValue","Provider","propTypes","alignAuto","alignBottom","alignBottomLeft","alignBottomRight","alignLeft","alignRight","alignTop","alignTopLeft","alignTopRight","anchorBottom","anchorCenter","anchorClosest","anchorGridBottom","anchorGridLeft","anchorGridRight","anchorGridTop","anchorLeft","anchorPointer","anchorRight","anchorTop","axisTypeLinear","axisTypeLog","curveBasis","curveBasisClosed","curveBasisOpen","curveBundle","curveCardinal","curveCardinalClosed","curveCardinalOpen","curveCatmullRom","curveCatmullRomClosed","curveCatmullRomOpen","curveLinearClosed","curveMonotoneX","curveMonotoneY","curveNatural","curveStep","curveStepAfter","curveStepBefore","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","clearTimeout","currentQueue","draining","queueIndex","cleanUpNextTick","drainQueue","timeout","len","run","marker","runClearTimeout","Item","nextTick","args","title","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","name","binding","cwd","chdir","dir","umask","$export","$values","it","F","fails","$toISOString","lz","num","RangeError","LN2","LOG10E","arrayWithHoles","iterableToArrayLimit","nonIterableRest","createHTML"],"mappings":"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","file":"component---docs-advanced-examples-mdx-0b908b152b9a5b16d562.js","sourcesContent":["/* eslint-disable no-debugger */\nimport React from 'react';\nimport { Chart } from 'react-charts';\nimport ReactTimer from '../src';\n\nconst MyChart = () => {\n  const coords = [[0, 0]];\n\n  const axes = React.useMemo(\n    () => [\n      { primary: true, type: 'linear', position: 'bottom' },\n      { type: 'linear', position: 'left' },\n    ],\n    [],\n  );\n\n  const renderChart = (value) => {\n    const ar = [value, (Math.random() * 10).toFixed(0)];\n    coords.push(ar);\n    return (\n      <Chart\n        data={[\n          {\n            label: 'Series 1',\n            data: coords,\n          },\n        ]}\n        axes={axes}\n      />\n    );\n  };\n\n  return (\n    <div\n      style={{\n        width: '100%',\n        height: '300px',\n      }}\n    >\n      <ReactTimer\n        start={0}\n        end={(value) => value === 10}\n        onTick={(value) => value + 1}\n      >\n        {(value) => renderChart(value)}\n      </ReactTimer>\n    </div>\n  );\n};\n\n\nexport default MyChart;\n","import React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/travis/build/xendora/react-timer/node_modules/gatsby-theme-docz/src/base/Layout.js\";\nimport { Playground } from 'docz';\nimport ReactTimer from '../src/index';\nimport ChartsExample from './charts-example';\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"advanced-examples\"\n    }}>{`Advanced Examples`}</h1>\n\n    <h2 {...{\n      \"id\": \"line-graph\"\n    }}>{`Line graph`}</h2>\n    <p>{`A line graph that periodically updates itself`}</p>\n    <ChartsExample mdxType=\"ChartsExample\" />\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`import React from 'react';\nimport { Chart } from 'react-charts';\nimport ReactTimer from '@xendora/react-timer';\n\nconst MyChart = () => {\n  const coords = [[0, 0]];\n\n  const axes = React.useMemo(\n    () => [\n      { primary: true, type: 'linear', position: 'bottom' },\n      { type: 'linear', position: 'left' },\n    ],\n    [],\n  );\n\n  const renderChart = (value) => {\n    const ar = [value, (Math.random() * 10).toFixed(0)];\n    coords.push(ar);\n    return (\n      <Chart\n        data={[\n          {\n            label: 'Series 1',\n            data: coords,\n          },\n        ]}\n        axes={axes}\n      />\n    );\n  };\n\n  return (\n    <div\n      style={{\n        width: '100%',\n        height: '300px',\n      }}\n    >\n      <ReactTimer\n        start={0}\n        end={(value) => value === 10}\n        onTick={(value) => value + 1}\n      >\n        {(value) => renderChart(value)}\n      </ReactTimer>\n    </div>\n  );\n};\n\n\nexport default MyChart;\n`}</code></pre>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      ","import { useState, useEffect, useRef } from 'react';\nimport PropTypes from 'prop-types';\n\nconst ReactTimer = ({\n  children,\n  start = 0,\n  end = () => true,\n  interval = 1000,\n  onEnd = () => { },\n  onTick = () => { },\n}) => {\n  const [value, setValue] = useState(start);\n  const timerRef = useRef();\n\n  useEffect(() => {\n    if (!timerRef.current) {\n      timerRef.current = window.setInterval(() => {\n        setValue((val) => onTick(val));\n      }, interval);\n    }\n    if (end(value)) {\n      window.clearInterval(timerRef.current);\n      onEnd(value);\n    }\n  }, [end, interval, onEnd, onTick, value]);\n\n  useEffect(() => () => {\n    window.clearInterval(timerRef.current);\n  }, []);\n\n  return children(value);\n};\n\nReactTimer.propTypes = {\n  children: PropTypes.func.isRequired,\n  start: PropTypes.number.isRequired,\n  end: PropTypes.func.isRequired,\n  interval: PropTypes.number,\n  onTick: PropTypes.func,\n  onEnd: PropTypes.func,\n};\n\nexport default ReactTimer;\n","'use strict';\n\nrequire(\"core-js/modules/es7.object.values\");\n\nrequire(\"core-js/modules/es6.date.to-iso-string\");\n\nrequire(\"core-js/modules/es6.math.log2\");\n\nrequire(\"core-js/modules/es6.math.log10\");\n\nrequire(\"core-js/modules/es6.string.trim\");\n\nrequire(\"core-js/modules/es6.regexp.constructor\");\n\nvar _slicedToArray2 = require(\"/home/travis/build/xendora/react-timer/node_modules/@babel/runtime/helpers/slicedToArray\");\n\nrequire(\"core-js/modules/es6.map\");\n\nrequire(\"core-js/modules/es6.number.constructor\");\n\nrequire(\"core-js/modules/es6.number.is-nan\");\n\nrequire(\"core-js/modules/es6.date.now\");\n\nrequire(\"core-js/modules/es6.array.some\");\n\nrequire(\"core-js/modules/es6.array.map\");\n\nrequire(\"core-js/modules/es6.array.find-index\");\n\nrequire(\"core-js/modules/es6.array.find\");\n\nrequire(\"core-js/modules/es6.regexp.replace\");\n\nrequire(\"core-js/modules/es6.regexp.split\");\n\nrequire(\"core-js/modules/es6.array.reduce\");\n\nrequire(\"core-js/modules/es6.array.fill\");\n\nrequire(\"core-js/modules/es7.array.includes\");\n\nrequire(\"core-js/modules/es6.string.includes\");\n\nrequire(\"core-js/modules/es6.array.sort\");\n\nrequire(\"core-js/modules/es6.string.anchor\");\n\nrequire(\"core-js/modules/es6.string.iterator\");\n\nrequire(\"core-js/modules/es6.array.from\");\n\nrequire(\"core-js/modules/es6.regexp.to-string\");\n\nrequire(\"core-js/modules/es6.date.to-string\");\n\nrequire(\"core-js/modules/es7.symbol.async-iterator\");\n\nrequire(\"core-js/modules/es6.array.is-array\");\n\nrequire(\"core-js/modules/es6.array.index-of\");\n\nrequire(\"core-js/modules/es6.object.set-prototype-of\");\n\nrequire(\"core-js/modules/es6.object.create\");\n\nrequire(\"core-js/modules/es6.array.for-each\");\n\nrequire(\"core-js/modules/es6.array.filter\");\n\nrequire(\"core-js/modules/es6.symbol\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.object.keys\");\n\nrequire(\"core-js/modules/es6.object.assign\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopDefault(ex) {\n  return ex && typeof ex === 'object' && 'default' in ex ? ex['default'] : ex;\n}\n\nvar React = _interopDefault(require('react'));\n\nvar PropTypes = _interopDefault(require('prop-types'));\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nvar ChartContext = React.createContext();\nvar Utils = {\n  getStatus: getStatus,\n  getStatusStyle: getStatusStyle,\n  buildStyleGetters: buildStyleGetters,\n  getMultiAnchor: getMultiAnchor,\n  getClosestPoint: getClosestPoint,\n  normalizeGetter: normalizeGetter,\n  isValidPoint: isValidPoint,\n  getAxisByAxisID: getAxisByAxisID,\n  getAxisIndexByAxisID: getAxisIndexByAxisID,\n  sumObjBy: sumObjBy,\n  translateX: translateX,\n  translateY: translateY,\n  translate: translate,\n  identity: identity,\n  shallowDiff: shallowDiff\n};\n\nfunction getStatus(item, focused) {\n  var status = {\n    focused: false,\n    otherFocused: false\n  };\n\n  if (!focused) {\n    return status;\n  } // If the item is a datum\n\n\n  if (typeof item.primary !== 'undefined') {\n    var length = focused.group.length;\n\n    for (var i = 0; i < length; i++) {\n      if (focused.group[i].seriesID === item.series.id && focused.group[i].index === item.index) {\n        status.focused = true;\n        break;\n      }\n    }\n\n    status.otherFocused = !status.focused; // For series\n  } else if (focused.series) {\n    status.focused = focused.series.id === item.id;\n    status.otherFocused = !status.focused;\n  }\n\n  return status;\n}\n\nfunction getStatusStyle(item, status, decorator, defaults) {\n  if (item.series) {\n    defaults = _objectSpread({}, defaults, item.series.style);\n  }\n\n  return materializeStyles(decorator(_objectSpread({}, item, status)), defaults);\n}\n\nfunction buildStyleGetters(series, defaults) {\n  series.getStatusStyle = function (focused, decorator) {\n    var status = getStatus(series, focused);\n    series.style = getStatusStyle(series, status, decorator, defaults);\n    return series.style;\n  }; // We also need to decorate each datum in the same fashion\n\n\n  series.datums.forEach(function (datum) {\n    datum.getStatusStyle = function (focused, decorator) {\n      var status = getStatus(datum, focused);\n      datum.style = getStatusStyle(datum, status, decorator, defaults);\n      return datum.style;\n    };\n  });\n}\n\nfunction getMultiAnchor(_ref) {\n  var anchor = _ref.anchor,\n      points = _ref.points,\n      gridWidth = _ref.gridWidth,\n      gridHeight = _ref.gridHeight;\n\n  var invalid = function invalid() {\n    throw new Error(\"\".concat(JSON.stringify(anchor), \" is not a valid tooltip anchor option. You should use a single anchor option or 2 non-conflicting anchor options.\"));\n  };\n\n  var x;\n  var y;\n  var xMin = points[0].anchor.x;\n  var xMax = points[0].anchor.x;\n  var yMin = points[0].anchor.y;\n  var yMax = points[0].anchor.y;\n  points.forEach(function (point) {\n    xMin = Math.min(point.anchor.x, xMin);\n    xMax = Math.max(point.anchor.x, xMax);\n    yMin = Math.min(point.anchor.y, yMin);\n    yMax = Math.max(point.anchor.y, yMax);\n  });\n\n  if (anchor.length > 2) {\n    return invalid();\n  }\n\n  anchor = anchor.sort(function (a) {\n    return a.includes('center') || a.includes('Center') ? 1 : -1;\n  });\n\n  for (var i = 0; i < anchor.length; i++) {\n    var anchorPart = anchor[i]; // Horizontal Positioning\n\n    if (['left', 'right', 'gridLeft', 'gridRight'].includes(anchorPart)) {\n      if (typeof x !== 'undefined') {\n        invalid();\n      }\n\n      if (anchorPart === 'left') {\n        x = xMin;\n      } else if (anchorPart === 'right') {\n        x = xMax;\n      } else if (anchorPart === 'gridLeft') {\n        x = 0;\n      } else if (anchorPart === 'gridRight') {\n        x = gridWidth;\n      } else {\n        invalid();\n      }\n    } // Vertical Positioning\n\n\n    if (['top', 'bottom', 'gridTop', 'gridBottom'].includes(anchorPart)) {\n      if (typeof y !== 'undefined') {\n        invalid();\n      }\n\n      if (anchorPart === 'top') {\n        y = yMin;\n      } else if (anchorPart === 'bottom') {\n        y = yMax;\n      } else if (anchorPart === 'gridTop') {\n        y = 0;\n      } else if (anchorPart === 'gridBottom') {\n        y = gridHeight;\n      } else {\n        invalid();\n      }\n    } // Center Positioning\n\n\n    if (['center', 'gridCenter'].includes(anchorPart)) {\n      if (anchorPart === 'center') {\n        if (typeof y === 'undefined') {\n          y = (yMin + yMax) / 2;\n        }\n\n        if (typeof x === 'undefined') {\n          x = (xMin + xMax) / 2;\n        }\n      } else if (anchorPart === 'gridCenter') {\n        if (typeof y === 'undefined') {\n          y = gridHeight / 2;\n        }\n\n        if (typeof x === 'undefined') {\n          x = gridWidth / 2;\n        }\n      } else {\n        invalid();\n      }\n    } // Auto center the remainder if there is only one anchorPart listed\n\n\n    if (anchor.length === 1) {\n      if (anchor[0].includes('grid')) {\n        anchor.push('gridCenter');\n      } else {\n        anchor.push('center');\n      }\n    }\n  }\n\n  return {\n    x: x,\n    y: y\n  };\n}\n\nfunction getClosestPoint(position, datums) {\n  if (!datums || !position || !datums.length) {\n    return;\n  }\n\n  var closestDistance = Infinity;\n  var closestDatum = datums[0];\n  datums.forEach(function (datum) {\n    datum.boundingPoints.forEach(function (pointerPoint) {\n      var distance = Math.sqrt(Math.pow(pointerPoint.x - position.x, 2) + Math.pow(pointerPoint.y - position.y, 2));\n\n      if (distance < closestDistance) {\n        closestDistance = distance;\n        closestDatum = datum;\n      }\n    });\n  });\n  return closestDatum;\n}\n\nfunction normalizeColor(style, defaults) {\n  return _objectSpread({}, style, {\n    stroke: style.stroke || style.color || defaults.stroke || defaults.color,\n    fill: style.fill || style.color || defaults.fill || defaults.color\n  });\n}\n\nvar elementTypes = ['area', 'line', 'rectangle', 'circle'];\n\nfunction materializeStyles() {\n  var style = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var defaults = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  style = normalizeColor(style, defaults);\n\n  for (var i = 0; i < elementTypes.length; i++) {\n    var type = elementTypes[i];\n    style[type] = style[type] ? materializeStyles(style[type], defaults) : {};\n  }\n\n  return style;\n}\n\nfunction normalizeGetter(getter) {\n  if (typeof getter === 'function') {\n    return getter;\n  }\n\n  return function (d) {\n    return get(d, getter);\n  };\n}\n\nfunction get(obj, path, def) {\n  if (typeof obj === 'function') {\n    try {\n      return obj();\n    } catch (e) {\n      return path;\n    }\n  }\n\n  if (!path) {\n    return obj;\n  }\n\n  var pathObj = makePathArray(path);\n  var val;\n\n  try {\n    val = pathObj.reduce(function (current, pathPart) {\n      return current[pathPart];\n    }, obj);\n  } catch (e) {// do nothing\n  }\n\n  return typeof val !== 'undefined' ? val : def;\n}\n\nfunction makePathArray(obj) {\n  return flattenDeep(obj).join('.').replace('[', '.').replace(']', '').split('.');\n}\n\nfunction flattenDeep(arr) {\n  var newArr = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n  if (!Array.isArray(arr)) {\n    newArr.push(arr);\n  } else {\n    for (var i = 0; i < arr.length; i++) {\n      flattenDeep(arr[i], newArr);\n    }\n  }\n\n  return newArr;\n}\n\nfunction isValidPoint(d) {\n  if (d === null) {\n    return false;\n  }\n\n  if (typeof d === 'undefined') {\n    return false;\n  }\n\n  if (typeof d === 'string' && d === 'null') {\n    return false;\n  }\n\n  return true;\n}\n\nfunction getAxisByAxisID(axes, AxisID) {\n  return axes.find(function (d) {\n    return d.id === AxisID;\n  }) || axes[0];\n}\n\nfunction getAxisIndexByAxisID(axes, AxisID) {\n  var index = axes.findIndex(function (d) {\n    return d.id === AxisID;\n  });\n  return index > -1 ? index : 0;\n}\n\nfunction sumObjBy(obj, str) {\n  return Object.keys(obj).map(function (key) {\n    return obj[key];\n  }).reduce(function (prev, curr) {\n    return prev + curr[str] || 0;\n  }, 0);\n}\n\nfunction translateX(x) {\n  return \"translate3d(\".concat(Math.round(x), \"px, 0, 0)\");\n}\n\nfunction translateY(y) {\n  return \"translate3d(0, \".concat(Math.round(y), \"px, 0)\");\n}\n\nfunction translate(x, y) {\n  return \"translate3d(\".concat(Math.round(x), \"px, \").concat(Math.round(y), \"px, 0)\");\n}\n\nfunction identity(d) {\n  return d;\n}\n\nfunction shallowDiff(a, b) {\n  var aKeys = Object.keys(a);\n  var bKeys = Object.keys(b);\n\n  if (aKeys.length !== bKeys.length) {\n    return true;\n  }\n\n  return Object.keys(a).some(function (key) {\n    if (a[key] !== b[key]) {\n      return true;\n    }\n  });\n}\n\nvar t = [\"width\", \"height\", \"top\", \"right\", \"bottom\", \"left\"],\n    n = function n(_n2, e) {\n  return void 0 === _n2 && (_n2 = {}), void 0 === e && (e = {}), t.some(function (t) {\n    return _n2[t] !== e[t];\n  });\n};\n\nfunction observeRect(t, e) {\n  var o,\n      i,\n      r = function r() {\n    var u = t.getBoundingClientRect();\n    n(u, o) && e(o = u), i = requestAnimationFrame(r);\n  };\n\n  return {\n    observe: r,\n    unobserve: function unobserve() {\n      cancelAnimationFrame(i);\n    }\n  };\n}\n\nfunction onResize(element, fn) {\n  var observer = observeRect(element, fn);\n  observer.observe();\n  return observer.unobserve;\n}\n\nfunction useHyperResponsive(ref) {\n  var _React$useState = React.useState({\n    width: 0,\n    height: 0\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      _React$useState2$ = _React$useState2[0],\n      width = _React$useState2$.width,\n      height = _React$useState2$.height,\n      setState = _React$useState2[1];\n\n  var resize = React.useRef();\n\n  resize.current = function () {\n    if (!ref.current) {\n      return;\n    }\n\n    var computed = window.getComputedStyle(ref.current.parentElement);\n    var paddingTop = computed.paddingTop,\n        paddingBottom = computed.paddingBottom,\n        paddingLeft = computed.paddingLeft,\n        paddingRight = computed.paddingRight,\n        boxSizing = computed.boxSizing,\n        borderTopWidth = computed.borderTopWidth,\n        borderLeftWidth = computed.borderLeftWidth,\n        borderRightWidth = computed.borderRightWidth,\n        borderBottomWidth = computed.borderBottomWidth;\n    var newWidth = computed.width,\n        newHeight = computed.height;\n    newWidth = parseInt(newWidth);\n    newHeight = parseInt(newHeight);\n\n    if (boxSizing === 'border-box') {\n      newWidth -= parseInt(paddingLeft);\n      newWidth -= parseInt(paddingRight);\n      newHeight -= parseInt(paddingTop);\n      newHeight -= parseInt(paddingBottom);\n      newWidth -= parseInt(borderLeftWidth);\n      newWidth -= parseInt(borderRightWidth);\n      newHeight -= parseInt(borderTopWidth);\n      newHeight -= parseInt(borderBottomWidth);\n    }\n\n    if (newWidth !== width || newHeight !== height) {\n      setState(function () {\n        return {\n          width: newWidth,\n          height: newHeight\n        };\n      });\n    }\n  };\n\n  React.useEffect(function () {\n    var stopListening = onResize(ref.current.parentElement, resize.current);\n    return function () {\n      stopListening();\n    };\n  }, [ref]);\n  return [{\n    width: width,\n    height: height\n  }];\n}\n\nfunction useLatestRef(latest) {\n  var ref = React.useRef();\n  ref.current = latest;\n  return ref;\n}\n\nfunction useLatest(obj) {\n  var when = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n  var ref = React.useRef();\n\n  if (when) {\n    ref.current = obj;\n  }\n\n  return ref.current;\n}\n\nfunction usePrevious(val) {\n  var ref = React.useRef();\n  React.useEffect(function () {\n    ref.current = val;\n  }, [val]);\n  return ref.current;\n}\n\nvar commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\nfunction createCommonjsModule(fn, module) {\n  return module = {\n    exports: {}\n  }, fn(module, module.exports), module.exports;\n}\n\nvar performanceNow = createCommonjsModule(function (module) {\n  // Generated by CoffeeScript 1.12.2\n  (function () {\n    var getNanoSeconds, hrtime, loadTime, moduleLoadTime, nodeLoadTime, upTime;\n\n    if (typeof performance !== \"undefined\" && performance !== null && performance.now) {\n      module.exports = function () {\n        return performance.now();\n      };\n    } else if (typeof process !== \"undefined\" && process !== null && process.hrtime) {\n      module.exports = function () {\n        return (getNanoSeconds() - nodeLoadTime) / 1e6;\n      };\n\n      hrtime = process.hrtime;\n\n      getNanoSeconds = function getNanoSeconds() {\n        var hr;\n        hr = hrtime();\n        return hr[0] * 1e9 + hr[1];\n      };\n\n      moduleLoadTime = getNanoSeconds();\n      upTime = process.uptime() * 1e9;\n      nodeLoadTime = moduleLoadTime - upTime;\n    } else if (Date.now) {\n      module.exports = function () {\n        return Date.now() - loadTime;\n      };\n\n      loadTime = Date.now();\n    } else {\n      module.exports = function () {\n        return new Date().getTime() - loadTime;\n      };\n\n      loadTime = new Date().getTime();\n    }\n  }).call(commonjsGlobal);\n});\nvar root = typeof window === 'undefined' ? commonjsGlobal : window,\n    vendors = ['moz', 'webkit'],\n    suffix = 'AnimationFrame',\n    raf = root['request' + suffix],\n    caf = root['cancel' + suffix] || root['cancelRequest' + suffix];\n\nfor (var i = 0; !raf && i < vendors.length; i++) {\n  raf = root[vendors[i] + 'Request' + suffix];\n  caf = root[vendors[i] + 'Cancel' + suffix] || root[vendors[i] + 'CancelRequest' + suffix];\n} // Some versions of FF have rAF but not cAF\n\n\nif (!raf || !caf) {\n  var last = 0,\n      id = 0,\n      queue = [],\n      frameDuration = 1000 / 60;\n\n  raf = function raf(callback) {\n    if (queue.length === 0) {\n      var _now = performanceNow(),\n          next = Math.max(0, frameDuration - (_now - last));\n\n      last = next + _now;\n      setTimeout(function () {\n        var cp = queue.slice(0); // Clear queue here to prevent\n        // callbacks from appending listeners\n        // to the current frame's queue\n\n        queue.length = 0;\n\n        for (var i = 0; i < cp.length; i++) {\n          if (!cp[i].cancelled) {\n            try {\n              cp[i].callback(last);\n            } catch (e) {\n              setTimeout(function () {\n                throw e;\n              }, 0);\n            }\n          }\n        }\n      }, Math.round(next));\n    }\n\n    queue.push({\n      handle: ++id,\n      callback: callback,\n      cancelled: false\n    });\n    return id;\n  };\n\n  caf = function caf(handle) {\n    for (var i = 0; i < queue.length; i++) {\n      if (queue[i].handle === handle) {\n        queue[i].cancelled = true;\n      }\n    }\n  };\n}\n\nvar raf_1 = function raf_1(fn) {\n  // Wrap in a new function to prevent\n  // `cancel` potentially being assigned\n  // to the native rAF function\n  return raf.call(root, fn);\n};\n\nvar cancel = function cancel() {\n  caf.apply(root, arguments);\n};\n\nvar polyfill = function polyfill(object) {\n  if (!object) {\n    object = root;\n  }\n\n  object.requestAnimationFrame = raf;\n  object.cancelAnimationFrame = caf;\n};\n\nraf_1.cancel = cancel;\nraf_1.polyfill = polyfill;\nvar defaultStyle = {\n  strokeWidth: 0,\n  fill: '#333',\n  opacity: 1,\n  rx: 0,\n  ry: 0\n};\n\nvar Rectangle =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Rectangle, _React$Component);\n\n  function Rectangle() {\n    _classCallCheck(this, Rectangle);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Rectangle).apply(this, arguments));\n  }\n\n  _createClass(Rectangle, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          style = _this$props.style,\n          opacity = _this$props.opacity,\n          x1 = _this$props.x1,\n          y1 = _this$props.y1,\n          x2 = _this$props.x2,\n          y2 = _this$props.y2,\n          rest = _objectWithoutProperties(_this$props, [\"style\", \"opacity\", \"x1\", \"y1\", \"x2\", \"y2\"]);\n\n      var resolvedStyle = _objectSpread({}, defaultStyle, style);\n\n      var xStart = Math.min(x1, x2);\n      var yStart = Math.min(y1, y2);\n      var xEnd = Math.max(x1, x2);\n      var yEnd = Math.max(y1, y2);\n      var height = Math.max(yEnd - yStart, 0);\n      var width = Math.max(xEnd - xStart, 0);\n      return React.createElement(\"rect\", _extends({}, rest, {\n        x: xStart,\n        y: yStart,\n        width: width,\n        height: height,\n        style: resolvedStyle\n      }));\n    }\n  }]);\n\n  return Rectangle;\n}(React.Component);\n\n_defineProperty(Rectangle, \"defaultProps\", {\n  opacity: 1\n});\n\nfunction constant(x) {\n  return function () {\n    return x;\n  };\n}\n\nfunction x(d) {\n  return d[0];\n}\n\nfunction y(d) {\n  return d[1];\n}\n\nfunction RedBlackTree() {\n  this._ = null; // root node\n}\n\nfunction RedBlackNode(node) {\n  node.U = // parent node\n  node.C = // color - true for red, false for black\n  node.L = // left node\n  node.R = // right node\n  node.P = // previous node\n  node.N = null; // next node\n}\n\nRedBlackTree.prototype = {\n  constructor: RedBlackTree,\n  insert: function insert(after, node) {\n    var parent, grandpa, uncle;\n\n    if (after) {\n      node.P = after;\n      node.N = after.N;\n      if (after.N) after.N.P = node;\n      after.N = node;\n\n      if (after.R) {\n        after = after.R;\n\n        while (after.L) {\n          after = after.L;\n        }\n\n        after.L = node;\n      } else {\n        after.R = node;\n      }\n\n      parent = after;\n    } else if (this._) {\n      after = RedBlackFirst(this._);\n      node.P = null;\n      node.N = after;\n      after.P = after.L = node;\n      parent = after;\n    } else {\n      node.P = node.N = null;\n      this._ = node;\n      parent = null;\n    }\n\n    node.L = node.R = null;\n    node.U = parent;\n    node.C = true;\n    after = node;\n\n    while (parent && parent.C) {\n      grandpa = parent.U;\n\n      if (parent === grandpa.L) {\n        uncle = grandpa.R;\n\n        if (uncle && uncle.C) {\n          parent.C = uncle.C = false;\n          grandpa.C = true;\n          after = grandpa;\n        } else {\n          if (after === parent.R) {\n            RedBlackRotateLeft(this, parent);\n            after = parent;\n            parent = after.U;\n          }\n\n          parent.C = false;\n          grandpa.C = true;\n          RedBlackRotateRight(this, grandpa);\n        }\n      } else {\n        uncle = grandpa.L;\n\n        if (uncle && uncle.C) {\n          parent.C = uncle.C = false;\n          grandpa.C = true;\n          after = grandpa;\n        } else {\n          if (after === parent.L) {\n            RedBlackRotateRight(this, parent);\n            after = parent;\n            parent = after.U;\n          }\n\n          parent.C = false;\n          grandpa.C = true;\n          RedBlackRotateLeft(this, grandpa);\n        }\n      }\n\n      parent = after.U;\n    }\n\n    this._.C = false;\n  },\n  remove: function remove(node) {\n    if (node.N) node.N.P = node.P;\n    if (node.P) node.P.N = node.N;\n    node.N = node.P = null;\n    var parent = node.U,\n        sibling,\n        left = node.L,\n        right = node.R,\n        next,\n        red;\n    if (!left) next = right;else if (!right) next = left;else next = RedBlackFirst(right);\n\n    if (parent) {\n      if (parent.L === node) parent.L = next;else parent.R = next;\n    } else {\n      this._ = next;\n    }\n\n    if (left && right) {\n      red = next.C;\n      next.C = node.C;\n      next.L = left;\n      left.U = next;\n\n      if (next !== right) {\n        parent = next.U;\n        next.U = node.U;\n        node = next.R;\n        parent.L = node;\n        next.R = right;\n        right.U = next;\n      } else {\n        next.U = parent;\n        parent = next;\n        node = next.R;\n      }\n    } else {\n      red = node.C;\n      node = next;\n    }\n\n    if (node) node.U = parent;\n    if (red) return;\n\n    if (node && node.C) {\n      node.C = false;\n      return;\n    }\n\n    do {\n      if (node === this._) break;\n\n      if (node === parent.L) {\n        sibling = parent.R;\n\n        if (sibling.C) {\n          sibling.C = false;\n          parent.C = true;\n          RedBlackRotateLeft(this, parent);\n          sibling = parent.R;\n        }\n\n        if (sibling.L && sibling.L.C || sibling.R && sibling.R.C) {\n          if (!sibling.R || !sibling.R.C) {\n            sibling.L.C = false;\n            sibling.C = true;\n            RedBlackRotateRight(this, sibling);\n            sibling = parent.R;\n          }\n\n          sibling.C = parent.C;\n          parent.C = sibling.R.C = false;\n          RedBlackRotateLeft(this, parent);\n          node = this._;\n          break;\n        }\n      } else {\n        sibling = parent.L;\n\n        if (sibling.C) {\n          sibling.C = false;\n          parent.C = true;\n          RedBlackRotateRight(this, parent);\n          sibling = parent.L;\n        }\n\n        if (sibling.L && sibling.L.C || sibling.R && sibling.R.C) {\n          if (!sibling.L || !sibling.L.C) {\n            sibling.R.C = false;\n            sibling.C = true;\n            RedBlackRotateLeft(this, sibling);\n            sibling = parent.L;\n          }\n\n          sibling.C = parent.C;\n          parent.C = sibling.L.C = false;\n          RedBlackRotateRight(this, parent);\n          node = this._;\n          break;\n        }\n      }\n\n      sibling.C = true;\n      node = parent;\n      parent = parent.U;\n    } while (!node.C);\n\n    if (node) node.C = false;\n  }\n};\n\nfunction RedBlackRotateLeft(tree, node) {\n  var p = node,\n      q = node.R,\n      parent = p.U;\n\n  if (parent) {\n    if (parent.L === p) parent.L = q;else parent.R = q;\n  } else {\n    tree._ = q;\n  }\n\n  q.U = parent;\n  p.U = q;\n  p.R = q.L;\n  if (p.R) p.R.U = p;\n  q.L = p;\n}\n\nfunction RedBlackRotateRight(tree, node) {\n  var p = node,\n      q = node.L,\n      parent = p.U;\n\n  if (parent) {\n    if (parent.L === p) parent.L = q;else parent.R = q;\n  } else {\n    tree._ = q;\n  }\n\n  q.U = parent;\n  p.U = q;\n  p.L = q.R;\n  if (p.L) p.L.U = p;\n  q.R = p;\n}\n\nfunction RedBlackFirst(node) {\n  while (node.L) {\n    node = node.L;\n  }\n\n  return node;\n}\n\nfunction createEdge(left, right, v0, v1) {\n  var edge = [null, null],\n      index = edges.push(edge) - 1;\n  edge.left = left;\n  edge.right = right;\n  if (v0) setEdgeEnd(edge, left, right, v0);\n  if (v1) setEdgeEnd(edge, right, left, v1);\n  cells[left.index].halfedges.push(index);\n  cells[right.index].halfedges.push(index);\n  return edge;\n}\n\nfunction createBorderEdge(left, v0, v1) {\n  var edge = [v0, v1];\n  edge.left = left;\n  return edge;\n}\n\nfunction setEdgeEnd(edge, left, right, vertex) {\n  if (!edge[0] && !edge[1]) {\n    edge[0] = vertex;\n    edge.left = left;\n    edge.right = right;\n  } else if (edge.left === right) {\n    edge[1] = vertex;\n  } else {\n    edge[0] = vertex;\n  }\n} // LiangBarsky line clipping.\n\n\nfunction clipEdge(edge, x0, y0, x1, y1) {\n  var a = edge[0],\n      b = edge[1],\n      ax = a[0],\n      ay = a[1],\n      bx = b[0],\n      by = b[1],\n      t0 = 0,\n      t1 = 1,\n      dx = bx - ax,\n      dy = by - ay,\n      r;\n  r = x0 - ax;\n  if (!dx && r > 0) return;\n  r /= dx;\n\n  if (dx < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dx > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = x1 - ax;\n  if (!dx && r < 0) return;\n  r /= dx;\n\n  if (dx < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dx > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  r = y0 - ay;\n  if (!dy && r > 0) return;\n  r /= dy;\n\n  if (dy < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dy > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = y1 - ay;\n  if (!dy && r < 0) return;\n  r /= dy;\n\n  if (dy < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dy > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  if (!(t0 > 0) && !(t1 < 1)) return true; // TODO Better check?\n\n  if (t0 > 0) edge[0] = [ax + t0 * dx, ay + t0 * dy];\n  if (t1 < 1) edge[1] = [ax + t1 * dx, ay + t1 * dy];\n  return true;\n}\n\nfunction connectEdge(edge, x0, y0, x1, y1) {\n  var v1 = edge[1];\n  if (v1) return true;\n  var v0 = edge[0],\n      left = edge.left,\n      right = edge.right,\n      lx = left[0],\n      ly = left[1],\n      rx = right[0],\n      ry = right[1],\n      fx = (lx + rx) / 2,\n      fy = (ly + ry) / 2,\n      fm,\n      fb;\n\n  if (ry === ly) {\n    if (fx < x0 || fx >= x1) return;\n\n    if (lx > rx) {\n      if (!v0) v0 = [fx, y0];else if (v0[1] >= y1) return;\n      v1 = [fx, y1];\n    } else {\n      if (!v0) v0 = [fx, y1];else if (v0[1] < y0) return;\n      v1 = [fx, y0];\n    }\n  } else {\n    fm = (lx - rx) / (ry - ly);\n    fb = fy - fm * fx;\n\n    if (fm < -1 || fm > 1) {\n      if (lx > rx) {\n        if (!v0) v0 = [(y0 - fb) / fm, y0];else if (v0[1] >= y1) return;\n        v1 = [(y1 - fb) / fm, y1];\n      } else {\n        if (!v0) v0 = [(y1 - fb) / fm, y1];else if (v0[1] < y0) return;\n        v1 = [(y0 - fb) / fm, y0];\n      }\n    } else {\n      if (ly < ry) {\n        if (!v0) v0 = [x0, fm * x0 + fb];else if (v0[0] >= x1) return;\n        v1 = [x1, fm * x1 + fb];\n      } else {\n        if (!v0) v0 = [x1, fm * x1 + fb];else if (v0[0] < x0) return;\n        v1 = [x0, fm * x0 + fb];\n      }\n    }\n  }\n\n  edge[0] = v0;\n  edge[1] = v1;\n  return true;\n}\n\nfunction clipEdges(x0, y0, x1, y1) {\n  var i = edges.length,\n      edge;\n\n  while (i--) {\n    if (!connectEdge(edge = edges[i], x0, y0, x1, y1) || !clipEdge(edge, x0, y0, x1, y1) || !(Math.abs(edge[0][0] - edge[1][0]) > epsilon || Math.abs(edge[0][1] - edge[1][1]) > epsilon)) {\n      delete edges[i];\n    }\n  }\n}\n\nfunction createCell(site) {\n  return cells[site.index] = {\n    site: site,\n    halfedges: []\n  };\n}\n\nfunction cellHalfedgeAngle(cell, edge) {\n  var site = cell.site,\n      va = edge.left,\n      vb = edge.right;\n  if (site === vb) vb = va, va = site;\n  if (vb) return Math.atan2(vb[1] - va[1], vb[0] - va[0]);\n  if (site === va) va = edge[1], vb = edge[0];else va = edge[0], vb = edge[1];\n  return Math.atan2(va[0] - vb[0], vb[1] - va[1]);\n}\n\nfunction cellHalfedgeStart(cell, edge) {\n  return edge[+(edge.left !== cell.site)];\n}\n\nfunction cellHalfedgeEnd(cell, edge) {\n  return edge[+(edge.left === cell.site)];\n}\n\nfunction sortCellHalfedges() {\n  for (var i = 0, n = cells.length, cell, halfedges, j, m; i < n; ++i) {\n    if ((cell = cells[i]) && (m = (halfedges = cell.halfedges).length)) {\n      var index = new Array(m),\n          array = new Array(m);\n\n      for (j = 0; j < m; ++j) {\n        index[j] = j, array[j] = cellHalfedgeAngle(cell, edges[halfedges[j]]);\n      }\n\n      index.sort(function (i, j) {\n        return array[j] - array[i];\n      });\n\n      for (j = 0; j < m; ++j) {\n        array[j] = halfedges[index[j]];\n      }\n\n      for (j = 0; j < m; ++j) {\n        halfedges[j] = array[j];\n      }\n    }\n  }\n}\n\nfunction clipCells(x0, y0, x1, y1) {\n  var nCells = cells.length,\n      iCell,\n      cell,\n      site,\n      iHalfedge,\n      halfedges,\n      nHalfedges,\n      start,\n      startX,\n      startY,\n      end,\n      endX,\n      endY,\n      cover = true;\n\n  for (iCell = 0; iCell < nCells; ++iCell) {\n    if (cell = cells[iCell]) {\n      site = cell.site;\n      halfedges = cell.halfedges;\n      iHalfedge = halfedges.length; // Remove any dangling clipped edges.\n\n      while (iHalfedge--) {\n        if (!edges[halfedges[iHalfedge]]) {\n          halfedges.splice(iHalfedge, 1);\n        }\n      } // Insert any border edges as necessary.\n\n\n      iHalfedge = 0, nHalfedges = halfedges.length;\n\n      while (iHalfedge < nHalfedges) {\n        end = cellHalfedgeEnd(cell, edges[halfedges[iHalfedge]]), endX = end[0], endY = end[1];\n        start = cellHalfedgeStart(cell, edges[halfedges[++iHalfedge % nHalfedges]]), startX = start[0], startY = start[1];\n\n        if (Math.abs(endX - startX) > epsilon || Math.abs(endY - startY) > epsilon) {\n          halfedges.splice(iHalfedge, 0, edges.push(createBorderEdge(site, end, Math.abs(endX - x0) < epsilon && y1 - endY > epsilon ? [x0, Math.abs(startX - x0) < epsilon ? startY : y1] : Math.abs(endY - y1) < epsilon && x1 - endX > epsilon ? [Math.abs(startY - y1) < epsilon ? startX : x1, y1] : Math.abs(endX - x1) < epsilon && endY - y0 > epsilon ? [x1, Math.abs(startX - x1) < epsilon ? startY : y0] : Math.abs(endY - y0) < epsilon && endX - x0 > epsilon ? [Math.abs(startY - y0) < epsilon ? startX : x0, y0] : null)) - 1);\n          ++nHalfedges;\n        }\n      }\n\n      if (nHalfedges) cover = false;\n    }\n  } // If there werent any edges, have the closest site cover the extent.\n  // It doesnt matter which corner of the extent we measure!\n\n\n  if (cover) {\n    var dx,\n        dy,\n        d2,\n        dc = Infinity;\n\n    for (iCell = 0, cover = null; iCell < nCells; ++iCell) {\n      if (cell = cells[iCell]) {\n        site = cell.site;\n        dx = site[0] - x0;\n        dy = site[1] - y0;\n        d2 = dx * dx + dy * dy;\n        if (d2 < dc) dc = d2, cover = cell;\n      }\n    }\n\n    if (cover) {\n      var v00 = [x0, y0],\n          v01 = [x0, y1],\n          v11 = [x1, y1],\n          v10 = [x1, y0];\n      cover.halfedges.push(edges.push(createBorderEdge(site = cover.site, v00, v01)) - 1, edges.push(createBorderEdge(site, v01, v11)) - 1, edges.push(createBorderEdge(site, v11, v10)) - 1, edges.push(createBorderEdge(site, v10, v00)) - 1);\n    }\n  } // Lastly delete any cells with no edges; these were entirely clipped.\n\n\n  for (iCell = 0; iCell < nCells; ++iCell) {\n    if (cell = cells[iCell]) {\n      if (!cell.halfedges.length) {\n        delete cells[iCell];\n      }\n    }\n  }\n}\n\nvar circlePool = [];\nvar firstCircle;\n\nfunction Circle() {\n  RedBlackNode(this);\n  this.x = this.y = this.arc = this.site = this.cy = null;\n}\n\nfunction attachCircle(arc) {\n  var lArc = arc.P,\n      rArc = arc.N;\n  if (!lArc || !rArc) return;\n  var lSite = lArc.site,\n      cSite = arc.site,\n      rSite = rArc.site;\n  if (lSite === rSite) return;\n  var bx = cSite[0],\n      by = cSite[1],\n      ax = lSite[0] - bx,\n      ay = lSite[1] - by,\n      cx = rSite[0] - bx,\n      cy = rSite[1] - by;\n  var d = 2 * (ax * cy - ay * cx);\n  if (d >= -epsilon2) return;\n  var ha = ax * ax + ay * ay,\n      hc = cx * cx + cy * cy,\n      x = (cy * ha - ay * hc) / d,\n      y = (ax * hc - cx * ha) / d;\n  var circle = circlePool.pop() || new Circle();\n  circle.arc = arc;\n  circle.site = cSite;\n  circle.x = x + bx;\n  circle.y = (circle.cy = y + by) + Math.sqrt(x * x + y * y); // y bottom\n\n  arc.circle = circle;\n  var before = null,\n      node = circles._;\n\n  while (node) {\n    if (circle.y < node.y || circle.y === node.y && circle.x <= node.x) {\n      if (node.L) node = node.L;else {\n        before = node.P;\n        break;\n      }\n    } else {\n      if (node.R) node = node.R;else {\n        before = node;\n        break;\n      }\n    }\n  }\n\n  circles.insert(before, circle);\n  if (!before) firstCircle = circle;\n}\n\nfunction detachCircle(arc) {\n  var circle = arc.circle;\n\n  if (circle) {\n    if (!circle.P) firstCircle = circle.N;\n    circles.remove(circle);\n    circlePool.push(circle);\n    RedBlackNode(circle);\n    arc.circle = null;\n  }\n}\n\nvar beachPool = [];\n\nfunction Beach() {\n  RedBlackNode(this);\n  this.edge = this.site = this.circle = null;\n}\n\nfunction createBeach(site) {\n  var beach = beachPool.pop() || new Beach();\n  beach.site = site;\n  return beach;\n}\n\nfunction detachBeach(beach) {\n  detachCircle(beach);\n  beaches.remove(beach);\n  beachPool.push(beach);\n  RedBlackNode(beach);\n}\n\nfunction removeBeach(beach) {\n  var circle = beach.circle,\n      x = circle.x,\n      y = circle.cy,\n      vertex = [x, y],\n      previous = beach.P,\n      next = beach.N,\n      disappearing = [beach];\n  detachBeach(beach);\n  var lArc = previous;\n\n  while (lArc.circle && Math.abs(x - lArc.circle.x) < epsilon && Math.abs(y - lArc.circle.cy) < epsilon) {\n    previous = lArc.P;\n    disappearing.unshift(lArc);\n    detachBeach(lArc);\n    lArc = previous;\n  }\n\n  disappearing.unshift(lArc);\n  detachCircle(lArc);\n  var rArc = next;\n\n  while (rArc.circle && Math.abs(x - rArc.circle.x) < epsilon && Math.abs(y - rArc.circle.cy) < epsilon) {\n    next = rArc.N;\n    disappearing.push(rArc);\n    detachBeach(rArc);\n    rArc = next;\n  }\n\n  disappearing.push(rArc);\n  detachCircle(rArc);\n  var nArcs = disappearing.length,\n      iArc;\n\n  for (iArc = 1; iArc < nArcs; ++iArc) {\n    rArc = disappearing[iArc];\n    lArc = disappearing[iArc - 1];\n    setEdgeEnd(rArc.edge, lArc.site, rArc.site, vertex);\n  }\n\n  lArc = disappearing[0];\n  rArc = disappearing[nArcs - 1];\n  rArc.edge = createEdge(lArc.site, rArc.site, null, vertex);\n  attachCircle(lArc);\n  attachCircle(rArc);\n}\n\nfunction addBeach(site) {\n  var x = site[0],\n      directrix = site[1],\n      lArc,\n      rArc,\n      dxl,\n      dxr,\n      node = beaches._;\n\n  while (node) {\n    dxl = leftBreakPoint(node, directrix) - x;\n    if (dxl > epsilon) node = node.L;else {\n      dxr = x - rightBreakPoint(node, directrix);\n\n      if (dxr > epsilon) {\n        if (!node.R) {\n          lArc = node;\n          break;\n        }\n\n        node = node.R;\n      } else {\n        if (dxl > -epsilon) {\n          lArc = node.P;\n          rArc = node;\n        } else if (dxr > -epsilon) {\n          lArc = node;\n          rArc = node.N;\n        } else {\n          lArc = rArc = node;\n        }\n\n        break;\n      }\n    }\n  }\n\n  createCell(site);\n  var newArc = createBeach(site);\n  beaches.insert(lArc, newArc);\n  if (!lArc && !rArc) return;\n\n  if (lArc === rArc) {\n    detachCircle(lArc);\n    rArc = createBeach(lArc.site);\n    beaches.insert(newArc, rArc);\n    newArc.edge = rArc.edge = createEdge(lArc.site, newArc.site);\n    attachCircle(lArc);\n    attachCircle(rArc);\n    return;\n  }\n\n  if (!rArc) {\n    // && lArc\n    newArc.edge = createEdge(lArc.site, newArc.site);\n    return;\n  } // else lArc !== rArc\n\n\n  detachCircle(lArc);\n  detachCircle(rArc);\n  var lSite = lArc.site,\n      ax = lSite[0],\n      ay = lSite[1],\n      bx = site[0] - ax,\n      by = site[1] - ay,\n      rSite = rArc.site,\n      cx = rSite[0] - ax,\n      cy = rSite[1] - ay,\n      d = 2 * (bx * cy - by * cx),\n      hb = bx * bx + by * by,\n      hc = cx * cx + cy * cy,\n      vertex = [(cy * hb - by * hc) / d + ax, (bx * hc - cx * hb) / d + ay];\n  setEdgeEnd(rArc.edge, lSite, rSite, vertex);\n  newArc.edge = createEdge(lSite, site, null, vertex);\n  rArc.edge = createEdge(site, rSite, null, vertex);\n  attachCircle(lArc);\n  attachCircle(rArc);\n}\n\nfunction leftBreakPoint(arc, directrix) {\n  var site = arc.site,\n      rfocx = site[0],\n      rfocy = site[1],\n      pby2 = rfocy - directrix;\n  if (!pby2) return rfocx;\n  var lArc = arc.P;\n  if (!lArc) return -Infinity;\n  site = lArc.site;\n  var lfocx = site[0],\n      lfocy = site[1],\n      plby2 = lfocy - directrix;\n  if (!plby2) return lfocx;\n  var hl = lfocx - rfocx,\n      aby2 = 1 / pby2 - 1 / plby2,\n      b = hl / plby2;\n  if (aby2) return (-b + Math.sqrt(b * b - 2 * aby2 * (hl * hl / (-2 * plby2) - lfocy + plby2 / 2 + rfocy - pby2 / 2))) / aby2 + rfocx;\n  return (rfocx + lfocx) / 2;\n}\n\nfunction rightBreakPoint(arc, directrix) {\n  var rArc = arc.N;\n  if (rArc) return leftBreakPoint(rArc, directrix);\n  var site = arc.site;\n  return site[1] === directrix ? site[0] : Infinity;\n}\n\nvar epsilon = 1e-6;\nvar epsilon2 = 1e-12;\nvar beaches;\nvar cells;\nvar circles;\nvar edges;\n\nfunction triangleArea(a, b, c) {\n  return (a[0] - c[0]) * (b[1] - a[1]) - (a[0] - b[0]) * (c[1] - a[1]);\n}\n\nfunction lexicographic(a, b) {\n  return b[1] - a[1] || b[0] - a[0];\n}\n\nfunction Diagram(sites, extent) {\n  var site = sites.sort(lexicographic).pop(),\n      x,\n      y,\n      circle;\n  edges = [];\n  cells = new Array(sites.length);\n  beaches = new RedBlackTree();\n  circles = new RedBlackTree();\n\n  while (true) {\n    circle = firstCircle;\n\n    if (site && (!circle || site[1] < circle.y || site[1] === circle.y && site[0] < circle.x)) {\n      if (site[0] !== x || site[1] !== y) {\n        addBeach(site);\n        x = site[0], y = site[1];\n      }\n\n      site = sites.pop();\n    } else if (circle) {\n      removeBeach(circle.arc);\n    } else {\n      break;\n    }\n  }\n\n  sortCellHalfedges();\n\n  if (extent) {\n    var x0 = +extent[0][0],\n        y0 = +extent[0][1],\n        x1 = +extent[1][0],\n        y1 = +extent[1][1];\n    clipEdges(x0, y0, x1, y1);\n    clipCells(x0, y0, x1, y1);\n  }\n\n  this.edges = edges;\n  this.cells = cells;\n  beaches = circles = edges = cells = null;\n}\n\nDiagram.prototype = {\n  constructor: Diagram,\n  polygons: function polygons() {\n    var edges = this.edges;\n    return this.cells.map(function (cell) {\n      var polygon = cell.halfedges.map(function (i) {\n        return cellHalfedgeStart(cell, edges[i]);\n      });\n      polygon.data = cell.site.data;\n      return polygon;\n    });\n  },\n  triangles: function triangles() {\n    var triangles = [],\n        edges = this.edges;\n    this.cells.forEach(function (cell, i) {\n      if (!(m = (halfedges = cell.halfedges).length)) return;\n      var site = cell.site,\n          halfedges,\n          j = -1,\n          m,\n          s0,\n          e1 = edges[halfedges[m - 1]],\n          s1 = e1.left === site ? e1.right : e1.left;\n\n      while (++j < m) {\n        s0 = s1;\n        e1 = edges[halfedges[j]];\n        s1 = e1.left === site ? e1.right : e1.left;\n\n        if (s0 && s1 && i < s0.index && i < s1.index && triangleArea(site, s0, s1) < 0) {\n          triangles.push([site.data, s0.data, s1.data]);\n        }\n      }\n    });\n    return triangles;\n  },\n  links: function links() {\n    return this.edges.filter(function (edge) {\n      return edge.right;\n    }).map(function (edge) {\n      return {\n        source: edge.left.data,\n        target: edge.right.data\n      };\n    });\n  },\n  find: function find(x, y, radius) {\n    var that = this,\n        i0,\n        i1 = that._found || 0,\n        n = that.cells.length,\n        cell; // Use the previously-found cell, or start with an arbitrary one.\n\n    while (!(cell = that.cells[i1])) {\n      if (++i1 >= n) return null;\n    }\n\n    var dx = x - cell.site[0],\n        dy = y - cell.site[1],\n        d2 = dx * dx + dy * dy; // Traverse the half-edges to find a closer cell, if any.\n\n    do {\n      cell = that.cells[i0 = i1], i1 = null;\n      cell.halfedges.forEach(function (e) {\n        var edge = that.edges[e],\n            v = edge.left;\n        if ((v === cell.site || !v) && !(v = edge.right)) return;\n        var vx = x - v[0],\n            vy = y - v[1],\n            v2 = vx * vx + vy * vy;\n        if (v2 < d2) d2 = v2, i1 = v.index;\n      });\n    } while (i1 !== null);\n\n    that._found = i0;\n    return radius == null || d2 <= radius * radius ? cell.site : null;\n  }\n};\n\nfunction voronoi() {\n  var x$1 = x,\n      y$1 = y,\n      extent = null;\n\n  function voronoi(data) {\n    return new Diagram(data.map(function (d, i) {\n      var s = [Math.round(x$1(d, i, data) / epsilon) * epsilon, Math.round(y$1(d, i, data) / epsilon) * epsilon];\n      s.index = i;\n      s.data = d;\n      return s;\n    }), extent);\n  }\n\n  voronoi.polygons = function (data) {\n    return voronoi(data).polygons();\n  };\n\n  voronoi.links = function (data) {\n    return voronoi(data).links();\n  };\n\n  voronoi.triangles = function (data) {\n    return voronoi(data).triangles();\n  };\n\n  voronoi.x = function (_) {\n    return arguments.length ? (x$1 = typeof _ === \"function\" ? _ : constant(+_), voronoi) : x$1;\n  };\n\n  voronoi.y = function (_) {\n    return arguments.length ? (y$1 = typeof _ === \"function\" ? _ : constant(+_), voronoi) : y$1;\n  };\n\n  voronoi.extent = function (_) {\n    return arguments.length ? (extent = _ == null ? null : [[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]], voronoi) : extent && [[extent[0][0], extent[0][1]], [extent[1][0], extent[1][1]]];\n  };\n\n  voronoi.size = function (_) {\n    return arguments.length ? (extent = _ == null ? null : [[0, 0], [+_[0], +_[1]]], voronoi) : extent && [extent[1][0] - extent[0][0], extent[1][1] - extent[0][1]];\n  };\n\n  return voronoi;\n}\n\nvar pi = Math.PI,\n    tau = 2 * pi,\n    epsilon$1 = 1e-6,\n    tauEpsilon = tau - epsilon$1;\n\nfunction Path() {\n  this._x0 = this._y0 = // start of current subpath\n  this._x1 = this._y1 = null; // end of current subpath\n\n  this._ = \"\";\n}\n\nfunction path() {\n  return new Path();\n}\n\nPath.prototype = path.prototype = {\n  constructor: Path,\n  moveTo: function moveTo(x, y) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y);\n  },\n  closePath: function closePath() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  },\n  lineTo: function lineTo(x, y) {\n    this._ += \"L\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  quadraticCurveTo: function quadraticCurveTo(x1, y1, x, y) {\n    this._ += \"Q\" + +x1 + \",\" + +y1 + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  bezierCurveTo: function bezierCurveTo(x1, y1, x2, y2, x, y) {\n    this._ += \"C\" + +x1 + \",\" + +y1 + \",\" + +x2 + \",\" + +y2 + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  arcTo: function arcTo(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n    var x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01; // Is the radius negative? Error.\n\n    if (r < 0) throw new Error(\"negative radius: \" + r); // Is this path empty? Move to (x1,y1).\n\n    if (this._x1 === null) {\n      this._ += \"M\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    } // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon$1)) ; // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n      // Equivalently, is (x1,y1) coincident with (x2,y2)?\n      // Or, is the radius zero? Line to (x1,y1).\n      else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon$1) || !r) {\n          this._ += \"L\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n        } // Otherwise, draw an arc!\n        else {\n            var x20 = x2 - x0,\n                y20 = y2 - y0,\n                l21_2 = x21 * x21 + y21 * y21,\n                l20_2 = x20 * x20 + y20 * y20,\n                l21 = Math.sqrt(l21_2),\n                l01 = Math.sqrt(l01_2),\n                l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n                t01 = l / l01,\n                t21 = l / l21; // If the start tangent is not coincident with (x0,y0), line to.\n\n            if (Math.abs(t01 - 1) > epsilon$1) {\n              this._ += \"L\" + (x1 + t01 * x01) + \",\" + (y1 + t01 * y01);\n            }\n\n            this._ += \"A\" + r + \",\" + r + \",0,0,\" + +(y01 * x20 > x01 * y20) + \",\" + (this._x1 = x1 + t21 * x21) + \",\" + (this._y1 = y1 + t21 * y21);\n          }\n  },\n  arc: function arc(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r;\n    var dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0; // Is the radius negative? Error.\n\n    if (r < 0) throw new Error(\"negative radius: \" + r); // Is this path empty? Move to (x0,y0).\n\n    if (this._x1 === null) {\n      this._ += \"M\" + x0 + \",\" + y0;\n    } // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon$1 || Math.abs(this._y1 - y0) > epsilon$1) {\n        this._ += \"L\" + x0 + \",\" + y0;\n      } // Is this arc empty? Were done.\n\n\n    if (!r) return; // Does the angle go the wrong way? Flip the direction.\n\n    if (da < 0) da = da % tau + tau; // Is this a complete circle? Draw two arcs to complete the circle.\n\n    if (da > tauEpsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (x - dx) + \",\" + (y - dy) + \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (this._x1 = x0) + \",\" + (this._y1 = y0);\n    } // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon$1) {\n        this._ += \"A\" + r + \",\" + r + \",0,\" + +(da >= pi) + \",\" + cw + \",\" + (this._x1 = x + r * Math.cos(a1)) + \",\" + (this._y1 = y + r * Math.sin(a1));\n      }\n  },\n  rect: function rect(x, y, w, h) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y) + \"h\" + +w + \"v\" + +h + \"h\" + -w + \"Z\";\n  },\n  toString: function toString() {\n    return this._;\n  }\n};\n\nfunction constant$1(x) {\n  return function constant() {\n    return x;\n  };\n}\n\nvar epsilon$2 = 1e-12;\nvar pi$1 = Math.PI;\n\nfunction Linear(context) {\n  this._context = context;\n}\n\nLinear.prototype = {\n  areaStart: function areaStart() {\n    this._line = 0;\n  },\n  areaEnd: function areaEnd() {\n    this._line = NaN;\n  },\n  lineStart: function lineStart() {\n    this._point = 0;\n  },\n  lineEnd: function lineEnd() {\n    if (this._line || this._line !== 0 && this._point === 1) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function point(x, y) {\n    x = +x, y = +y;\n\n    switch (this._point) {\n      case 0:\n        this._point = 1;\n        this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y);\n        break;\n\n      case 1:\n        this._point = 2;\n      // proceed\n\n      default:\n        this._context.lineTo(x, y);\n\n        break;\n    }\n  }\n};\n\nfunction curveLinear(context) {\n  return new Linear(context);\n}\n\nfunction x$1(p) {\n  return p[0];\n}\n\nfunction y$1(p) {\n  return p[1];\n}\n\nfunction line() {\n  var x = x$1,\n      y = y$1,\n      defined = constant$1(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function line(data) {\n    var i,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer;\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) output.lineStart();else output.lineEnd();\n      }\n\n      if (defined0) output.point(+x(d, i, data), +y(d, i, data));\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  line.x = function (_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant$1(+_), line) : x;\n  };\n\n  line.y = function (_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant$1(+_), line) : y;\n  };\n\n  line.defined = function (_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant$1(!!_), line) : defined;\n  };\n\n  line.curve = function (_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n  };\n\n  line.context = function (_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n  };\n\n  return line;\n}\n\nfunction area() {\n  var x0 = x$1,\n      x1 = null,\n      y0 = constant$1(0),\n      y1 = y$1,\n      defined = constant$1(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function area(data) {\n    var i,\n        j,\n        k,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer,\n        x0z = new Array(n),\n        y0z = new Array(n);\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) {\n          j = i;\n          output.areaStart();\n          output.lineStart();\n        } else {\n          output.lineEnd();\n          output.lineStart();\n\n          for (k = i - 1; k >= j; --k) {\n            output.point(x0z[k], y0z[k]);\n          }\n\n          output.lineEnd();\n          output.areaEnd();\n        }\n      }\n\n      if (defined0) {\n        x0z[i] = +x0(d, i, data), y0z[i] = +y0(d, i, data);\n        output.point(x1 ? +x1(d, i, data) : x0z[i], y1 ? +y1(d, i, data) : y0z[i]);\n      }\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  function arealine() {\n    return line().defined(defined).curve(curve).context(context);\n  }\n\n  area.x = function (_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant$1(+_), x1 = null, area) : x0;\n  };\n\n  area.x0 = function (_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant$1(+_), area) : x0;\n  };\n\n  area.x1 = function (_) {\n    return arguments.length ? (x1 = _ == null ? null : typeof _ === \"function\" ? _ : constant$1(+_), area) : x1;\n  };\n\n  area.y = function (_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant$1(+_), y1 = null, area) : y0;\n  };\n\n  area.y0 = function (_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant$1(+_), area) : y0;\n  };\n\n  area.y1 = function (_) {\n    return arguments.length ? (y1 = _ == null ? null : typeof _ === \"function\" ? _ : constant$1(+_), area) : y1;\n  };\n\n  area.lineX0 = area.lineY0 = function () {\n    return arealine().x(x0).y(y0);\n  };\n\n  area.lineY1 = function () {\n    return arealine().x(x0).y(y1);\n  };\n\n  area.lineX1 = function () {\n    return arealine().x(x1).y(y0);\n  };\n\n  area.defined = function (_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant$1(!!_), area) : defined;\n  };\n\n  area.curve = function (_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), area) : curve;\n  };\n\n  area.context = function (_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), area) : context;\n  };\n\n  return area;\n}\n\nfunction noop() {}\n\nfunction _point(that, x, y) {\n  that._context.bezierCurveTo((2 * that._x0 + that._x1) / 3, (2 * that._y0 + that._y1) / 3, (that._x0 + 2 * that._x1) / 3, (that._y0 + 2 * that._y1) / 3, (that._x0 + 4 * that._x1 + x) / 6, (that._y0 + 4 * that._y1 + y) / 6);\n}\n\nfunction Basis(context) {\n  this._context = context;\n}\n\nBasis.prototype = {\n  areaStart: function areaStart() {\n    this._line = 0;\n  },\n  areaEnd: function areaEnd() {\n    this._line = NaN;\n  },\n  lineStart: function lineStart() {\n    this._x0 = this._x1 = this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function lineEnd() {\n    switch (this._point) {\n      case 3:\n        _point(this, this._x1, this._y1);\n\n      // proceed\n\n      case 2:\n        this._context.lineTo(this._x1, this._y1);\n\n        break;\n    }\n\n    if (this._line || this._line !== 0 && this._point === 1) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function point(x, y) {\n    x = +x, y = +y;\n\n    switch (this._point) {\n      case 0:\n        this._point = 1;\n        this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y);\n        break;\n\n      case 1:\n        this._point = 2;\n        break;\n\n      case 2:\n        this._point = 3;\n\n        this._context.lineTo((5 * this._x0 + this._x1) / 6, (5 * this._y0 + this._y1) / 6);\n\n      // proceed\n\n      default:\n        _point(this, x, y);\n\n        break;\n    }\n\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nfunction basis(context) {\n  return new Basis(context);\n}\n\nfunction BasisClosed(context) {\n  this._context = context;\n}\n\nBasisClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function lineStart() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function lineEnd() {\n    switch (this._point) {\n      case 1:\n        {\n          this._context.moveTo(this._x2, this._y2);\n\n          this._context.closePath();\n\n          break;\n        }\n\n      case 2:\n        {\n          this._context.moveTo((this._x2 + 2 * this._x3) / 3, (this._y2 + 2 * this._y3) / 3);\n\n          this._context.lineTo((this._x3 + 2 * this._x2) / 3, (this._y3 + 2 * this._y2) / 3);\n\n          this._context.closePath();\n\n          break;\n        }\n\n      case 3:\n        {\n          this.point(this._x2, this._y2);\n          this.point(this._x3, this._y3);\n          this.point(this._x4, this._y4);\n          break;\n        }\n    }\n  },\n  point: function point(x, y) {\n    x = +x, y = +y;\n\n    switch (this._point) {\n      case 0:\n        this._point = 1;\n        this._x2 = x, this._y2 = y;\n        break;\n\n      case 1:\n        this._point = 2;\n        this._x3 = x, this._y3 = y;\n        break;\n\n      case 2:\n        this._point = 3;\n        this._x4 = x, this._y4 = y;\n\n        this._context.moveTo((this._x0 + 4 * this._x1 + x) / 6, (this._y0 + 4 * this._y1 + y) / 6);\n\n        break;\n\n      default:\n        _point(this, x, y);\n\n        break;\n    }\n\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nfunction basisClosed(context) {\n  return new BasisClosed(context);\n}\n\nfunction BasisOpen(context) {\n  this._context = context;\n}\n\nBasisOpen.prototype = {\n  areaStart: function areaStart() {\n    this._line = 0;\n  },\n  areaEnd: function areaEnd() {\n    this._line = NaN;\n  },\n  lineStart: function lineStart() {\n    this._x0 = this._x1 = this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function lineEnd() {\n    if (this._line || this._line !== 0 && this._point === 3) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function point(x, y) {\n    x = +x, y = +y;\n\n    switch (this._point) {\n      case 0:\n        this._point = 1;\n        break;\n\n      case 1:\n        this._point = 2;\n        break;\n\n      case 2:\n        this._point = 3;\n        var x0 = (this._x0 + 4 * this._x1 + x) / 6,\n            y0 = (this._y0 + 4 * this._y1 + y) / 6;\n        this._line ? this._context.lineTo(x0, y0) : this._context.moveTo(x0, y0);\n        break;\n\n      case 3:\n        this._point = 4;\n      // proceed\n\n      default:\n        _point(this, x, y);\n\n        break;\n    }\n\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nfunction basisOpen(context) {\n  return new BasisOpen(context);\n}\n\nfunction Bundle(context, beta) {\n  this._basis = new Basis(context);\n  this._beta = beta;\n}\n\nBundle.prototype = {\n  lineStart: function lineStart() {\n    this._x = [];\n    this._y = [];\n\n    this._basis.lineStart();\n  },\n  lineEnd: function lineEnd() {\n    var x = this._x,\n        y = this._y,\n        j = x.length - 1;\n\n    if (j > 0) {\n      var x0 = x[0],\n          y0 = y[0],\n          dx = x[j] - x0,\n          dy = y[j] - y0,\n          i = -1,\n          t;\n\n      while (++i <= j) {\n        t = i / j;\n\n        this._basis.point(this._beta * x[i] + (1 - this._beta) * (x0 + t * dx), this._beta * y[i] + (1 - this._beta) * (y0 + t * dy));\n      }\n    }\n\n    this._x = this._y = null;\n\n    this._basis.lineEnd();\n  },\n  point: function point(x, y) {\n    this._x.push(+x);\n\n    this._y.push(+y);\n  }\n};\n\nvar bundle = function custom(beta) {\n  function bundle(context) {\n    return beta === 1 ? new Basis(context) : new Bundle(context, beta);\n  }\n\n  bundle.beta = function (beta) {\n    return custom(+beta);\n  };\n\n  return bundle;\n}(0.85);\n\nfunction point$1(that, x, y) {\n  that._context.bezierCurveTo(that._x1 + that._k * (that._x2 - that._x0), that._y1 + that._k * (that._y2 - that._y0), that._x2 + that._k * (that._x1 - x), that._y2 + that._k * (that._y1 - y), that._x2, that._y2);\n}\n\nfunction Cardinal(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinal.prototype = {\n  areaStart: function areaStart() {\n    this._line = 0;\n  },\n  areaEnd: function areaEnd() {\n    this._line = NaN;\n  },\n  lineStart: function lineStart() {\n    this._x0 = this._x1 = this._x2 = this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function lineEnd() {\n    switch (this._point) {\n      case 2:\n        this._context.lineTo(this._x2, this._y2);\n\n        break;\n\n      case 3:\n        point$1(this, this._x1, this._y1);\n        break;\n    }\n\n    if (this._line || this._line !== 0 && this._point === 1) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function point(x, y) {\n    x = +x, y = +y;\n\n    switch (this._point) {\n      case 0:\n        this._point = 1;\n        this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y);\n        break;\n\n      case 1:\n        this._point = 2;\n        this._x1 = x, this._y1 = y;\n        break;\n\n      case 2:\n        this._point = 3;\n      // proceed\n\n      default:\n        point$1(this, x, y);\n        break;\n    }\n\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nvar cardinal = function custom(tension) {\n  function cardinal(context) {\n    return new Cardinal(context, tension);\n  }\n\n  cardinal.tension = function (tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n}(0);\n\nfunction CardinalClosed(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function lineStart() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 = this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function lineEnd() {\n    switch (this._point) {\n      case 1:\n        {\n          this._context.moveTo(this._x3, this._y3);\n\n          this._context.closePath();\n\n          break;\n        }\n\n      case 2:\n        {\n          this._context.lineTo(this._x3, this._y3);\n\n          this._context.closePath();\n\n          break;\n        }\n\n      case 3:\n        {\n          this.point(this._x3, this._y3);\n          this.point(this._x4, this._y4);\n          this.point(this._x5, this._y5);\n          break;\n        }\n    }\n  },\n  point: function point(x, y) {\n    x = +x, y = +y;\n\n    switch (this._point) {\n      case 0:\n        this._point = 1;\n        this._x3 = x, this._y3 = y;\n        break;\n\n      case 1:\n        this._point = 2;\n\n        this._context.moveTo(this._x4 = x, this._y4 = y);\n\n        break;\n\n      case 2:\n        this._point = 3;\n        this._x5 = x, this._y5 = y;\n        break;\n\n      default:\n        point$1(this, x, y);\n        break;\n    }\n\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nvar cardinalClosed = function custom(tension) {\n  function cardinal(context) {\n    return new CardinalClosed(context, tension);\n  }\n\n  cardinal.tension = function (tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n}(0);\n\nfunction CardinalOpen(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalOpen.prototype = {\n  areaStart: function areaStart() {\n    this._line = 0;\n  },\n  areaEnd: function areaEnd() {\n    this._line = NaN;\n  },\n  lineStart: function lineStart() {\n    this._x0 = this._x1 = this._x2 = this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function lineEnd() {\n    if (this._line || this._line !== 0 && this._point === 3) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function point(x, y) {\n    x = +x, y = +y;\n\n    switch (this._point) {\n      case 0:\n        this._point = 1;\n        break;\n\n      case 1:\n        this._point = 2;\n        break;\n\n      case 2:\n        this._point = 3;\n        this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2);\n        break;\n\n      case 3:\n        this._point = 4;\n      // proceed\n\n      default:\n        point$1(this, x, y);\n        break;\n    }\n\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nvar cardinalOpen = function custom(tension) {\n  function cardinal(context) {\n    return new CardinalOpen(context, tension);\n  }\n\n  cardinal.tension = function (tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n}(0);\n\nfunction point$2(that, x, y) {\n  var x1 = that._x1,\n      y1 = that._y1,\n      x2 = that._x2,\n      y2 = that._y2;\n\n  if (that._l01_a > epsilon$2) {\n    var a = 2 * that._l01_2a + 3 * that._l01_a * that._l12_a + that._l12_2a,\n        n = 3 * that._l01_a * (that._l01_a + that._l12_a);\n    x1 = (x1 * a - that._x0 * that._l12_2a + that._x2 * that._l01_2a) / n;\n    y1 = (y1 * a - that._y0 * that._l12_2a + that._y2 * that._l01_2a) / n;\n  }\n\n  if (that._l23_a > epsilon$2) {\n    var b = 2 * that._l23_2a + 3 * that._l23_a * that._l12_a + that._l12_2a,\n        m = 3 * that._l23_a * (that._l23_a + that._l12_a);\n    x2 = (x2 * b + that._x1 * that._l23_2a - x * that._l12_2a) / m;\n    y2 = (y2 * b + that._y1 * that._l23_2a - y * that._l12_2a) / m;\n  }\n\n  that._context.bezierCurveTo(x1, y1, x2, y2, that._x2, that._y2);\n}\n\nfunction CatmullRom(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRom.prototype = {\n  areaStart: function areaStart() {\n    this._line = 0;\n  },\n  areaEnd: function areaEnd() {\n    this._line = NaN;\n  },\n  lineStart: function lineStart() {\n    this._x0 = this._x1 = this._x2 = this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a = this._l01_2a = this._l12_2a = this._l23_2a = this._point = 0;\n  },\n  lineEnd: function lineEnd() {\n    switch (this._point) {\n      case 2:\n        this._context.lineTo(this._x2, this._y2);\n\n        break;\n\n      case 3:\n        this.point(this._x2, this._y2);\n        break;\n    }\n\n    if (this._line || this._line !== 0 && this._point === 1) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function point(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0:\n        this._point = 1;\n        this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y);\n        break;\n\n      case 1:\n        this._point = 2;\n        break;\n\n      case 2:\n        this._point = 3;\n      // proceed\n\n      default:\n        point$2(this, x, y);\n        break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nvar catmullRom = function custom(alpha) {\n  function catmullRom(context) {\n    return alpha ? new CatmullRom(context, alpha) : new Cardinal(context, 0);\n  }\n\n  catmullRom.alpha = function (alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n}(0.5);\n\nfunction CatmullRomClosed(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function lineStart() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 = this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._l01_a = this._l12_a = this._l23_a = this._l01_2a = this._l12_2a = this._l23_2a = this._point = 0;\n  },\n  lineEnd: function lineEnd() {\n    switch (this._point) {\n      case 1:\n        {\n          this._context.moveTo(this._x3, this._y3);\n\n          this._context.closePath();\n\n          break;\n        }\n\n      case 2:\n        {\n          this._context.lineTo(this._x3, this._y3);\n\n          this._context.closePath();\n\n          break;\n        }\n\n      case 3:\n        {\n          this.point(this._x3, this._y3);\n          this.point(this._x4, this._y4);\n          this.point(this._x5, this._y5);\n          break;\n        }\n    }\n  },\n  point: function point(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0:\n        this._point = 1;\n        this._x3 = x, this._y3 = y;\n        break;\n\n      case 1:\n        this._point = 2;\n\n        this._context.moveTo(this._x4 = x, this._y4 = y);\n\n        break;\n\n      case 2:\n        this._point = 3;\n        this._x5 = x, this._y5 = y;\n        break;\n\n      default:\n        point$2(this, x, y);\n        break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nvar catmullRomClosed = function custom(alpha) {\n  function catmullRom(context) {\n    return alpha ? new CatmullRomClosed(context, alpha) : new CardinalClosed(context, 0);\n  }\n\n  catmullRom.alpha = function (alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n}(0.5);\n\nfunction CatmullRomOpen(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomOpen.prototype = {\n  areaStart: function areaStart() {\n    this._line = 0;\n  },\n  areaEnd: function areaEnd() {\n    this._line = NaN;\n  },\n  lineStart: function lineStart() {\n    this._x0 = this._x1 = this._x2 = this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a = this._l01_2a = this._l12_2a = this._l23_2a = this._point = 0;\n  },\n  lineEnd: function lineEnd() {\n    if (this._line || this._line !== 0 && this._point === 3) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function point(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0:\n        this._point = 1;\n        break;\n\n      case 1:\n        this._point = 2;\n        break;\n\n      case 2:\n        this._point = 3;\n        this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2);\n        break;\n\n      case 3:\n        this._point = 4;\n      // proceed\n\n      default:\n        point$2(this, x, y);\n        break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nvar catmullRomOpen = function custom(alpha) {\n  function catmullRom(context) {\n    return alpha ? new CatmullRomOpen(context, alpha) : new CardinalOpen(context, 0);\n  }\n\n  catmullRom.alpha = function (alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n}(0.5);\n\nfunction LinearClosed(context) {\n  this._context = context;\n}\n\nLinearClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function lineStart() {\n    this._point = 0;\n  },\n  lineEnd: function lineEnd() {\n    if (this._point) this._context.closePath();\n  },\n  point: function point(x, y) {\n    x = +x, y = +y;\n    if (this._point) this._context.lineTo(x, y);else this._point = 1, this._context.moveTo(x, y);\n  }\n};\n\nfunction linearClosed(context) {\n  return new LinearClosed(context);\n}\n\nfunction sign(x) {\n  return x < 0 ? -1 : 1;\n} // Calculate the slopes of the tangents (Hermite-type interpolation) based on\n// the following paper: Steffen, M. 1990. A Simple Method for Monotonic\n// Interpolation in One Dimension. Astronomy and Astrophysics, Vol. 239, NO.\n// NOV(II), P. 443, 1990.\n\n\nfunction slope3(that, x2, y2) {\n  var h0 = that._x1 - that._x0,\n      h1 = x2 - that._x1,\n      s0 = (that._y1 - that._y0) / (h0 || h1 < 0 && -0),\n      s1 = (y2 - that._y1) / (h1 || h0 < 0 && -0),\n      p = (s0 * h1 + s1 * h0) / (h0 + h1);\n  return (sign(s0) + sign(s1)) * Math.min(Math.abs(s0), Math.abs(s1), 0.5 * Math.abs(p)) || 0;\n} // Calculate a one-sided slope.\n\n\nfunction slope2(that, t) {\n  var h = that._x1 - that._x0;\n  return h ? (3 * (that._y1 - that._y0) / h - t) / 2 : t;\n} // According to https://en.wikipedia.org/wiki/Cubic_Hermite_spline#Representations\n// \"you can express cubic Hermite interpolation in terms of cubic Bzier curves\n// with respect to the four values p0, p0 + m0 / 3, p1 - m1 / 3, p1\".\n\n\nfunction point$3(that, t0, t1) {\n  var x0 = that._x0,\n      y0 = that._y0,\n      x1 = that._x1,\n      y1 = that._y1,\n      dx = (x1 - x0) / 3;\n\n  that._context.bezierCurveTo(x0 + dx, y0 + dx * t0, x1 - dx, y1 - dx * t1, x1, y1);\n}\n\nfunction MonotoneX(context) {\n  this._context = context;\n}\n\nMonotoneX.prototype = {\n  areaStart: function areaStart() {\n    this._line = 0;\n  },\n  areaEnd: function areaEnd() {\n    this._line = NaN;\n  },\n  lineStart: function lineStart() {\n    this._x0 = this._x1 = this._y0 = this._y1 = this._t0 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function lineEnd() {\n    switch (this._point) {\n      case 2:\n        this._context.lineTo(this._x1, this._y1);\n\n        break;\n\n      case 3:\n        point$3(this, this._t0, slope2(this, this._t0));\n        break;\n    }\n\n    if (this._line || this._line !== 0 && this._point === 1) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function point(x, y) {\n    var t1 = NaN;\n    x = +x, y = +y;\n    if (x === this._x1 && y === this._y1) return; // Ignore coincident points.\n\n    switch (this._point) {\n      case 0:\n        this._point = 1;\n        this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y);\n        break;\n\n      case 1:\n        this._point = 2;\n        break;\n\n      case 2:\n        this._point = 3;\n        point$3(this, slope2(this, t1 = slope3(this, x, y)), t1);\n        break;\n\n      default:\n        point$3(this, this._t0, t1 = slope3(this, x, y));\n        break;\n    }\n\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n    this._t0 = t1;\n  }\n};\n\nfunction MonotoneY(context) {\n  this._context = new ReflectContext(context);\n}\n\n(MonotoneY.prototype = Object.create(MonotoneX.prototype)).point = function (x, y) {\n  MonotoneX.prototype.point.call(this, y, x);\n};\n\nfunction ReflectContext(context) {\n  this._context = context;\n}\n\nReflectContext.prototype = {\n  moveTo: function moveTo(x, y) {\n    this._context.moveTo(y, x);\n  },\n  closePath: function closePath() {\n    this._context.closePath();\n  },\n  lineTo: function lineTo(x, y) {\n    this._context.lineTo(y, x);\n  },\n  bezierCurveTo: function bezierCurveTo(x1, y1, x2, y2, x, y) {\n    this._context.bezierCurveTo(y1, x1, y2, x2, y, x);\n  }\n};\n\nfunction monotoneX(context) {\n  return new MonotoneX(context);\n}\n\nfunction monotoneY(context) {\n  return new MonotoneY(context);\n}\n\nfunction Natural(context) {\n  this._context = context;\n}\n\nNatural.prototype = {\n  areaStart: function areaStart() {\n    this._line = 0;\n  },\n  areaEnd: function areaEnd() {\n    this._line = NaN;\n  },\n  lineStart: function lineStart() {\n    this._x = [];\n    this._y = [];\n  },\n  lineEnd: function lineEnd() {\n    var x = this._x,\n        y = this._y,\n        n = x.length;\n\n    if (n) {\n      this._line ? this._context.lineTo(x[0], y[0]) : this._context.moveTo(x[0], y[0]);\n\n      if (n === 2) {\n        this._context.lineTo(x[1], y[1]);\n      } else {\n        var px = controlPoints(x),\n            py = controlPoints(y);\n\n        for (var i0 = 0, i1 = 1; i1 < n; ++i0, ++i1) {\n          this._context.bezierCurveTo(px[0][i0], py[0][i0], px[1][i0], py[1][i0], x[i1], y[i1]);\n        }\n      }\n    }\n\n    if (this._line || this._line !== 0 && n === 1) this._context.closePath();\n    this._line = 1 - this._line;\n    this._x = this._y = null;\n  },\n  point: function point(x, y) {\n    this._x.push(+x);\n\n    this._y.push(+y);\n  }\n}; // See https://www.particleincell.com/2012/bezier-splines/ for derivation.\n\nfunction controlPoints(x) {\n  var i,\n      n = x.length - 1,\n      m,\n      a = new Array(n),\n      b = new Array(n),\n      r = new Array(n);\n  a[0] = 0, b[0] = 2, r[0] = x[0] + 2 * x[1];\n\n  for (i = 1; i < n - 1; ++i) {\n    a[i] = 1, b[i] = 4, r[i] = 4 * x[i] + 2 * x[i + 1];\n  }\n\n  a[n - 1] = 2, b[n - 1] = 7, r[n - 1] = 8 * x[n - 1] + x[n];\n\n  for (i = 1; i < n; ++i) {\n    m = a[i] / b[i - 1], b[i] -= m, r[i] -= m * r[i - 1];\n  }\n\n  a[n - 1] = r[n - 1] / b[n - 1];\n\n  for (i = n - 2; i >= 0; --i) {\n    a[i] = (r[i] - a[i + 1]) / b[i];\n  }\n\n  b[n - 1] = (x[n] + a[n - 1]) / 2;\n\n  for (i = 0; i < n - 1; ++i) {\n    b[i] = 2 * x[i + 1] - a[i + 1];\n  }\n\n  return [a, b];\n}\n\nfunction natural(context) {\n  return new Natural(context);\n}\n\nfunction Step(context, t) {\n  this._context = context;\n  this._t = t;\n}\n\nStep.prototype = {\n  areaStart: function areaStart() {\n    this._line = 0;\n  },\n  areaEnd: function areaEnd() {\n    this._line = NaN;\n  },\n  lineStart: function lineStart() {\n    this._x = this._y = NaN;\n    this._point = 0;\n  },\n  lineEnd: function lineEnd() {\n    if (0 < this._t && this._t < 1 && this._point === 2) this._context.lineTo(this._x, this._y);\n    if (this._line || this._line !== 0 && this._point === 1) this._context.closePath();\n    if (this._line >= 0) this._t = 1 - this._t, this._line = 1 - this._line;\n  },\n  point: function point(x, y) {\n    x = +x, y = +y;\n\n    switch (this._point) {\n      case 0:\n        this._point = 1;\n        this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y);\n        break;\n\n      case 1:\n        this._point = 2;\n      // proceed\n\n      default:\n        {\n          if (this._t <= 0) {\n            this._context.lineTo(this._x, y);\n\n            this._context.lineTo(x, y);\n          } else {\n            var x1 = this._x * (1 - this._t) + x * this._t;\n\n            this._context.lineTo(x1, this._y);\n\n            this._context.lineTo(x1, y);\n          }\n\n          break;\n        }\n    }\n\n    this._x = x, this._y = y;\n  }\n};\n\nfunction step(context) {\n  return new Step(context, 0.5);\n}\n\nfunction stepBefore(context) {\n  return new Step(context, 0);\n}\n\nfunction stepAfter(context) {\n  return new Step(context, 1);\n}\n\nvar defaultStyle$1 = {\n  strokeWidth: 2,\n  stroke: '#6b6b6b',\n  fill: 'transparent',\n  opacity: 1\n};\n\nfunction Path$1(_ref) {\n  var style = _ref.style,\n      rest = _objectWithoutProperties(_ref, [\"style\"]);\n\n  var resolvedStyle = _objectSpread({}, defaultStyle$1, style);\n\n  return React.createElement(\"path\", _extends({}, rest, {\n    style: resolvedStyle\n  }));\n}\n\nvar lineFn = line();\n\nvar VoronoiElement = function VoronoiElement(_ref) {\n  var children = _ref.children,\n      rest = _objectWithoutProperties(_ref, [\"children\"]);\n\n  return React.createElement(\"g\", _extends({\n    className: \"Voronoi\"\n  }, rest), children);\n};\n\nfunction Voronoi() {\n  var _React$useContext = React.useContext(ChartContext),\n      _React$useContext2 = _slicedToArray(_React$useContext, 2),\n      _React$useContext2$ = _React$useContext2[0],\n      stackData = _React$useContext2$.stackData,\n      primaryAxes = _React$useContext2$.primaryAxes,\n      secondaryAxes = _React$useContext2$.secondaryAxes,\n      showVoronoi = _React$useContext2$.showVoronoi,\n      width = _React$useContext2$.width,\n      height = _React$useContext2$.height,\n      gridWidth = _React$useContext2$.gridWidth,\n      gridHeight = _React$useContext2$.gridHeight,\n      setChartState = _React$useContext2[1];\n\n  var onHover = React.useCallback(function (datum) {\n    return setChartState(function (state) {\n      return _objectSpread({}, state, {\n        focused: datum\n      });\n    });\n  }, [setChartState]);\n  return React.useMemo(function () {\n    // Don't render until we have all dependencies\n    if (!stackData || !primaryAxes.length || !secondaryAxes.length || !width || !height) {\n      return null;\n    }\n\n    var extent = [[0, 0], [gridWidth, gridHeight]]; // if (type === 'pie') {\n    //   const primaryAxis = primaryAxes[0]\n    //   return (\n    //     <VoronoiElement\n    //       style={{\n    //         transform: Utils.translate(primaryAxis.width /\n    //           2, primaryAxis.height / 2)\n    //       }}\n    //     >\n    //       {stackData.map(series => (\n    //         <React.Fragment key={series.index}>\n    //           {series.datums.map((datum, i) => {\n    //             const arc = makeArc()\n    //               .startAngle(datum.arcData.startAngle)\n    //               .endAngle(datum.arcData.endAngle)\n    //               .padAngle(0)\n    //               .padRadius(0)\n    //               .innerRadius(\n    //                 !series.index\n    //                   ? 0\n    //                   : datum.arcData.innerRadius -\n    //                       datum.arcData.seriesPaddingRadius / 2\n    //               )\n    //               .outerRadius(\n    //                 series.index === stackData.length - 1\n    //                   ? Math.max(primaryAxis.width, primaryAxis.height)\n    //                   : datum.arcData.outerRadius +\n    //                       datum.arcData.seriesPaddingRadius / 2\n    //               )\n    //               .cornerRadius(0)\n    //             return (\n    //               <Path\n    //                 key={i}\n    //                 d={arc()}\n    //                 className='action-voronoi'\n    //                 onMouseEnter={() => onHover([datum])}\n    //                 style={{\n    //                   fill: 'rgba(0,0,0,.2)',\n    //                   stroke: 'rgba(255,255,255,.5)',\n    //                   opacity: showVoronoi ? 1 : 0\n    //                 }}\n    //               />\n    //             )\n    //           })}\n    //         </React.Fragment>\n    //       ))}\n    //     </VoronoiElement>\n    //   )\n    // }\n\n    var vor;\n    var polygons = null;\n    var voronoiData = [];\n    stackData.forEach(function (series) {\n      series.datums.filter(function (d) {\n        return d.defined;\n      }).forEach(function (datum) {\n        datum.boundingPoints.forEach(function (boundingPoint) {\n          if (typeof datum.x !== 'number' || typeof datum.y !== 'number' || Number.isNaN(datum.y) || Number.isNaN(datum.x)) {\n            return;\n          }\n\n          voronoiData.push({\n            x: boundingPoint.x,\n            y: boundingPoint.y,\n            datum: datum\n          });\n        });\n      });\n    });\n    vor = voronoi().x(function (d) {\n      return d.x;\n    }).y(function (d) {\n      return d.y;\n    }).extent(extent)(voronoiData);\n    polygons = vor.polygons();\n    return React.createElement(VoronoiElement, null, polygons.map(function (points, i) {\n      var path = lineFn(points);\n      return React.createElement(Path$1, {\n        key: i,\n        d: path,\n        className: \"action-voronoi\",\n        onMouseEnter: function onMouseEnter(e) {\n          return onHover(points.data.datum);\n        },\n        onMouseLeave: function onMouseLeave(e) {\n          return onHover(null);\n        },\n        style: {\n          fill: 'rgba(0,0,0,.2)',\n          stroke: 'rgba(255,255,255,.5)',\n          opacity: showVoronoi ? 1 : 0\n        }\n      });\n    }));\n  }, [gridHeight, gridWidth, height, onHover, primaryAxes.length, secondaryAxes.length, showVoronoi, stackData, width]);\n}\n\nvar defaultStyle$2 = {\n  strokeWidth: 1,\n  fill: 'transparent',\n  opacity: 1\n};\n\nvar Line =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Line, _React$Component);\n\n  function Line() {\n    _classCallCheck(this, Line);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Line).apply(this, arguments));\n  }\n\n  _createClass(Line, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          style = _this$props.style,\n          rest = _objectWithoutProperties(_this$props, [\"style\"]);\n\n      var resolvedStyle = _objectSpread({}, defaultStyle$2, style);\n\n      return React.createElement(\"line\", _extends({}, rest, {\n        style: resolvedStyle\n      }));\n    }\n  }]);\n\n  return Line;\n}(React.Component);\n\nvar defaultStyle$3 = {\n  fontFamily: 'Helvetica',\n  fontSize: 10,\n  opacity: 1\n};\n\nvar Text =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Text, _React$Component);\n\n  function Text() {\n    _classCallCheck(this, Text);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Text).apply(this, arguments));\n  }\n\n  _createClass(Text, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          style = _this$props.style,\n          opacity = _this$props.opacity,\n          rest = _objectWithoutProperties(_this$props, [\"style\", \"opacity\"]);\n\n      var resolvedStyle = _objectSpread({}, defaultStyle$3, style);\n\n      return React.createElement(\"text\", _extends({}, rest, {\n        style: resolvedStyle\n      }));\n    }\n  }]);\n\n  return Text;\n}(React.Component);\n\n_defineProperty(Text, \"defaultProps\", {\n  opacity: 1\n});\n\nvar Group = React.forwardRef(function Group(props, ref) {\n  return React.createElement(\"g\", _extends({}, props, {\n    ref: ref\n  }));\n});\nvar positionTop = 'top';\nvar positionRight = 'right';\nvar positionBottom = 'bottom';\nvar positionLeft = 'left';\nvar groupingSingle = 'single';\nvar groupingSeries = 'series';\nvar groupingPrimary = 'primary';\nvar groupingSecondary = 'secondary';\nvar alignAuto = 'auto';\nvar alignRight = 'right';\nvar alignTopRight = 'topRight';\nvar alignBottomRight = 'bottomRight';\nvar alignLeft = 'left';\nvar alignTopLeft = 'topLeft';\nvar alignBottomLeft = 'bottomLeft';\nvar alignTop = 'top';\nvar alignBottom = 'bottom';\nvar axisTypeOrdinal = 'ordinal';\nvar axisTypeTime = 'time';\nvar axisTypeUtc = 'utc';\nvar axisTypeLinear = 'linear';\nvar axisTypeLog = 'log';\nvar anchorPointer = 'pointer';\nvar anchorClosest = 'closest';\nvar anchorCenter = 'center';\nvar anchorTop = 'top';\nvar anchorBottom = 'bottom';\nvar anchorLeft = 'left';\nvar anchorRight = 'right';\nvar anchorGridTop = 'gridTop';\nvar anchorGridBottom = 'gridBottom';\nvar anchorGridLeft = 'gridLeft';\nvar anchorGridRight = 'gridRight';\nvar focusAuto = 'auto';\nvar focusClosest = 'closest';\nvar focusElement = 'element';\nvar defaultStyles = {\n  line: {\n    strokeWidth: '1',\n    fill: 'transparent'\n  },\n  tick: {\n    fontSize: 10,\n    fontFamily: 'sans-serif'\n  }\n};\n\nvar radiansToDegrees = function radiansToDegrees(r) {\n  return r * (180 / Math.PI);\n};\n\nfunction AxisLinear(_ref) {\n  var id = _ref.id,\n      type = _ref.type,\n      position = _ref.position,\n      tickSizeInner = _ref.tickSizeInner,\n      tickSizeOuter = _ref.tickSizeOuter,\n      show = _ref.show,\n      showGrid = _ref.showGrid,\n      showTicks = _ref.showTicks,\n      styles = _ref.styles,\n      maxLabelRotation = _ref.maxLabelRotation,\n      labelRotationStep = _ref.labelRotationStep,\n      tickPadding = _ref.tickPadding,\n      ticks = _ref.ticks,\n      tickCount = _ref.tickCount,\n      minTickCount = _ref.minTickCount,\n      maxTickCount = _ref.maxTickCount,\n      scale = _ref.scale,\n      scaleMax = _ref.max,\n      transform = _ref.transform,\n      vertical = _ref.vertical,\n      format = _ref.format,\n      _ref$range = _slicedToArray(_ref.range, 2),\n      range0 = _ref$range[0],\n      range1 = _ref$range[1],\n      directionMultiplier = _ref.directionMultiplier,\n      tickOffset = _ref.tickOffset,\n      gridOffset = _ref.gridOffset,\n      spacing = _ref.spacing;\n\n  var _React$useState = React.useState(0),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      rotation = _React$useState2[0],\n      setRotation = _React$useState2[1];\n\n  var _React$useContext = React.useContext(ChartContext),\n      _React$useContext2 = _slicedToArray(_React$useContext, 2),\n      _React$useContext2$ = _React$useContext2[0],\n      gridWidth = _React$useContext2$.gridWidth,\n      gridHeight = _React$useContext2$.gridHeight,\n      dark = _React$useContext2$.dark,\n      axisDimensions = _React$useContext2$.axisDimensions,\n      setChartState = _React$useContext2[1];\n\n  var elRef = React.useRef();\n  var visibleLabelStepRef = React.useRef();\n  var measureDimensions = React.useCallback(function () {\n    if (!elRef.current) {\n      if (axisDimensions[position] && axisDimensions[position][id]) {\n        // If the entire axis is hidden, then we need to remove the axis dimensions\n        setChartState(function (state) {\n          var newAxes = state.axisDimensions[position] || {};\n          delete newAxes[id];\n          return _objectSpread({}, state, {\n            axisDimensions: _objectSpread({}, state.axisDimensions, _defineProperty({}, position, newAxes))\n          });\n        });\n      }\n\n      return;\n    }\n\n    var labelDims = Array.apply(void 0, _toConsumableArray(elRef.current.querySelectorAll('.tickLabel'))).map(function (el) {\n      var rect = el.getBoundingClientRect();\n      return {\n        width: rect.width,\n        height: rect.height\n      };\n    });\n    var tickSpace = !vertical ? gridWidth : gridHeight;\n    var calculatedTickCount = tickCount;\n    var width = 0;\n    var height = 0;\n    var top = 0;\n    var bottom = 0;\n    var left = 0;\n    var right = 0;\n    var smallestTickGap = 100000; // This is just a ridiculously large tick spacing that would never happen (hopefully)\n    // First find the dimensions of each tick\n\n    var tickDims = Array.apply(void 0, _toConsumableArray(elRef.current.querySelectorAll('.tick'))).map(function (el) {\n      return el.getBoundingClientRect();\n    }); // Then, determine the smallest gap in ticks on the axis\n\n    tickDims.reduce(function (prev, current) {\n      if (prev) {\n        var gap = vertical ? current.top - prev.top : current.left - prev.left;\n        smallestTickGap = gap < smallestTickGap ? gap : smallestTickGap;\n      }\n\n      return current;\n    }, false);\n    var firstLabelDim = labelDims[0] || {\n      width: 0,\n      height: 0\n    };\n    var lastLabelDim = labelDims[labelDims.length - 1] || {\n      width: 0,\n      height: 0 // Then determine the largest label\n\n    };\n\n    var largestLabel = _objectSpread({}, firstLabelDim, {\n      _overflow: 0 // Determine the largest label on the axis\n\n    });\n\n    labelDims.forEach(function (labelDim) {\n      labelDim._overflow = !vertical ? labelDim.width : labelDim.height - smallestTickGap;\n\n      if (labelDim._overflow > 0 && labelDim._overflow > largestLabel._overflow) {\n        largestLabel = labelDim;\n      }\n    });\n    var largestLabelSize = !vertical ? largestLabel.width : largestLabel.height; // We need to detect auto tick mode\n\n    if ((vertical || type !== 'ordinal') && tickCount === 'auto') {\n      // if it's on, determine how many ticks we could display if they were all flat\n      // How many ticks can we fit in the available axis space?\n      calculatedTickCount = Math.max(minTickCount, Math.min(Math.floor((tickSpace + largestLabelSize - tickPadding) / (largestLabelSize + tickPadding * 2)), maxTickCount));\n    } else if (!vertical) {\n      // Otherwise, if it's horizontal, then we need to determine axis rotation\n      // This is the raw mathematical rotation, using acosign and radians\n      // (some tricky stuff I found on some geomoetry forum. Can't remember where though)\n      var newRotation = Math.min(Math.max(Math.abs(radiansToDegrees(Math.acos(smallestTickGap / (largestLabel.width + tickPadding)))), 0), maxLabelRotation); // Make sure the rotation isn't NaN\n\n      newRotation = Number.isNaN(newRotation) ? 0 : newRotation; // Round the rotation to the nearest rotationStep\n\n      newRotation = Math.ceil(Math.ceil(newRotation / labelRotationStep) * labelRotationStep);\n\n      if (newRotation === 0 || newRotation === maxLabelRotation || Math.abs(newRotation) - Math.abs(rotation) > 5) {\n        setRotation(function () {\n          return position === 'top' ? -newRotation : newRotation;\n        });\n      }\n    }\n\n    var newVisibleLabelStep = Math.ceil(tickPadding / smallestTickGap);\n\n    if (visibleLabelStepRef.current !== newVisibleLabelStep) {\n      visibleLabelStepRef.current = newVisibleLabelStep;\n    }\n\n    if (!vertical) {\n      // Add width overflow from the first and last ticks\n      // const leftWidth = firstLabelDim.width\n      // const rightWidth = lastLabelDim.width\n      // if (rotation) {\n      //   right = tickPadding\n      //   left = Math.abs(Math.ceil(Math.cos(rotation) * leftWidth)) - barSize / 2\n      // } else {\n      //   left = Math.ceil(leftWidth / 2)\n      //   right = Math.ceil(rightWidth / 2)\n      // }\n      height = Math.max(tickSizeInner, tickSizeOuter) + // Add tick size\n      tickPadding + // Add tick padding\n      // Add the height of the largest label\n      Math.max.apply(Math, _toConsumableArray(labelDims.map(function (d) {\n        return Math.ceil(d.height);\n      })));\n    } else {\n      // Add height overflow from the first and last ticks\n      top = Math.ceil(firstLabelDim.height / 2);\n      bottom = Math.ceil(lastLabelDim.height / 2);\n      width = Math.max(tickSizeInner, tickSizeOuter) + // Add tick size\n      tickPadding + // Add tick padding\n      // Add the width of the largest label\n      Math.max.apply(Math, _toConsumableArray(labelDims.map(function (d) {\n        return Math.ceil(d.width);\n      })));\n    }\n\n    var newDimensions = {\n      width: width,\n      height: height,\n      top: top,\n      bottom: bottom,\n      left: left,\n      right: right,\n      tickCount: calculatedTickCount // Only update the axisDimensions if something has changed\n\n    };\n\n    if (!axisDimensions || !axisDimensions[position] || !axisDimensions[position][id] || Object.keys(newDimensions).some(function (key) {\n      return newDimensions[key] !== axisDimensions[position][id][key];\n    })) {\n      setChartState(function (state) {\n        return _objectSpread({}, state, {\n          axisDimensions: _objectSpread({}, state.axisDimensions, _defineProperty({}, position, _objectSpread({}, state.axisDimensions[position] || {}, _defineProperty({}, id, newDimensions))))\n        });\n      });\n    }\n  }, [axisDimensions, gridHeight, gridWidth, id, labelRotationStep, maxLabelRotation, maxTickCount, minTickCount, position, rotation, setChartState, tickCount, tickPadding, tickSizeInner, tickSizeOuter, type, vertical]);\n  var previousRotation = usePrevious(rotation); // Measure after if needed\n\n  React.useLayoutEffect(function () {\n    if (previousRotation === rotation) {\n      measureDimensions();\n    }\n  }, [axisDimensions, id, measureDimensions, position, previousRotation, rotation]); // Measure after if needed\n\n  React.useEffect(function () {\n    if (previousRotation !== rotation) {\n      measureDimensions();\n    }\n  }, [axisDimensions, id, measureDimensions, position, previousRotation, rotation]);\n  return React.useMemo(function () {\n    // Not ready? Render null\n    if (!show) {\n      return null;\n    }\n\n    var axisPath;\n\n    if (vertical) {\n      if (position === positionLeft) {\n        axisPath = \"\\n        M \".concat(-tickSizeOuter, \", \").concat(range0, \"\\n        H 0\\n        V \").concat(range1, \"\\n        H \").concat(-tickSizeOuter, \"\\n      \");\n      } else {\n        axisPath = \"\\n        M \".concat(tickSizeOuter, \", \").concat(range0, \"\\n        H 0\\n        V \").concat(range1, \"\\n        H \").concat(tickSizeOuter, \"\\n      \");\n      }\n    } else if (position === positionBottom) {\n      axisPath = \"\\n        M 0, \".concat(tickSizeOuter, \"\\n        V 0\\n        H \").concat(range1, \"\\n        V \").concat(tickSizeOuter, \"\\n      \");\n    } else {\n      axisPath = \"\\n        M 0, \".concat(-tickSizeOuter, \"\\n        V 0\\n        H \").concat(range1, \"\\n        V \").concat(-tickSizeOuter, \"\\n              \");\n    }\n\n    var showGridLine;\n\n    if (typeof showGrid === 'boolean') {\n      showGridLine = showGrid;\n    } else if (type === axisTypeOrdinal) {\n      showGridLine = false;\n    } else {\n      showGridLine = true;\n    } // Combine default styles with style props\n\n\n    var axisStyles = _objectSpread({}, defaultStyles, styles);\n\n    return React.createElement(Group, {\n      ref: elRef,\n      className: \"Axis\",\n      style: {\n        pointerEvents: 'none',\n        transform: position === positionRight ? Utils.translateX(gridWidth) : position === positionBottom ? Utils.translateY(gridHeight) : undefined\n      }\n    }, React.createElement(Path$1, {\n      className: \"domain\",\n      d: axisPath,\n      style: _objectSpread({\n        stroke: dark ? 'rgba(255,255,255, .1)' : 'rgba(0,0,0, .1)'\n      }, axisStyles.line)\n    }), React.createElement(Group, {\n      className: \"ticks\",\n      style: {}\n    }, ticks.map(function (tick, i) {\n      return React.createElement(Group, {\n        key: [String(tick), i].join('_'),\n        className: \"tick\",\n        style: {\n          transform: transform(scale(tick) || 0)\n        }\n      }, showGridLine && React.createElement(Line, {\n        className: \"gridLine\",\n        x1: vertical ? 0 : gridOffset,\n        x2: vertical ? scaleMax : gridOffset,\n        y1: vertical ? gridOffset : 0,\n        y2: vertical ? gridOffset : scaleMax,\n        style: _objectSpread({\n          stroke: dark ? 'rgba(255,255,255, .1)' : 'rgba(0,0,0, .1)',\n          strokeWidth: 1\n        }, axisStyles.line)\n      }), showTicks ? React.createElement(\"g\", {\n        className: \"labelGroup\"\n      }, React.createElement(Line, {\n        className: \"tickline\",\n        x1: vertical ? 0 : tickOffset,\n        x2: vertical ? directionMultiplier * tickSizeInner : tickOffset,\n        y1: vertical ? tickOffset : 0,\n        y2: vertical ? tickOffset : directionMultiplier * tickSizeInner,\n        style: _objectSpread({\n          stroke: dark ? 'rgba(255,255,255, .1)' : 'rgba(0,0,0, .1)',\n          strokeWidth: 1\n        }, axisStyles.line)\n      }), React.createElement(Text, {\n        className: \"tickLabel\",\n        style: _objectSpread({\n          fill: dark ? 'white' : 'black'\n        }, axisStyles.tick, {\n          transform: \"\".concat(Utils.translate(vertical ? directionMultiplier * spacing : tickOffset, vertical ? tickOffset : directionMultiplier * spacing), \" rotate(\").concat(-rotation, \"deg)\")\n        }),\n        dominantBaseline: rotation ? 'central' : position === positionBottom ? 'hanging' : position === positionTop ? 'alphabetic' : 'central',\n        textAnchor: rotation ? 'end' : position === positionRight ? 'start' : position === positionLeft ? 'end' : 'middle'\n      }, String(format(tick, i)))) : null);\n    })));\n  }, [dark, directionMultiplier, format, gridHeight, gridOffset, gridWidth, position, range0, range1, rotation, scale, scaleMax, show, showGrid, showTicks, spacing, styles, tickOffset, tickSizeInner, tickSizeOuter, ticks, transform, type, vertical]);\n}\n\nvar Axis =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Axis, _React$Component);\n\n  function Axis() {\n    _classCallCheck(this, Axis);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Axis).apply(this, arguments));\n  }\n\n  _createClass(Axis, [{\n    key: \"render\",\n    value: function render() {\n      var type = this.props.type; // if (type === 'pie') {\n      //   return <AxisPie {...this.props} />\n      // }\n\n      return React.createElement(AxisLinear, this.props);\n    }\n  }]);\n\n  return Axis;\n}(React.Component);\n\nvar triangleSize = 7;\n\nvar getBackgroundColor = function getBackgroundColor(dark) {\n  return dark ? 'rgba(255,255,255,.9)' : 'rgba(0, 26, 39, 0.9)';\n};\n\nfunction Tooltip() {\n  var _React$useContext = React.useContext(ChartContext),\n      _React$useContext2 = _slicedToArray(_React$useContext, 1),\n      chartState = _React$useContext2[0];\n\n  var primaryAxes = chartState.primaryAxes,\n      secondaryAxes = chartState.secondaryAxes,\n      gridX = chartState.gridX,\n      gridY = chartState.gridY,\n      gridWidth = chartState.gridWidth,\n      gridHeight = chartState.gridHeight,\n      dark = chartState.dark,\n      focused = chartState.focused,\n      latestFocused = chartState.latestFocused,\n      getDatumStyle = chartState.getDatumStyle,\n      tooltip = chartState.tooltip;\n  var elRef = React.useRef();\n  var tooltipElRef = React.useRef();\n  var previousShowRef = React.useRef();\n\n  var _ref = tooltip || {},\n      align = _ref.align,\n      alignPriority = _ref.alignPriority,\n      padding = _ref.padding,\n      tooltipArrowPadding = _ref.tooltipArrowPadding,\n      arrowPosition = _ref.arrowPosition,\n      render = _ref.render,\n      anchor = _ref.anchor,\n      show = _ref.show;\n\n  var _React$useState = React.useState(align || 'auto'),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      finalAlign = _React$useState2[0],\n      setFinalAlign = _React$useState2[1];\n\n  React.useEffect(function () {\n    previousShowRef.current = show;\n  }, [show]);\n  React.useLayoutEffect(function () {\n    if (align !== 'auto' || !elRef.current || !show || !anchor) {\n      return;\n    }\n\n    var space = {\n      left: Infinity,\n      top: Infinity,\n      right: Infinity,\n      bottom: Infinity\n    };\n    var container = elRef.current;\n    var gridDims = container.getBoundingClientRect();\n    var tooltipDims = tooltipElRef.current.getBoundingClientRect();\n\n    while (container !== document.body) {\n      container = container.parentElement;\n\n      var _window$getComputedSt = window.getComputedStyle(container),\n          overflowX = _window$getComputedSt.overflowX,\n          overflowY = _window$getComputedSt.overflowY;\n\n      if (container === document.body || [overflowX, overflowY].find(function (d) {\n        return ['auto', 'hidden'].includes(d);\n      })) {\n        var containerDims = container.getBoundingClientRect();\n        var left = gridDims.left - containerDims.left + anchor.x;\n        var top = gridDims.top - containerDims.top + anchor.y;\n        var right = containerDims.width - left;\n        var bottom = containerDims.height - top;\n        space.left = Math.min(space.left, left);\n        space.top = Math.min(space.top, top);\n        space.right = Math.min(space.right, right);\n        space.bottom = Math.min(space.bottom, bottom);\n      }\n    }\n\n    var resolvedAlign = null;\n    alignPriority.forEach(function (priority) {\n      if (resolvedAlign) {\n        return;\n      }\n\n      var fits = {\n        left: space.left - tooltipArrowPadding - padding - anchor.horizontalPadding > tooltipDims.width,\n        right: space.right - tooltipArrowPadding - padding - anchor.horizontalPadding > tooltipDims.width,\n        top: space.top - tooltipArrowPadding - padding - anchor.verticalPadding > tooltipDims.height && space.left > tooltipDims.width / 2,\n        bottom: space.bottom - tooltipArrowPadding - padding - anchor.verticalPadding > tooltipDims.height,\n        centeredFromLeft: space.left > tooltipDims.width / 2,\n        centeredFromRight: space.right > tooltipDims.width / 2,\n        centeredFromTop: space.top > tooltipDims.height / 2,\n        centeredFromBottom: space.bottom > tooltipDims.height / 2\n      };\n\n      if (priority === 'left') {\n        if (fits.left && fits.centeredFromTop && fits.centeredFromBottom) {\n          resolvedAlign = priority;\n        }\n      } else if (priority === 'right') {\n        if (fits.right && fits.centeredFromTop && fits.centeredFromBottom) {\n          resolvedAlign = priority;\n        }\n      } else if (priority === 'top') {\n        if (fits.top && fits.centeredFromLeft && fits.centeredFromRight) {\n          resolvedAlign = priority;\n        }\n      } else if (priority === 'bottom') {\n        if (fits.bottom && fits.centeredFromLeft && fits.centeredFromRight) {\n          resolvedAlign = priority;\n        }\n      } else if (priority === 'topLeft') {\n        if (fits.top && fits.left) {\n          resolvedAlign = priority;\n        }\n      } else if (priority === 'topRight') {\n        if (fits.top && fits.right) {\n          resolvedAlign = priority;\n        }\n      } else if (priority === 'bottomLeft') {\n        if (fits.bottom && fits.left) {\n          resolvedAlign = priority;\n        }\n      } else if (priority === 'bottomRight') {\n        if (fits.bottom && fits.right) {\n          resolvedAlign = priority;\n        }\n      }\n    });\n\n    if (resolvedAlign !== finalAlign) {\n      setFinalAlign(resolvedAlign);\n    }\n  }, [align, alignPriority, anchor, finalAlign, padding, show, tooltipArrowPadding]);\n\n  if (!tooltip) {\n    return null;\n  }\n\n  var resolvedFocused = focused || latestFocused;\n  var alignX = 0;\n  var alignY = -50;\n  var triangleStyles = {};\n  var backgroundColor = getBackgroundColor(dark);\n  var resolvedArrowPosition = arrowPosition;\n\n  if (finalAlign === 'top') {\n    alignX = -50;\n    alignY = -100;\n  } else if (finalAlign === 'topRight') {\n    alignX = 0;\n    alignY = -100;\n  } else if (finalAlign === 'right') {\n    alignX = 0;\n    alignY = -50;\n  } else if (finalAlign === 'bottomRight') {\n    alignX = 0;\n    alignY = 0;\n  } else if (finalAlign === 'bottom') {\n    alignX = -50;\n    alignY = 0;\n  } else if (finalAlign === 'bottomLeft') {\n    alignX = -100;\n    alignY = 0;\n  } else if (finalAlign === 'left') {\n    alignX = -100;\n    alignY = -50;\n  } else if (finalAlign === 'topLeft') {\n    alignX = -100;\n    alignY = -100;\n  } else if (finalAlign === 'center') {\n    alignX = -50;\n    alignY = -50;\n  }\n\n  if (!resolvedArrowPosition) {\n    if (finalAlign === 'left') {\n      resolvedArrowPosition = 'right';\n    } else if (finalAlign === 'right') {\n      resolvedArrowPosition = 'left';\n    } else if (finalAlign === 'top') {\n      resolvedArrowPosition = 'bottom';\n    } else if (finalAlign === 'bottom') {\n      resolvedArrowPosition = 'top';\n    } else if (finalAlign === 'topRight') {\n      resolvedArrowPosition = 'bottomLeft';\n    } else if (finalAlign === 'bottomRight') {\n      resolvedArrowPosition = 'topLeft';\n    } else if (finalAlign === 'topLeft') {\n      resolvedArrowPosition = 'bottomRight';\n    } else if (finalAlign === 'bottomLeft') {\n      resolvedArrowPosition = 'topRight';\n    }\n  }\n\n  if (resolvedArrowPosition === 'bottom') {\n    triangleStyles = {\n      top: '100%',\n      left: '50%',\n      transform: 'translate3d(-50%, 0%, 0)',\n      borderLeft: \"\".concat(triangleSize * 0.8, \"px solid transparent\"),\n      borderRight: \"\".concat(triangleSize * 0.8, \"px solid transparent\"),\n      borderTop: \"\".concat(triangleSize, \"px solid \").concat(backgroundColor)\n    };\n  } else if (resolvedArrowPosition === 'top') {\n    triangleStyles = {\n      top: '0%',\n      left: '50%',\n      transform: 'translate3d(-50%, -100%, 0)',\n      borderLeft: \"\".concat(triangleSize * 0.8, \"px solid transparent\"),\n      borderRight: \"\".concat(triangleSize * 0.8, \"px solid transparent\"),\n      borderBottom: \"\".concat(triangleSize, \"px solid \").concat(backgroundColor)\n    };\n  } else if (resolvedArrowPosition === 'right') {\n    triangleStyles = {\n      top: '50%',\n      left: '100%',\n      transform: 'translate3d(0%, -50%, 0)',\n      borderTop: \"\".concat(triangleSize * 0.8, \"px solid transparent\"),\n      borderBottom: \"\".concat(triangleSize * 0.8, \"px solid transparent\"),\n      borderLeft: \"\".concat(triangleSize, \"px solid \").concat(backgroundColor)\n    };\n  } else if (resolvedArrowPosition === 'left') {\n    triangleStyles = {\n      top: '50%',\n      left: '0%',\n      transform: 'translate3d(-100%, -50%, 0)',\n      borderTop: \"\".concat(triangleSize * 0.8, \"px solid transparent\"),\n      borderBottom: \"\".concat(triangleSize * 0.8, \"px solid transparent\"),\n      borderRight: \"\".concat(triangleSize, \"px solid \").concat(backgroundColor)\n    };\n  } else if (resolvedArrowPosition === 'topRight') {\n    triangleStyles = {\n      top: '0%',\n      left: '100%',\n      transform: 'translate3d(-50%, -50%, 0) rotate(-45deg)',\n      borderTop: \"\".concat(triangleSize * 0.8, \"px solid transparent\"),\n      borderBottom: \"\".concat(triangleSize * 0.8, \"px solid transparent\"),\n      borderLeft: \"\".concat(triangleSize * 2, \"px solid \").concat(backgroundColor)\n    };\n  } else if (resolvedArrowPosition === 'bottomRight') {\n    triangleStyles = {\n      top: '100%',\n      left: '100%',\n      transform: 'translate3d(-50%, -50%, 0) rotate(45deg)',\n      borderTop: \"\".concat(triangleSize * 0.8, \"px solid transparent\"),\n      borderBottom: \"\".concat(triangleSize * 0.8, \"px solid transparent\"),\n      borderLeft: \"\".concat(triangleSize * 2, \"px solid \").concat(backgroundColor)\n    };\n  } else if (resolvedArrowPosition === 'topLeft') {\n    triangleStyles = {\n      top: '0%',\n      left: '0%',\n      transform: 'translate3d(-50%, -50%, 0) rotate(45deg)',\n      borderTop: \"\".concat(triangleSize * 0.8, \"px solid transparent\"),\n      borderBottom: \"\".concat(triangleSize * 0.8, \"px solid transparent\"),\n      borderRight: \"\".concat(triangleSize * 2, \"px solid \").concat(backgroundColor)\n    };\n  } else if (resolvedArrowPosition === 'bottomLeft') {\n    triangleStyles = {\n      top: '100%',\n      left: '0%',\n      transform: 'translate3d(-50%, -50%, 0) rotate(-45deg)',\n      borderTop: \"\".concat(triangleSize * 0.8, \"px solid transparent\"),\n      borderBottom: \"\".concat(triangleSize * 0.8, \"px solid transparent\"),\n      borderRight: \"\".concat(triangleSize * 2, \"px solid \").concat(backgroundColor)\n    };\n  } else {\n    triangleStyles = {\n      opacity: 0\n    };\n  }\n\n  var primaryAxis = Utils.getAxisByAxisID(primaryAxes, resolvedFocused ? resolvedFocused.series.primaryAxisID : null);\n  var secondaryAxis = Utils.getAxisByAxisID(secondaryAxes, resolvedFocused ? resolvedFocused.series.secondaryAxisID : null);\n  var resolvedHorizontalPadding = padding + anchor.horizontalPadding;\n  var resolvedVerticalPadding = padding + anchor.verticalPadding;\n\n  var renderProps = _objectSpread({}, chartState, chartState.tooltip, {\n    datum: resolvedFocused,\n    getStyle: function getStyle(datum) {\n      return datum.getStatusStyle(resolvedFocused, getDatumStyle);\n    },\n    primaryAxis: primaryAxis,\n    secondaryAxis: secondaryAxis\n  });\n\n  var renderedChildren = render(renderProps);\n  var animateCoords;\n\n  if (previousShowRef.current === show) {\n    animateCoords = true;\n  }\n\n  return React.createElement(\"div\", {\n    className: \"tooltip-wrap\",\n    style: {\n      pointerEvents: 'none',\n      position: 'absolute',\n      left: \"\".concat(gridX, \"px\"),\n      top: \"\".concat(gridY, \"px\"),\n      width: \"\".concat(gridWidth, \"px\"),\n      height: \"\".concat(gridHeight, \"px\"),\n      opacity: show ? 1 : 0,\n      transition: 'all .3s ease'\n    },\n    ref: function ref(el) {\n      elRef.current = el;\n    }\n  }, React.createElement(\"div\", {\n    style: {\n      position: 'absolute',\n      left: 0,\n      top: 0,\n      transform: Utils.translate(anchor.x, anchor.y),\n      transition: animateCoords ? 'all .2s ease' : 'opacity .2s ease'\n    }\n  }, React.createElement(\"div\", {\n    style: {\n      transform: \"translate3d(\".concat(alignX, \"%, \").concat(alignY, \"%, 0)\"),\n      padding: \"\".concat(tooltipArrowPadding + resolvedVerticalPadding, \"px \").concat(tooltipArrowPadding + resolvedHorizontalPadding, \"px\"),\n      width: 'auto',\n      transition: 'all .2s ease'\n    }\n  }, React.createElement(\"div\", {\n    ref: function ref(el) {\n      tooltipElRef.current = el;\n    },\n    style: {\n      fontSize: '12px',\n      padding: '5px',\n      background: getBackgroundColor(dark),\n      color: dark ? 'black' : 'white',\n      borderRadius: '3px',\n      position: 'relative'\n    }\n  }, React.createElement(\"div\", {\n    style: _objectSpread({\n      position: 'absolute',\n      width: 0,\n      height: 0\n    }, triangleStyles, {\n      transition: animateCoords ? 'all .2s ease' : 'none'\n    })\n  }), renderedChildren))));\n}\n\nvar getLineBackgroundColor = function getLineBackgroundColor(dark) {\n  return dark ? 'rgba(255,255,255,.3)' : 'rgba(0, 26, 39, 0.3)';\n};\n\nvar getBackgroundColor$1 = function getBackgroundColor(dark) {\n  return dark ? 'rgba(255,255,255,.9)' : 'rgba(0, 26, 39, 0.9)';\n};\n\nfunction Cursor(_ref) {\n  var primary = _ref.primary;\n\n  var _React$useContext = React.useContext(ChartContext),\n      _React$useContext2 = _slicedToArray(_React$useContext, 1),\n      _React$useContext2$ = _React$useContext2[0],\n      primaryCursor = _React$useContext2$.primaryCursor,\n      secondaryCursor = _React$useContext2$.secondaryCursor,\n      focused = _React$useContext2$.focused,\n      latestFocused = _React$useContext2$.latestFocused,\n      gridX = _React$useContext2$.gridX,\n      gridY = _React$useContext2$.gridY,\n      dark = _React$useContext2$.dark;\n\n  var resolvedFocused = focused || latestFocused;\n  var cursor = primary ? primaryCursor : secondaryCursor;\n\n  var _ref2 = cursor || {},\n      showLine = _ref2.showLine,\n      showLabel = _ref2.showLabel,\n      resolvedValue = _ref2.resolvedValue,\n      snap = _ref2.snap,\n      render = _ref2.render,\n      axis = _ref2.axis,\n      siblingAxis = _ref2.siblingAxis,\n      resolvedShow = _ref2.resolvedShow;\n\n  var latestValue = useLatest(resolvedValue, typeof resolvedValue !== 'undefined');\n  var previousShowRef = React.useRef();\n  React.useEffect(function () {\n    previousShowRef.current = resolvedShow;\n  }, [resolvedShow]);\n\n  if (!cursor) {\n    return null;\n  } // Should we animate?\n\n\n  var animated = snap || axis.type === 'ordinal'; // Get the sibling range\n\n  var siblingRange = siblingAxis.scale.range();\n  var x;\n  var y;\n  var x1;\n  var x2;\n  var y1;\n  var y2;\n  var alignPctX;\n  var alignPctY; // Vertical alignment\n\n  if (axis.vertical) {\n    y = axis.scale(latestValue);\n    x1 = siblingRange[0];\n    x2 = siblingRange[1];\n    y1 = y - 1;\n    y2 = y + axis.cursorSize + 1;\n\n    if (axis.position === 'left') {\n      alignPctX = -100;\n      alignPctY = -50;\n    } else {\n      alignPctX = 0;\n      alignPctY = -50;\n    }\n  } else {\n    x = axis.scale(latestValue);\n    x1 = x - 1;\n    x2 = x + axis.cursorSize + 1;\n    y1 = siblingRange[0];\n    y2 = siblingRange[1];\n\n    if (axis.position === 'top') {\n      alignPctX = -500;\n      alignPctY = -100;\n    } else {\n      alignPctX = -50;\n      alignPctY = 0;\n    }\n  }\n\n  var renderProps = _objectSpread({}, cursor);\n\n  renderProps.formattedValue = String(axis.vertical ? typeof latestValue !== 'undefined' ? axis.format(axis.stacked && !primary && resolvedFocused ? resolvedFocused.totalValue : latestValue) : '' : typeof latestValue !== 'undefined' ? axis.format(axis.stacked && !primary && resolvedFocused ? resolvedFocused.totalValue : latestValue) : '');\n  var lineStartX = Math.min(x1, x2);\n  var lineStartY = Math.min(y1, y2);\n  var lineEndX = Math.max(x1, x2);\n  var lineEndY = Math.max(y1, y2);\n  var bubbleX = axis.vertical && axis.RTL ? lineEndX : x1 + (!axis.vertical ? (x2 - x1) / 2 : 0) + (!axis.vertical ? 1 : 0);\n  var bubbleY = !axis.vertical && axis.RTL ? lineStartY : y1 + (axis.vertical ? (y2 - y1) / 2 : 0) + (axis.vertical ? 1 : 0);\n  var lineHeight = Math.max(lineEndY - lineStartY, 0);\n  var lineWidth = Math.max(lineEndX - lineStartX, 0);\n  var animateCoords;\n\n  if (previousShowRef.current === resolvedShow) {\n    animateCoords = true;\n  }\n\n  var renderedChildren = render(renderProps);\n  return React.createElement(\"div\", {\n    style: {\n      pointerEvents: 'none',\n      position: 'absolute',\n      top: 0,\n      left: 0,\n      transform: Utils.translate(gridX, gridY),\n      opacity: resolvedShow ? 1 : 0,\n      transition: 'all .3s ease'\n    },\n    className: \"Cursor\"\n  }, showLine ? React.createElement(\"div\", {\n    style: {\n      position: 'absolute',\n      top: 0,\n      left: 0,\n      transform: Utils.translate(lineStartX, lineStartY),\n      width: \"\".concat(lineWidth, \"px\"),\n      height: \"\".concat(lineHeight, \"px\"),\n      background: getLineBackgroundColor(dark),\n      transition: animated && animateCoords ? 'all .2s ease' : 'opacity .2s ease'\n    }\n  }) : null, showLabel ? React.createElement(\"div\", {\n    style: {\n      position: 'absolute',\n      top: 0,\n      left: 0,\n      transform: Utils.translate(bubbleX, bubbleY),\n      transition: animated && animateCoords ? 'all .2s ease' : 'opacity .2s ease'\n    }\n  }, React.createElement(\"div\", {\n    style: {\n      padding: '5px',\n      fontSize: '10px',\n      background: getBackgroundColor$1(dark),\n      color: getBackgroundColor$1(!dark),\n      borderRadius: '3px',\n      position: 'relative',\n      transform: \"translate3d(\".concat(alignPctX, \"%, \").concat(alignPctY, \"%, 0)\"),\n      whiteSpace: 'nowrap'\n    }\n  }, renderedChildren)) : null);\n}\n\nfunction Brush() {\n  var _React$useContext = React.useContext(ChartContext),\n      _React$useContext2 = _slicedToArray(_React$useContext, 1),\n      _React$useContext2$ = _React$useContext2[0],\n      pointer = _React$useContext2$.pointer,\n      brush = _React$useContext2$.brush,\n      gridX = _React$useContext2$.gridX,\n      gridY = _React$useContext2$.gridY,\n      gridHeight = _React$useContext2$.gridHeight,\n      dark = _React$useContext2$.dark;\n\n  if (!brush) {\n    return null;\n  }\n\n  return React.createElement(\"div\", {\n    className: \"Brush\",\n    style: {\n      pointerEvents: 'none',\n      position: 'absolute',\n      left: 0,\n      top: 0,\n      transform: Utils.translate(gridX, gridY),\n      opacity: pointer.dragging ? Math.abs(pointer.sourceX - pointer.x) < 20 ? 0.5 : 1 : 0\n    }\n  }, React.createElement(\"div\", {\n    style: _objectSpread({\n      position: 'absolute',\n      transform: Utils.translate(Math.min(pointer.x, pointer.sourceX), 0),\n      width: \"\".concat(Math.abs(pointer.x - pointer.sourceX), \"px\"),\n      height: \"\".concat(gridHeight, \"px\"),\n      background: dark ? 'rgba(255,255,255,.3)' : 'rgba(0, 26, 39, 0.3)'\n    }, brush.style)\n  }));\n}\n\nBrush.defaultProps = {\n  onSelect: function onSelect() {}\n};\nvar ChartInner = React.forwardRef(function ChartInner(_ref, ref) {\n  var className = _ref.className,\n      _ref$style = _ref.style,\n      style = _ref$style === void 0 ? {} : _ref$style,\n      rest = _objectWithoutProperties(_ref, [\"className\", \"style\"]);\n\n  var _React$useContext = React.useContext(ChartContext),\n      _React$useContext2 = _slicedToArray(_React$useContext, 1),\n      chartState = _React$useContext2[0];\n\n  var _React$useContext3 = React.useContext(ChartContext),\n      _React$useContext4 = _slicedToArray(_React$useContext3, 2),\n      _React$useContext4$ = _React$useContext4[0],\n      width = _React$useContext4$.width,\n      height = _React$useContext4$.height,\n      offset = _React$useContext4$.offset,\n      gridX = _React$useContext4$.gridX,\n      gridY = _React$useContext4$.gridY,\n      stackData = _React$useContext4$.stackData,\n      primaryAxes = _React$useContext4$.primaryAxes,\n      secondaryAxes = _React$useContext4$.secondaryAxes,\n      renderSVG = _React$useContext4$.renderSVG,\n      onClick = _React$useContext4$.onClick,\n      seriesOptions = _React$useContext4$.seriesOptions,\n      getSeriesOrder = _React$useContext4$.getSeriesOrder,\n      focused = _React$useContext4$.focused,\n      setChartState = _React$useContext4[1];\n\n  var svgRef = React.useRef();\n  React.useLayoutEffect(function () {\n    if (!svgRef.current) {\n      return;\n    }\n\n    var current = svgRef.current.getBoundingClientRect();\n\n    if (current.left !== offset.left || current.top !== offset.top) {\n      setChartState(function (state) {\n        return _objectSpread({}, state, {\n          offset: {\n            left: current.left,\n            top: current.top\n          }\n        });\n      });\n    }\n  });\n\n  var _onMouseLeave = function onMouseLeave(e) {\n    setChartState(function (state) {\n      return _objectSpread({}, state, {\n        focused: null\n      });\n    });\n    setChartState(function (state) {\n      return _objectSpread({}, state, {\n        pointer: _objectSpread({}, state.pointer, {\n          active: false\n        })\n      });\n    });\n  };\n\n  var rafRef = React.useRef();\n\n  var _onMouseMove = function onMouseMove(e) {\n    if (rafRef.current) {\n      raf_1.cancel(rafRef.current);\n    }\n\n    rafRef.current = raf_1(function () {\n      rafRef.current = null;\n      var clientX = e.clientX,\n          clientY = e.clientY;\n      setChartState(function (state) {\n        var x = clientX - offset.left - gridX;\n        var y = clientY - offset.top - gridY;\n\n        var pointer = _objectSpread({}, state.pointer, {\n          active: true,\n          x: x,\n          y: y,\n          dragging: state.pointer && state.pointer.down\n        });\n\n        return _objectSpread({}, state, {\n          pointer: pointer\n        });\n      });\n    });\n  };\n\n  var onMouseUp = function onMouseUp() {\n    document.removeEventListener('mouseup', onMouseUp);\n    document.removeEventListener('mousemove', _onMouseMove);\n    setChartState(function (state) {\n      return _objectSpread({}, state, {\n        pointer: _objectSpread({}, state.pointer, {\n          down: false,\n          dragging: false,\n          released: {\n            x: state.pointer.x,\n            y: state.pointer.y\n          }\n        })\n      });\n    });\n  };\n\n  var _onMouseDown = function onMouseDown() {\n    document.addEventListener('mouseup', onMouseUp);\n    document.addEventListener('mousemove', _onMouseMove);\n    setChartState(function (state) {\n      return _objectSpread({}, state, {\n        pointer: _objectSpread({}, state.pointer, {\n          sourceX: state.pointer.x,\n          sourceY: state.pointer.y,\n          down: true\n        })\n      });\n    });\n  }; // Reverse the stack order for proper z-indexing\n\n\n  var reversedStackData = _toConsumableArray(stackData).reverse();\n\n  var orderedStackData = getSeriesOrder(reversedStackData);\n  var focusedSeriesIndex = focused ? orderedStackData.findIndex(function (series) {\n    return series.id === focused.series.id;\n  }) : -1; // Bring focused series to the front\n\n  var focusOrderedStackData = focused ? [].concat(_toConsumableArray(orderedStackData.slice(0, focusedSeriesIndex)), _toConsumableArray(orderedStackData.slice(focusedSeriesIndex + 1)), [orderedStackData[focusedSeriesIndex]]) : orderedStackData;\n  var stacks = focusOrderedStackData.map(function (stack) {\n    return React.createElement(stack.Component, _extends({\n      key: stack.id\n    }, seriesOptions[stack.index], {\n      series: stack,\n      stackData: stackData\n    }));\n  });\n  return React.createElement(\"div\", _extends({\n    ref: ref\n  }, rest, {\n    className: \"ReactChart \".concat(className || ''),\n    style: _objectSpread({\n      width: width,\n      height: height,\n      position: 'relative'\n    }, style)\n  }), React.createElement(\"svg\", {\n    ref: svgRef,\n    style: {\n      width: width,\n      height: height,\n      overflow: 'hidden'\n    },\n    onMouseEnter: function onMouseEnter(e) {\n      return e.persist() || _onMouseMove(e);\n    },\n    onMouseMove: function onMouseMove(e) {\n      return e.persist() || _onMouseMove(e);\n    },\n    onMouseLeave: function onMouseLeave(e) {\n      return e.persist() || _onMouseLeave(e);\n    },\n    onMouseDown: function onMouseDown(e) {\n      return e.persist() || _onMouseDown(e);\n    },\n    onClick: onClick\n  }, React.createElement(\"g\", {\n    style: {\n      transform: Utils.translate(gridX, gridY)\n    }\n  }, React.createElement(Rectangle // To ensure the pointer always has something to hit\n  , {\n    x1: -gridX,\n    x2: width - gridX,\n    y1: -gridY,\n    y2: height - gridY,\n    style: {\n      opacity: 0\n    }\n  }), React.createElement(Voronoi, null), React.createElement(\"g\", {\n    className: \"axes\"\n  }, [].concat(_toConsumableArray(primaryAxes), _toConsumableArray(secondaryAxes)).map(function (axis) {\n    return React.createElement(Axis, _extends({\n      key: axis.id\n    }, axis));\n  })), React.createElement(\"g\", {\n    className: \"Series\",\n    style: {\n      pointerEvents: 'none'\n    }\n  }, stacks)), renderSVG ? renderSVG({\n    chartState: chartState,\n    setChartState: setChartState\n  }) : null), React.createElement(Cursor, {\n    primary: true\n  }), React.createElement(Cursor, null), React.createElement(Brush, null), React.createElement(Tooltip, null));\n});\n\nvar calculateMaterializeData = function calculateMaterializeData(_ref) {\n  var data = _ref.data,\n      getSeriesID = _ref.getSeriesID,\n      getLabel = _ref.getLabel,\n      getPrimaryAxisID = _ref.getPrimaryAxisID,\n      getSecondaryAxisID = _ref.getSecondaryAxisID,\n      getDatums = _ref.getDatums,\n      getPrimary = _ref.getPrimary,\n      getSecondary = _ref.getSecondary,\n      getR = _ref.getR;\n  return React.useMemo(function () {\n    var materializedData = []; // First access the data, and provide it to the context\n\n    for (var seriesIndex = 0; seriesIndex < data.length; seriesIndex++) {\n      var originalSeries = data[seriesIndex];\n      var seriesID = getSeriesID(originalSeries, seriesIndex, data);\n      var seriesLabel = getLabel(originalSeries, seriesIndex, data);\n      var primaryAxisID = getPrimaryAxisID(originalSeries, seriesIndex, data);\n      var secondaryAxisID = getSecondaryAxisID(originalSeries, seriesIndex, data);\n      var originalDatums = getDatums(originalSeries, seriesIndex, data);\n      var datums = [];\n\n      for (var datumIndex = 0; datumIndex < originalDatums.length; datumIndex++) {\n        var originalDatum = originalDatums[datumIndex];\n        datums[datumIndex] = {\n          originalSeries: originalSeries,\n          seriesIndex: seriesIndex,\n          seriesID: seriesID,\n          seriesLabel: seriesLabel,\n          index: datumIndex,\n          originalDatum: originalDatum,\n          primary: getPrimary(originalDatum, datumIndex, originalSeries, seriesIndex, data),\n          secondary: getSecondary(originalDatum, datumIndex, originalSeries, seriesIndex, data),\n          r: getR(originalDatum, datumIndex, originalSeries, seriesIndex, data)\n        };\n      }\n\n      materializedData[seriesIndex] = {\n        originalSeries: originalSeries,\n        index: seriesIndex,\n        id: seriesID,\n        label: seriesLabel,\n        primaryAxisID: primaryAxisID,\n        secondaryAxisID: secondaryAxisID,\n        datums: datums\n      };\n    }\n\n    return materializedData;\n  }, [data, getDatums, getLabel, getPrimary, getPrimaryAxisID, getR, getSecondary, getSecondaryAxisID, getSeriesID]);\n};\n\nfunction usePropsMemo(fn) {\n  var obj = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var watchRef = React.useRef({\n    style: {},\n    props: {}\n  });\n  var valueRef = React.useRef();\n\n  var _obj$style = obj.style,\n      style = _obj$style === void 0 ? {} : _obj$style,\n      props = _objectWithoutProperties(obj, [\"style\"]);\n\n  if (Utils.shallowDiff(watchRef.current.style, style) || Utils.shallowDiff(watchRef.current.props, props)) {\n    watchRef.current = obj;\n    valueRef.current = fn();\n  }\n\n  return valueRef.current;\n}\n\nfunction useSeriesStyle(series) {\n  var _React$useContext = React.useContext(ChartContext),\n      _React$useContext2 = _slicedToArray(_React$useContext, 1),\n      _React$useContext2$ = _React$useContext2[0],\n      focused = _React$useContext2$.focused,\n      getSeriesStyle = _React$useContext2$.getSeriesStyle;\n\n  return series.getStatusStyle(focused, getSeriesStyle);\n}\n\nfunction useDatumStyle(datum) {\n  var _React$useContext = React.useContext(ChartContext),\n      _React$useContext2 = _slicedToArray(_React$useContext, 1),\n      _React$useContext2$ = _React$useContext2[0],\n      focused = _React$useContext2$.focused,\n      getDatumStyle = _React$useContext2$.getDatumStyle;\n\n  return datum.getStatusStyle(focused, getDatumStyle);\n}\n\nvar defaultStyle$4 = {\n  r: 2,\n  strokeWidth: '1',\n  stroke: '#000000',\n  fill: '#000000',\n  opacity: 1\n};\n\nfunction Circle$1(_ref) {\n  var x = _ref.x,\n      y = _ref.y,\n      r = _ref.r,\n      style = _ref.style,\n      rest = _objectWithoutProperties(_ref, [\"x\", \"y\", \"r\", \"style\"]);\n\n  var resolvedStyle = _objectSpread({}, defaultStyle$4, style);\n\n  return React.createElement(\"circle\", _extends({}, rest, {\n    cx: x || 0,\n    cy: y || 0,\n    r: 1,\n    style: resolvedStyle\n  }));\n}\n\nvar pathDefaultStyle = {\n  strokeWidth: 2\n};\nvar circleDefaultStyle = {\n  r: 2\n};\n\nfunction Line$1(_ref) {\n  var series = _ref.series,\n      showPoints = _ref.showPoints,\n      curve = _ref.curve;\n  var lineFn = React.useMemo(function () {\n    return line().x(function (d) {\n      return d.x;\n    }).y(function (d) {\n      return d.y;\n    }).defined(function (d) {\n      return d.defined;\n    }).curve(curve);\n  }, [curve]);\n  var path = React.useMemo(function () {\n    return lineFn(series.datums);\n  }, [lineFn, series.datums]);\n  var style = useSeriesStyle(series);\n  var pathProps = {\n    d: path,\n    style: _objectSpread({}, pathDefaultStyle, style, style.line, {\n      fill: 'none'\n    })\n  };\n  var renderedPath = usePropsMemo(function () {\n    return React.createElement(Path$1, pathProps);\n  }, pathProps);\n  return React.useMemo(function () {\n    return React.createElement(\"g\", null, renderedPath, showPoints && series.datums.map(function (datum, i) {\n      return React.createElement(Point, {\n        key: i,\n        datum: datum,\n        style: style\n      });\n    }));\n  }, [renderedPath, series.datums, showPoints, style]);\n}\n\nLine$1.defaultProps = {\n  curve: monotoneX\n};\n\nLine$1.plotDatum = function (datum, _ref2) {\n  var primaryAxis = _ref2.primaryAxis,\n      secondaryAxis = _ref2.secondaryAxis,\n      xAxis = _ref2.xAxis,\n      yAxis = _ref2.yAxis;\n  datum.primaryCoord = primaryAxis.scale(datum.primary);\n  datum.secondaryCoord = secondaryAxis.scale(datum.secondary);\n  datum.x = xAxis.scale(datum.xValue);\n  datum.y = yAxis.scale(datum.yValue);\n  datum.defined = Utils.isValidPoint(datum.xValue) && Utils.isValidPoint(datum.yValue);\n  datum.base = primaryAxis.vertical ? xAxis.scale(datum.baseValue) : yAxis.scale(datum.baseValue); // Adjust non-bar elements for ordinal scales\n\n  if (xAxis.type === 'ordinal') {\n    datum.x += xAxis.tickOffset;\n  }\n\n  if (yAxis.type === 'ordinal') {\n    datum.y += yAxis.tickOffset;\n  } // Set the default anchor point\n\n\n  datum.anchor = {\n    x: datum.x,\n    y: datum.y // Set the pointer points (used in voronoi)\n\n  };\n  datum.boundingPoints = [datum.anchor];\n};\n\nLine$1.buildStyles = function (series, _ref3) {\n  var defaultColors = _ref3.defaultColors;\n  var defaults = {\n    // Pass some sane defaults\n    color: defaultColors[series.index % (defaultColors.length - 1)]\n  };\n  Utils.buildStyleGetters(series, defaults);\n};\n\nfunction Point(_ref4) {\n  var datum = _ref4.datum,\n      style = _ref4.style;\n\n  var _React$useContext = React.useContext(ChartContext),\n      _React$useContext2 = _slicedToArray(_React$useContext, 2),\n      setChartState = _React$useContext2[1];\n\n  var dataStyle = useDatumStyle(datum);\n  var circleProps = {\n    x: datum ? datum.x : undefined,\n    y: datum ? datum.y : undefined,\n    style: _objectSpread({}, circleDefaultStyle, style, style.circle, dataStyle, dataStyle.circle),\n    onMouseEnter: function onMouseEnter(e) {\n      return setChartState(function (state) {\n        return _objectSpread({}, state, {\n          element: datum\n        });\n      });\n    },\n    onMouseLeave: function onMouseLeave(e) {\n      return setChartState(function (state) {\n        return _objectSpread({}, state, {\n          element: null\n        });\n      });\n    }\n  };\n  return usePropsMemo(function () {\n    if (!datum.defined) {\n      return null;\n    }\n\n    return React.createElement(Circle$1, circleProps);\n  }, circleProps);\n}\n\nvar circleDefaultStyle$1 = {\n  r: 2\n};\n\nfunction Bubble(_ref) {\n  var series = _ref.series;\n  var style = useSeriesStyle(series);\n  return React.createElement(\"g\", null, series.datums.map(function (datum, i) {\n    return React.createElement(Point$1, {\n      key: i,\n      datum: datum,\n      style: style\n    });\n  }));\n}\n\nBubble.plotDatum = function (datum, _ref2) {\n  var primaryAxis = _ref2.primaryAxis,\n      secondaryAxis = _ref2.secondaryAxis,\n      xAxis = _ref2.xAxis,\n      yAxis = _ref2.yAxis;\n  datum.primaryCoord = primaryAxis.scale(datum.primary);\n  datum.secondaryCoord = secondaryAxis.scale(datum.secondary);\n  datum.x = xAxis.scale(datum.xValue);\n  datum.y = yAxis.scale(datum.yValue);\n  datum.defined = Utils.isValidPoint(datum.xValue) && Utils.isValidPoint(datum.yValue);\n  datum.base = primaryAxis.vertical ? xAxis.scale(datum.baseValue) : yAxis.scale(datum.baseValue); // Adjust non-bar elements for ordinal scales\n\n  if (xAxis.type === 'ordinal') {\n    datum.x += xAxis.tickOffset;\n  }\n\n  if (yAxis.type === 'ordinal') {\n    datum.y += yAxis.tickOffset;\n  } // Set the default anchor point\n\n\n  datum.anchor = {\n    x: datum.x,\n    y: datum.y,\n    verticalPadding: datum.r,\n    horizontalPadding: datum.r // Set the pointer points (used in voronoi)\n\n  };\n  datum.boundingPoints = [datum.anchor];\n};\n\nBubble.buildStyles = function (series, _ref3) {\n  var defaultColors = _ref3.defaultColors;\n  var defaults = {\n    // Pass some sane defaults\n    color: defaultColors[series.index % (defaultColors.length - 1)]\n  };\n  Utils.buildStyleGetters(series, defaults);\n};\n\nfunction Point$1(_ref4) {\n  var datum = _ref4.datum,\n      style = _ref4.style;\n  var dataStyle = useDatumStyle(datum);\n\n  var _React$useContext = React.useContext(ChartContext),\n      _React$useContext2 = _slicedToArray(_React$useContext, 2),\n      setChartState = _React$useContext2[1];\n\n  var circleProps = {\n    x: datum ? datum.x : undefined,\n    y: datum ? datum.y : undefined,\n    style: _objectSpread({}, circleDefaultStyle$1, typeof datum.r !== 'undefined' ? {\n      r: datum.r\n    } : {}, style, style.circle, dataStyle, dataStyle.circle),\n    onMouseEnter: function onMouseEnter(e) {\n      return setChartState(function (state) {\n        return _objectSpread({}, state, {\n          element: datum\n        });\n      });\n    },\n    onMouseLeave: function onMouseLeave(e) {\n      return setChartState(function (state) {\n        return _objectSpread({}, state, {\n          element: null\n        });\n      });\n    }\n  };\n  return usePropsMemo(function () {\n    if (!datum.defined) {\n      return null;\n    }\n\n    return React.createElement(Circle$1, circleProps);\n  }, circleProps);\n}\n\nvar defaultAreaStyle = {\n  strokeWidth: 0\n};\nvar lineDefaultStyle = {\n  strokeWidth: 3\n};\n\nfunction Area(_ref) {\n  var series = _ref.series,\n      showOrphans = _ref.showOrphans,\n      curve = _ref.curve;\n  var areaFn = React.useMemo(function () {\n    return area().x(function (d) {\n      return d.x;\n    }).y0(function (d) {\n      return d.base;\n    }).y1(function (d) {\n      return d.y;\n    }).defined(function (d) {\n      return d.defined;\n    }).curve(curve);\n  }, [curve]);\n  var lineFn = React.useMemo(function () {\n    return line().x(function (d) {\n      return d.x;\n    }).y(function (d) {\n      return d.y;\n    }).defined(function (d) {\n      return d.defined;\n    }).curve(curve);\n  }, [curve]);\n  var areaPath = React.useMemo(function () {\n    return areaFn(series.datums);\n  }, [areaFn, series.datums]);\n  var linePath = React.useMemo(function () {\n    return lineFn(series.datums);\n  }, [lineFn, series.datums]);\n  var style = useSeriesStyle(series);\n  var areaPathProps = {\n    d: areaPath,\n    style: _objectSpread({}, defaultAreaStyle, style, style.line)\n  };\n  var renderedAreaPath = usePropsMemo(function () {\n    return React.createElement(Path$1, areaPathProps);\n  }, areaPathProps);\n  var linePathProps = {\n    d: linePath,\n    style: _objectSpread({}, defaultAreaStyle, style, style.line, {\n      fill: 'none'\n    })\n  };\n  var renderedLinePath = usePropsMemo(function () {\n    return React.createElement(Path$1, linePathProps);\n  }, linePathProps);\n  return React.createElement(\"g\", null, renderedAreaPath, renderedLinePath, showOrphans && series.datums.map(function (datum, index, all) {\n    return React.createElement(OrphanLine, {\n      key: index,\n      datum: datum,\n      style: style,\n      all: all,\n      index: index\n    });\n  }));\n}\n\nArea.defaultProps = {\n  showOrphans: true,\n  curve: curveLinear\n};\n\nArea.plotDatum = function (datum, _ref2) {\n  var primaryAxis = _ref2.primaryAxis,\n      secondaryAxis = _ref2.secondaryAxis,\n      xAxis = _ref2.xAxis,\n      yAxis = _ref2.yAxis; // Turn clamping on for secondaryAxis\n\n  secondaryAxis.scale.clamp(true);\n  datum.primaryCoord = primaryAxis.scale(datum.primary);\n  datum.secondaryCoord = secondaryAxis.scale(datum.secondary);\n  datum.x = xAxis.scale(datum.xValue);\n  datum.y = yAxis.scale(datum.yValue);\n  datum.defined = Utils.isValidPoint(datum.xValue) && Utils.isValidPoint(datum.yValue);\n  datum.base = primaryAxis.vertical ? xAxis.scale(datum.baseValue) : yAxis.scale(datum.baseValue); // Turn clamping back off for secondaryAxis\n\n  secondaryAxis.scale.clamp(false); // Adjust non-bar elements for ordinal scales\n\n  if (xAxis.type === 'ordinal') {\n    datum.x += xAxis.tickOffset;\n  }\n\n  if (yAxis.type === 'ordinal') {\n    datum.y += yAxis.tickOffset;\n  } // Set the default anchor point\n\n\n  datum.anchor = {\n    x: datum.x,\n    y: datum.y // Set the pointer points (used in voronoi)\n\n  };\n  datum.boundingPoints = [datum.anchor, {\n    x: primaryAxis.vertical ? primaryAxis.position === 'left' ? datum.base - 1 : datum.base : datum.anchor.x,\n    y: !primaryAxis.vertical ? primaryAxis.position === 'bottom' ? datum.base - 1 : datum.base : datum.anchor.y\n  }];\n};\n\nArea.buildStyles = function (series, _ref3) {\n  var defaultColors = _ref3.defaultColors;\n  var defaults = {\n    // Pass some sane defaults\n    color: defaultColors[series.index % (defaultColors.length - 1)]\n  };\n  Utils.buildStyleGetters(series, defaults);\n};\n\nvar OrphanLine = function OrphanLine(_ref4) {\n  var datum = _ref4.datum,\n      style = _ref4.style,\n      all = _ref4.all,\n      index = _ref4.index;\n  var prev = all[index - 1] || {\n    defined: false\n  };\n  var next = all[index + 1] || {\n    defined: false\n  };\n  var dataStyle = useDatumStyle(datum);\n  var lineProps = {\n    x1: !datum || Number.isNaN(datum.x) ? null : datum.x,\n    y1: !datum || Number.isNaN(datum.base) ? null : datum.base,\n    x2: !datum || Number.isNaN(datum.x) ? null : datum.x,\n    y2: !datum || Number.isNaN(datum.y) ? null : datum.y,\n    style: _objectSpread({}, lineDefaultStyle, style, style.line, dataStyle, dataStyle.line)\n  };\n  return usePropsMemo(function () {\n    if (!datum.defined || prev.defined || next.defined) {\n      return null;\n    }\n\n    return React.createElement(Line, lineProps);\n  }, lineProps);\n};\n\nfunction Bar(_ref) {\n  var series = _ref.series;\n\n  var _React$useContext = React.useContext(ChartContext),\n      _React$useContext2 = _slicedToArray(_React$useContext, 1),\n      primaryAxes = _React$useContext2[0].primaryAxes;\n\n  var style = useSeriesStyle(series);\n\n  var _ref2 = series.primaryAxisID ? primaryAxes.find(function (d) {\n    return d.id === series.primaryAxisID;\n  }) : primaryAxes[0],\n      barOffset = _ref2.barOffset;\n\n  return React.createElement(\"g\", {\n    className: \"series bar\"\n  }, series.datums.map(function (datum, i) {\n    return React.createElement(BarPiece, _extends({\n      key: i\n    }, {\n      datum: datum,\n      barOffset: barOffset,\n      style: style\n    }));\n  }));\n}\n\nfunction BarPiece(_ref3) {\n  var datum = _ref3.datum,\n      barOffset = _ref3.barOffset,\n      style = _ref3.style;\n\n  var _React$useContext3 = React.useContext(ChartContext),\n      _React$useContext4 = _slicedToArray(_React$useContext3, 2),\n      primaryAxes = _React$useContext4[0].primaryAxes,\n      setChartState = _React$useContext4[1];\n\n  var x = datum ? datum.x : 0;\n  var y = datum ? datum.y : 0;\n  var base = datum ? datum.base : 0;\n  var size = datum ? datum.size : 0;\n  var x1;\n  var y1;\n  var x2;\n  var y2;\n\n  if (primaryAxes.find(function (d) {\n    return d.vertical;\n  })) {\n    x1 = base;\n    x2 = x;\n    y1 = y + barOffset;\n    y2 = y1 + size;\n  } else {\n    x1 = x + barOffset;\n    x2 = x1 + size;\n    y1 = y;\n    y2 = base;\n  }\n\n  var dataStyle = useDatumStyle(datum);\n  var rectangleProps = {\n    style: _objectSpread({\n      pointerEvents: 'all'\n    }, style, style.rectangle, dataStyle, dataStyle.rectangle),\n    x1: Number.isNaN(x1) ? null : x1,\n    y1: Number.isNaN(y1) ? null : y1,\n    x2: Number.isNaN(x2) ? null : x2,\n    y2: Number.isNaN(y2) ? null : y2,\n    onMouseEnter: function onMouseEnter(e) {\n      return setChartState(function (state) {\n        return _objectSpread({}, state, {\n          element: datum\n        });\n      });\n    },\n    onMouseLeave: function onMouseLeave(e) {\n      return setChartState(function (state) {\n        return _objectSpread({}, state, {\n          element: null\n        });\n      });\n    }\n  };\n  return usePropsMemo(function () {\n    return React.createElement(Rectangle, rectangleProps);\n  }, rectangleProps);\n}\n\nBar.plotDatum = function (datum, _ref4) {\n  var xAxis = _ref4.xAxis,\n      yAxis = _ref4.yAxis,\n      primaryAxis = _ref4.primaryAxis,\n      secondaryAxis = _ref4.secondaryAxis; // Turn clamping on for secondaryAxis\n\n  secondaryAxis.scale.clamp(true);\n  datum.primaryCoord = primaryAxis.scale(datum.primary);\n  datum.secondaryCoord = secondaryAxis.scale(datum.secondary);\n  datum.x = xAxis.scale(datum.xValue);\n  datum.y = yAxis.scale(datum.yValue);\n  datum.defined = Utils.isValidPoint(datum.xValue) && Utils.isValidPoint(datum.yValue);\n  datum.base = secondaryAxis.scale(datum.baseValue);\n  datum.size = primaryAxis.barSize; // Turn clamping back off for secondaryAxis\n\n  secondaryAxis.scale.clamp(false);\n\n  if (!secondaryAxis.stacked) {\n    datum.size = primaryAxis.seriesBarSize; // Use the seriesTypeIndex here in case we have mixed types.\n\n    var seriesBandScaleOffset = primaryAxis.seriesBandScale(datum.seriesTypeIndex);\n\n    if (secondaryAxis.vertical) {\n      datum.x += seriesBandScaleOffset;\n    } else {\n      datum.y += seriesBandScaleOffset;\n    }\n  } // Set the default anchor point\n\n\n  datum.anchor = {\n    x: datum.x,\n    y: datum.y,\n    horizontalPadding: secondaryAxis.vertical ? datum.size / 2 : 0,\n    verticalPadding: secondaryAxis.vertical ? 0 : datum.size / 2 // Adjust the anchor point for bars\n\n  };\n\n  if (!primaryAxis.vertical) {\n    datum.anchor.x += primaryAxis.type !== 'ordinal' ? 0 : datum.size / 2;\n  } else {\n    datum.anchor.y += primaryAxis.type !== 'ordinal' ? 0 : datum.size / 2;\n  } // Set the pointer points (used in voronoi)\n\n\n  datum.boundingPoints = [// End of bar\n  datum.anchor, // Start of bar\n  {\n    x: primaryAxis.vertical ? primaryAxis.position === 'left' ? datum.base + 1 : datum.base : datum.anchor.x,\n    y: !primaryAxis.vertical ? primaryAxis.position === 'bottom' ? datum.base - 1 : datum.base : datum.anchor.y\n  }];\n};\n\nBar.buildStyles = function (series, _ref5) {\n  var defaultColors = _ref5.defaultColors;\n  var defaults = {\n    // Pass some sane defaults\n    color: defaultColors[series.index % (defaultColors.length - 1)]\n  };\n  Utils.buildStyleGetters(series, defaults);\n};\n\nvar seriesTypes = {\n  line: Line$1,\n  bubble: Bubble,\n  area: Area,\n  bar: Bar // pie: Pie\n\n};\nvar defaultSeries = {\n  type: 'line',\n  showPoints: true,\n  showOrphans: true,\n  curve: monotoneX\n};\nvar seriesPropType = PropTypes.oneOfType([PropTypes.shape({\n  type: PropTypes.string,\n  showPoints: PropTypes.bool,\n  showOrphans: PropTypes.bool,\n  curve: PropTypes.func\n}), PropTypes.func]);\n\nvar calculateSeriesOptions = function calculateSeriesOptions(_ref) {\n  var materializedData = _ref.materializedData,\n      series = _ref.series;\n  return React.useMemo(function () {\n    return materializedData.map(function (s, seriesIndex) {\n      var _defaultSeries = _objectSpread({}, defaultSeries, typeof series === 'function' ? series(s, seriesIndex) : series),\n          type = _defaultSeries.type,\n          rest = _objectWithoutProperties(_defaultSeries, [\"type\"]);\n\n      var renderer = seriesTypes[type];\n\n      if (!renderer) {\n        throw new Error(\"Could not find a registered series type for \".concat(type));\n      }\n\n      return _objectSpread({}, rest, {\n        type: type,\n        renderer: renderer\n      });\n    });\n  }, [materializedData, series]);\n};\n\nvar calculateSeriesTypes = function calculateSeriesTypes(_ref) {\n  var materializedData = _ref.materializedData,\n      seriesOptions = _ref.seriesOptions;\n  return React.useMemo(function () {\n    return materializedData.map(function (series, i) {\n      series.Component = seriesOptions[i].renderer;\n      return series;\n    }).map(function (series, i, all) {\n      var seriesTypeIndex = all.filter(function (d, j) {\n        return j < i && d.Component === series.Component;\n      }).length;\n      return _objectSpread({}, series, {\n        seriesTypeIndex: seriesTypeIndex,\n        datums: series.datums.map(function (datum) {\n          return _objectSpread({}, datum, {\n            seriesTypeIndex: seriesTypeIndex\n          });\n        })\n      });\n    });\n  }, [materializedData, seriesOptions]);\n};\n\nvar calculateDimensions = function calculateDimensions(_ref) {\n  var width = _ref.width,\n      height = _ref.height,\n      axisDimensions = _ref.axisDimensions,\n      padding = _ref.padding,\n      offset = _ref.offset;\n  offset = React.useMemo(function () {\n    return {\n      left: offset.left || 0,\n      top: offset.top || 0\n    };\n  }, [offset]);\n\n  var _React$useMemo = React.useMemo(function () {\n    // Left\n    var axesLeftWidth = axisDimensions.left && Utils.sumObjBy(axisDimensions.left, 'width') || 0;\n    var axesLeftTop = axisDimensions.left && Utils.sumObjBy(axisDimensions.left, 'top') || 0;\n    var axesLeftBottom = axisDimensions.left && Utils.sumObjBy(axisDimensions.left, 'bottom') || 0; // Right\n\n    var axesRightWidth = axisDimensions.right && Utils.sumObjBy(axisDimensions.right, 'width') || 0;\n    var axesRightTop = axisDimensions.right && Utils.sumObjBy(axisDimensions.right, 'top') || 0;\n    var axesRightBottom = axisDimensions.right && Utils.sumObjBy(axisDimensions.right, 'bottom') || 0; // Top\n\n    var axesTopHeight = axisDimensions.top && Utils.sumObjBy(axisDimensions.top, 'height') || 0;\n    var axesTopLeft = axisDimensions.top && Utils.sumObjBy(axisDimensions.top, 'left') || 0;\n    var axesTopRight = axisDimensions.top && Utils.sumObjBy(axisDimensions.top, 'right') || 0; // Bottom\n\n    var axesBottomHeight = axisDimensions.bottom && Utils.sumObjBy(axisDimensions.bottom, 'height') || 0;\n    var axesBottomLeft = axisDimensions.bottom && Utils.sumObjBy(axisDimensions.bottom, 'left') || 0;\n    var axesBottomRight = axisDimensions.bottom && Utils.sumObjBy(axisDimensions.bottom, 'right') || 0;\n    var paddingLeft = padding.left || 0;\n    var paddingRight = padding.right || 0;\n    var paddingTop = padding.top || 0;\n    var paddingBottom = padding.bottom || 0;\n    var gridX = paddingLeft + Math.max(axesLeftWidth, axesTopLeft, axesBottomLeft);\n    var gridY = paddingTop + Math.max(axesTopHeight, axesLeftTop, axesRightTop);\n    var gridWidth = width - paddingLeft - paddingRight - Math.max(axesLeftWidth, axesTopLeft, axesBottomLeft) - Math.max(axesRightWidth, axesTopRight, axesBottomRight);\n    var gridHeight = height - paddingTop - paddingBottom - Math.max(axesTopHeight, axesLeftTop, axesRightTop) - Math.max(axesBottomHeight, axesLeftBottom, axesRightBottom);\n    return {\n      gridX: gridX,\n      gridY: gridY,\n      gridWidth: gridWidth,\n      gridHeight: gridHeight\n    };\n  }, [width, height, axisDimensions, padding]),\n      gridX = _React$useMemo.gridX,\n      gridY = _React$useMemo.gridY,\n      gridWidth = _React$useMemo.gridWidth,\n      gridHeight = _React$useMemo.gridHeight;\n\n  return {\n    offset: offset,\n    gridX: gridX,\n    gridY: gridY,\n    gridWidth: gridWidth,\n    gridHeight: gridHeight\n  };\n};\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n\nfunction bisector(compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function left(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;else hi = mid;\n      }\n\n      return lo;\n    },\n    right: function right(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;else lo = mid + 1;\n      }\n\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function (d, x) {\n    return ascending(f(d), x);\n  };\n}\n\nvar ascendingBisect = bisector(ascending);\nvar bisectRight = ascendingBisect.right;\n\nfunction sequence(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n\nvar e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nfunction ticks(start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    start = Math.ceil(start / step);\n    stop = Math.floor(stop / step);\n    ticks = new Array(n = Math.ceil(stop - start + 1));\n\n    while (++i < n) {\n      ticks[i] = (start + i) * step;\n    }\n  } else {\n    start = Math.floor(start * step);\n    stop = Math.ceil(stop * step);\n    ticks = new Array(n = Math.ceil(start - stop + 1));\n\n    while (++i < n) {\n      ticks[i] = (start - i) / step;\n    }\n  }\n\n  if (reverse) ticks.reverse();\n  return ticks;\n}\n\nfunction tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0 ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power) : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nfunction tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;else if (error >= e5) step1 *= 5;else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n\nfunction initRange(domain, range) {\n  switch (arguments.length) {\n    case 0:\n      break;\n\n    case 1:\n      this.range(domain);\n      break;\n\n    default:\n      this.range(range).domain(domain);\n      break;\n  }\n\n  return this;\n}\n\nvar implicit = Symbol(\"implicit\");\n\nfunction ordinal() {\n  var index = new Map(),\n      domain = [],\n      range = [],\n      unknown = implicit;\n\n  function scale(d) {\n    var key = d + \"\",\n        i = index.get(key);\n\n    if (!i) {\n      if (unknown !== implicit) return unknown;\n      index.set(key, i = domain.push(d));\n    }\n\n    return range[(i - 1) % range.length];\n  }\n\n  scale.domain = function (_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = new Map();\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = _[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var value = _step.value;\n        var key = value + \"\";\n        if (index.has(key)) continue;\n        index.set(key, domain.push(value));\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n          _iterator[\"return\"]();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n\n    return scale;\n  };\n\n  scale.range = function (_) {\n    return arguments.length ? (range = Array.from(_), scale) : range.slice();\n  };\n\n  scale.unknown = function (_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function () {\n    return ordinal(domain, range).unknown(unknown);\n  };\n\n  initRange.apply(scale, arguments);\n  return scale;\n}\n\nfunction band() {\n  var scale = ordinal().unknown(undefined),\n      domain = scale.domain,\n      ordinalRange = scale.range,\n      r0 = 0,\n      r1 = 1,\n      step,\n      bandwidth,\n      round = false,\n      paddingInner = 0,\n      paddingOuter = 0,\n      align = 0.5;\n  delete scale.unknown;\n\n  function rescale() {\n    var n = domain().length,\n        reverse = r1 < r0,\n        start = reverse ? r1 : r0,\n        stop = reverse ? r0 : r1;\n    step = (stop - start) / Math.max(1, n - paddingInner + paddingOuter * 2);\n    if (round) step = Math.floor(step);\n    start += (stop - start - step * (n - paddingInner)) * align;\n    bandwidth = step * (1 - paddingInner);\n    if (round) start = Math.round(start), bandwidth = Math.round(bandwidth);\n    var values = sequence(n).map(function (i) {\n      return start + step * i;\n    });\n    return ordinalRange(reverse ? values.reverse() : values);\n  }\n\n  scale.domain = function (_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.range = function (_) {\n    var _ref6, _ref7;\n\n    return arguments.length ? ((_ref6 = _, _ref7 = _slicedToArray2(_ref6, 2), r0 = _ref7[0], r1 = _ref7[1], _ref6), r0 = +r0, r1 = +r1, rescale()) : [r0, r1];\n  };\n\n  scale.rangeRound = function (_) {\n    var _ref8, _ref9;\n\n    return (_ref8 = _, _ref9 = _slicedToArray2(_ref8, 2), r0 = _ref9[0], r1 = _ref9[1], _ref8), r0 = +r0, r1 = +r1, round = true, rescale();\n  };\n\n  scale.bandwidth = function () {\n    return bandwidth;\n  };\n\n  scale.step = function () {\n    return step;\n  };\n\n  scale.round = function (_) {\n    return arguments.length ? (round = !!_, rescale()) : round;\n  };\n\n  scale.padding = function (_) {\n    return arguments.length ? (paddingInner = Math.min(1, paddingOuter = +_), rescale()) : paddingInner;\n  };\n\n  scale.paddingInner = function (_) {\n    return arguments.length ? (paddingInner = Math.min(1, _), rescale()) : paddingInner;\n  };\n\n  scale.paddingOuter = function (_) {\n    return arguments.length ? (paddingOuter = +_, rescale()) : paddingOuter;\n  };\n\n  scale.align = function (_) {\n    return arguments.length ? (align = Math.max(0, Math.min(1, _)), rescale()) : align;\n  };\n\n  scale.copy = function () {\n    return band(domain(), [r0, r1]).round(round).paddingInner(paddingInner).paddingOuter(paddingOuter).align(align);\n  };\n\n  return initRange.apply(rescale(), arguments);\n}\n\nfunction define(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nfunction extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n\n  for (var key in definition) {\n    prototype[key] = definition[key];\n  }\n\n  return prototype;\n}\n\nfunction Color() {}\n\nvar _darker = 0.7;\n\nvar _brighter = 1 / _darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex3 = /^#([0-9a-f]{3})$/,\n    reHex6 = /^#([0-9a-f]{6})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\ndefine(Color, color, {\n  displayable: function displayable() {\n    return this.rgb().displayable();\n  },\n  hex: function hex() {\n    return this.rgb().hex();\n  },\n  toString: function toString() {\n    return this.rgb() + \"\";\n  }\n});\n\nfunction color(format) {\n  var m;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex3.exec(format)) ? (m = parseInt(m[1], 16), new Rgb(m >> 8 & 0xf | m >> 4 & 0x0f0, m >> 4 & 0xf | m & 0xf0, (m & 0xf) << 4 | m & 0xf, 1) // #f00\n  ) : (m = reHex6.exec(format)) ? rgbn(parseInt(m[1], 16)) // #ff0000\n  : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n  : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n  : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n  : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n  : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n  : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n  : named.hasOwnProperty(format) ? rgbn(named[format]) : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0) : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nfunction rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb();\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nfunction rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nfunction Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function brighter(k) {\n    k = k == null ? _brighter : Math.pow(_brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function darker(k) {\n    k = k == null ? _darker : Math.pow(_darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function rgb() {\n    return this;\n  },\n  displayable: function displayable() {\n    return 0 <= this.r && this.r <= 255 && 0 <= this.g && this.g <= 255 && 0 <= this.b && this.b <= 255 && 0 <= this.opacity && this.opacity <= 1;\n  },\n  hex: function hex() {\n    return \"#\" + _hex(this.r) + _hex(this.g) + _hex(this.b);\n  },\n  toString: function toString() {\n    var a = this.opacity;\n    a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"rgb(\" : \"rgba(\") + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \" + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \" + Math.max(0, Math.min(255, Math.round(this.b) || 0)) + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\nfunction _hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;else if (l <= 0 || l >= 1) h = s = NaN;else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nfunction hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl();\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;else if (g === max) h = (b - r) / s + 2;else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n\n  return new Hsl(h, s, l, o.opacity);\n}\n\nfunction hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function brighter(k) {\n    k = k == null ? _brighter : Math.pow(_brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function darker(k) {\n    k = k == null ? _darker : Math.pow(_darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function rgb() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2), hsl2rgb(h, m1, m2), hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2), this.opacity);\n  },\n  displayable: function displayable() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s)) && 0 <= this.l && this.l <= 1 && 0 <= this.opacity && this.opacity <= 1;\n  }\n}));\n/* From FvD 13.37, CSS Color Module Level 3 */\n\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60 : h < 180 ? m2 : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60 : m1) * 255;\n}\n\nvar deg2rad = Math.PI / 180;\nvar rad2deg = 180 / Math.PI; // https://beta.observablehq.com/@mbostock/lab-and-rgb\n\nvar K = 18,\n    Xn = 0.96422,\n    Yn = 1,\n    Zn = 0.82521,\n    t0 = 4 / 29,\n    t1 = 6 / 29,\n    t2 = 3 * t1 * t1,\n    t3 = t1 * t1 * t1;\n\nfunction labConvert(o) {\n  if (o instanceof Lab) return new Lab(o.l, o.a, o.b, o.opacity);\n\n  if (o instanceof Hcl) {\n    if (isNaN(o.h)) return new Lab(o.l, 0, 0, o.opacity);\n    var h = o.h * deg2rad;\n    return new Lab(o.l, Math.cos(h) * o.c, Math.sin(h) * o.c, o.opacity);\n  }\n\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = rgb2lrgb(o.r),\n      g = rgb2lrgb(o.g),\n      b = rgb2lrgb(o.b),\n      y = xyz2lab((0.2225045 * r + 0.7168786 * g + 0.0606169 * b) / Yn),\n      x,\n      z;\n  if (r === g && g === b) x = z = y;else {\n    x = xyz2lab((0.4360747 * r + 0.3850649 * g + 0.1430804 * b) / Xn);\n    z = xyz2lab((0.0139322 * r + 0.0971045 * g + 0.7141733 * b) / Zn);\n  }\n  return new Lab(116 * y - 16, 500 * (x - y), 200 * (y - z), o.opacity);\n}\n\nfunction lab(l, a, b, opacity) {\n  return arguments.length === 1 ? labConvert(l) : new Lab(l, a, b, opacity == null ? 1 : opacity);\n}\n\nfunction Lab(l, a, b, opacity) {\n  this.l = +l;\n  this.a = +a;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Lab, lab, extend(Color, {\n  brighter: function brighter(k) {\n    return new Lab(this.l + K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  darker: function darker(k) {\n    return new Lab(this.l - K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  rgb: function rgb() {\n    var y = (this.l + 16) / 116,\n        x = isNaN(this.a) ? y : y + this.a / 500,\n        z = isNaN(this.b) ? y : y - this.b / 200;\n    x = Xn * lab2xyz(x);\n    y = Yn * lab2xyz(y);\n    z = Zn * lab2xyz(z);\n    return new Rgb(lrgb2rgb(3.1338561 * x - 1.6168667 * y - 0.4906146 * z), lrgb2rgb(-0.9787684 * x + 1.9161415 * y + 0.0334540 * z), lrgb2rgb(0.0719453 * x - 0.2289914 * y + 1.4052427 * z), this.opacity);\n  }\n}));\n\nfunction xyz2lab(t) {\n  return t > t3 ? Math.pow(t, 1 / 3) : t / t2 + t0;\n}\n\nfunction lab2xyz(t) {\n  return t > t1 ? t * t * t : t2 * (t - t0);\n}\n\nfunction lrgb2rgb(x) {\n  return 255 * (x <= 0.0031308 ? 12.92 * x : 1.055 * Math.pow(x, 1 / 2.4) - 0.055);\n}\n\nfunction rgb2lrgb(x) {\n  return (x /= 255) <= 0.04045 ? x / 12.92 : Math.pow((x + 0.055) / 1.055, 2.4);\n}\n\nfunction hclConvert(o) {\n  if (o instanceof Hcl) return new Hcl(o.h, o.c, o.l, o.opacity);\n  if (!(o instanceof Lab)) o = labConvert(o);\n  if (o.a === 0 && o.b === 0) return new Hcl(NaN, 0, o.l, o.opacity);\n  var h = Math.atan2(o.b, o.a) * rad2deg;\n  return new Hcl(h < 0 ? h + 360 : h, Math.sqrt(o.a * o.a + o.b * o.b), o.l, o.opacity);\n}\n\nfunction hcl(h, c, l, opacity) {\n  return arguments.length === 1 ? hclConvert(h) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hcl(h, c, l, opacity) {\n  this.h = +h;\n  this.c = +c;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hcl, hcl, extend(Color, {\n  brighter: function brighter(k) {\n    return new Hcl(this.h, this.c, this.l + K * (k == null ? 1 : k), this.opacity);\n  },\n  darker: function darker(k) {\n    return new Hcl(this.h, this.c, this.l - K * (k == null ? 1 : k), this.opacity);\n  },\n  rgb: function rgb() {\n    return labConvert(this).rgb();\n  }\n}));\nvar A = -0.14861,\n    B = +1.78277,\n    C = -0.29227,\n    D = -0.90649,\n    E = +1.97294,\n    ED = E * D,\n    EB = E * B,\n    BC_DA = B * C - D * A;\n\nfunction cubehelixConvert(o) {\n  if (o instanceof Cubehelix) return new Cubehelix(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      l = (BC_DA * b + ED * r - EB * g) / (BC_DA + ED - EB),\n      bl = b - l,\n      k = (E * (g - l) - C * bl) / D,\n      s = Math.sqrt(k * k + bl * bl) / (E * l * (1 - l)),\n      // NaN if l=0 or l=1\n  h = s ? Math.atan2(k, bl) * rad2deg - 120 : NaN;\n  return new Cubehelix(h < 0 ? h + 360 : h, s, l, o.opacity);\n}\n\nfunction cubehelix(h, s, l, opacity) {\n  return arguments.length === 1 ? cubehelixConvert(h) : new Cubehelix(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Cubehelix(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Cubehelix, cubehelix, extend(Color, {\n  brighter: function brighter(k) {\n    k = k == null ? _brighter : Math.pow(_brighter, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function darker(k) {\n    k = k == null ? _darker : Math.pow(_darker, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function rgb() {\n    var h = isNaN(this.h) ? 0 : (this.h + 120) * deg2rad,\n        l = +this.l,\n        a = isNaN(this.s) ? 0 : this.s * l * (1 - l),\n        cosh = Math.cos(h),\n        sinh = Math.sin(h);\n    return new Rgb(255 * (l + a * (A * cosh + B * sinh)), 255 * (l + a * (C * cosh + D * sinh)), 255 * (l + a * (E * cosh)), this.opacity);\n  }\n}));\n\nfunction constant$2(x) {\n  return function () {\n    return x;\n  };\n}\n\nfunction linear(a, d) {\n  return function (t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function (t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nfunction gamma(y) {\n  return (y = +y) === 1 ? nogamma : function (a, b) {\n    return b - a ? exponential(a, b, y) : constant$2(isNaN(a) ? b : a);\n  };\n}\n\nfunction nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant$2(isNaN(a) ? b : a);\n}\n\nvar rgb$1 = function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb$1(start, end) {\n    var r = color((start = rgb(start)).r, (end = rgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function (t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb$1.gamma = rgbGamma;\n  return rgb$1;\n}(1);\n\nfunction array(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) {\n    x[i] = interpolateValue(a[i], b[i]);\n  }\n\n  for (; i < nb; ++i) {\n    c[i] = b[i];\n  }\n\n  return function (t) {\n    for (i = 0; i < na; ++i) {\n      c[i] = x[i](t);\n    }\n\n    return c;\n  };\n}\n\nfunction date(a, b) {\n  var d = new Date();\n  return a = +a, b -= a, function (t) {\n    return d.setTime(a + b * t), d;\n  };\n}\n\nfunction interpolateNumber(a, b) {\n  return a = +a, b -= a, function (t) {\n    return a + b * t;\n  };\n}\n\nfunction object(a, b) {\n  var i = {},\n      c = {},\n      k;\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = interpolateValue(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function (t) {\n    for (k in i) {\n      c[k] = i[k](t);\n    }\n\n    return c;\n  };\n}\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function () {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function (t) {\n    return b(t) + \"\";\n  };\n}\n\nfunction string(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0,\n      // scan index for next number in b\n  am,\n      // current match in a\n  bm,\n      // current match in b\n  bs,\n      // string preceding current number in b, if any\n  i = -1,\n      // index in s\n  s = [],\n      // string constants and placeholders\n  q = []; // number interpolators\n  // Coerce inputs to strings.\n\n  a = a + \"\", b = b + \"\"; // Interpolate pairs of numbers in a & b.\n\n  while ((am = reA.exec(a)) && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) {\n      // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n\n    if ((am = am[0]) === (bm = bm[0])) {\n      // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else {\n      // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({\n        i: i,\n        x: interpolateNumber(am, bm)\n      });\n    }\n\n    bi = reB.lastIndex;\n  } // Add remains of b.\n\n\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  } // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n\n\n  return s.length < 2 ? q[0] ? one(q[0].x) : zero(b) : (b = q.length, function (t) {\n    for (var i = 0, o; i < b; ++i) {\n      s[(o = q[i]).i] = o.x(t);\n    }\n\n    return s.join(\"\");\n  });\n}\n\nfunction interpolateValue(a, b) {\n  var t = typeof b,\n      c;\n  return b == null || t === \"boolean\" ? constant$2(b) : (t === \"number\" ? interpolateNumber : t === \"string\" ? (c = color(b)) ? (b = c, rgb$1) : string : b instanceof color ? rgb$1 : b instanceof Date ? date : Array.isArray(b) ? array : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object : interpolateNumber)(a, b);\n}\n\nfunction interpolateRound(a, b) {\n  return a = +a, b -= a, function (t) {\n    return Math.round(a + b * t);\n  };\n}\n\nvar degrees = 180 / Math.PI;\nvar rho = Math.SQRT2;\n\nfunction constant$3(x) {\n  return function () {\n    return x;\n  };\n}\n\nfunction number(x) {\n  return +x;\n}\n\nvar unit = [0, 1];\n\nfunction identity$1(x) {\n  return x;\n}\n\nfunction normalize(a, b) {\n  return (b -= a = +a) ? function (x) {\n    return (x - a) / b;\n  } : constant$3(isNaN(b) ? NaN : 0.5);\n}\n\nfunction clamper(domain) {\n  var a = domain[0],\n      b = domain[domain.length - 1],\n      t;\n  if (a > b) t = a, a = b, b = t;\n  return function (x) {\n    return Math.max(a, Math.min(b, x));\n  };\n} // normalize(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// interpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding range value x in [a,b].\n\n\nfunction bimap(domain, range, interpolate) {\n  var d0 = domain[0],\n      d1 = domain[1],\n      r0 = range[0],\n      r1 = range[1];\n  if (d1 < d0) d0 = normalize(d1, d0), r0 = interpolate(r1, r0);else d0 = normalize(d0, d1), r0 = interpolate(r0, r1);\n  return function (x) {\n    return r0(d0(x));\n  };\n}\n\nfunction polymap(domain, range, interpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1; // Reverse descending domains.\n\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = normalize(domain[i], domain[i + 1]);\n    r[i] = interpolate(range[i], range[i + 1]);\n  }\n\n  return function (x) {\n    var i = bisectRight(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nfunction copy(source, target) {\n  return target.domain(source.domain()).range(source.range()).interpolate(source.interpolate()).clamp(source.clamp()).unknown(source.unknown());\n}\n\nfunction transformer() {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolateValue,\n      transform,\n      untransform,\n      unknown,\n      clamp = identity$1,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    piecewise = Math.min(domain.length, range.length) > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return isNaN(x = +x) ? unknown : (output || (output = piecewise(domain.map(transform), range, interpolate)))(transform(clamp(x)));\n  }\n\n  scale.invert = function (y) {\n    return clamp(untransform((input || (input = piecewise(range, domain.map(transform), interpolateNumber)))(y)));\n  };\n\n  scale.domain = function (_) {\n    return arguments.length ? (domain = Array.from(_, number), clamp === identity$1 || (clamp = clamper(domain)), rescale()) : domain.slice();\n  };\n\n  scale.range = function (_) {\n    return arguments.length ? (range = Array.from(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function (_) {\n    return range = Array.from(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function (_) {\n    return arguments.length ? (clamp = _ ? clamper(domain) : identity$1, scale) : clamp !== identity$1;\n  };\n\n  scale.interpolate = function (_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  scale.unknown = function (_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function (t, u) {\n    transform = t, untransform = u;\n    return rescale();\n  };\n}\n\nfunction continuous(transform, untransform) {\n  return transformer()(transform, untransform);\n} // Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimal(1.23) returns [\"123\", 0].\n\n\nfunction formatDecimal(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, Infinity\n\n  var i,\n      coefficient = x.slice(0, i); // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n\n  return [coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient, +x.slice(i + 1)];\n}\n\nfunction exponent(x) {\n  return x = formatDecimal(Math.abs(x)), x ? x[1] : NaN;\n}\n\nfunction formatGroup(grouping, thousands) {\n  return function (value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n\nfunction formatNumerals(numerals) {\n  return function (value) {\n    return value.replace(/[0-9]/g, function (i) {\n      return numerals[+i];\n    });\n  };\n} // [[fill]align][sign][symbol][0][width][,][.precision][~][type]\n\n\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\n\nfunction formatSpecifier(specifier) {\n  return new FormatSpecifier(specifier);\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nfunction FormatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  this.fill = match[1] || \" \";\n  this.align = match[2] || \">\";\n  this.sign = match[3] || \"-\";\n  this.symbol = match[4] || \"\";\n  this.zero = !!match[5];\n  this.width = match[6] && +match[6];\n  this.comma = !!match[7];\n  this.precision = match[8] && +match[8].slice(1);\n  this.trim = !!match[9];\n  this.type = match[10] || \"\";\n}\n\nFormatSpecifier.prototype.toString = function () {\n  return this.fill + this.align + this.sign + this.symbol + (this.zero ? \"0\" : \"\") + (this.width == null ? \"\" : Math.max(1, this.width | 0)) + (this.comma ? \",\" : \"\") + (this.precision == null ? \"\" : \".\" + Math.max(0, this.precision | 0)) + (this.trim ? \"~\" : \"\") + this.type;\n}; // Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\n\n\nfunction formatTrim(s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\":\n        i0 = i1 = i;\n        break;\n\n      case \"0\":\n        if (i0 === 0) i0 = i;\n        i1 = i;\n        break;\n\n      default:\n        if (i0 > 0) {\n          if (!+s[i]) break out;\n          i0 = 0;\n        }\n\n        break;\n    }\n  }\n\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n\nvar prefixExponent;\n\nfunction formatPrefixAuto(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient : i > n ? coefficient + new Array(i - n + 1).join(\"0\") : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i) : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimal(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n\nfunction formatRounded(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1) : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n\nvar formatTypes = {\n  \"%\": function _(x, p) {\n    return (x * 100).toFixed(p);\n  },\n  \"b\": function b(x) {\n    return Math.round(x).toString(2);\n  },\n  \"c\": function c(x) {\n    return x + \"\";\n  },\n  \"d\": function d(x) {\n    return Math.round(x).toString(10);\n  },\n  \"e\": function e(x, p) {\n    return x.toExponential(p);\n  },\n  \"f\": function f(x, p) {\n    return x.toFixed(p);\n  },\n  \"g\": function g(x, p) {\n    return x.toPrecision(p);\n  },\n  \"o\": function o(x) {\n    return Math.round(x).toString(8);\n  },\n  \"p\": function p(x, _p) {\n    return formatRounded(x * 100, _p);\n  },\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": function X(x) {\n    return Math.round(x).toString(16).toUpperCase();\n  },\n  \"x\": function x(_x) {\n    return Math.round(_x).toString(16);\n  }\n};\n\nfunction identity$2(x) {\n  return x;\n}\n\nvar prefixes = [\"y\", \"z\", \"a\", \"f\", \"p\", \"n\", \"\", \"m\", \"\", \"k\", \"M\", \"G\", \"T\", \"P\", \"E\", \"Z\", \"Y\"];\n\nfunction formatLocale(locale) {\n  var group = locale.grouping && locale.thousands ? formatGroup(locale.grouping, locale.thousands) : identity$2,\n      currency = locale.currency,\n      decimal = locale.decimal,\n      numerals = locale.numerals ? formatNumerals(locale.numerals) : identity$2,\n      percent = locale.percent || \"%\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        trim = specifier.trim,\n        type = specifier.type; // The \"n\" type is an alias for \",g\".\n\n    if (type === \"n\") comma = true, type = \"g\"; // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type]) precision == null && (precision = 12), trim = true, type = \"g\"; // If zero fill is specified, padding goes after sign and before digits.\n\n    if (zero || fill === \"0\" && align === \"=\") zero = true, fill = \"0\", align = \"=\"; // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n\n    var prefix = symbol === \"$\" ? currency[0] : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currency[1] : /[%p]/.test(type) ? percent : \"\"; // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n\n    var formatType = formatTypes[type],\n        maybeSuffix = /[defgprs%]/.test(type); // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n\n    precision = precision == null ? 6 : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision)) : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i,\n          n,\n          c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value; // Perform the initial formatting.\n\n        var valueNegative = value < 0;\n        value = formatType(Math.abs(value), precision); // Trim insignificant zeros.\n\n        if (trim) value = formatTrim(value); // If a negative value rounds to zero during formatting, treat as positive.\n\n        if (valueNegative && +value === 0) valueNegative = false; // Compute the prefix and suffix.\n\n        valuePrefix = (valueNegative ? sign === \"(\" ? sign : \"-\" : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\"); // Break the formatted value into the integer value part that can be\n        // grouped, and fractional or exponential suffix part that is not.\n\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      } // If the fill character is not \"0\", grouping is applied before padding.\n\n\n      if (comma && !zero) value = group(value, Infinity); // Compute the padding.\n\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\"; // If the fill character is \"0\", grouping is applied after padding.\n\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\"; // Reconstruct the final output based on the desired alignment.\n\n      switch (align) {\n        case \"<\":\n          value = valuePrefix + value + valueSuffix + padding;\n          break;\n\n        case \"=\":\n          value = valuePrefix + padding + value + valueSuffix;\n          break;\n\n        case \"^\":\n          value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length);\n          break;\n\n        default:\n          value = padding + valuePrefix + value + valueSuffix;\n          break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function () {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function (value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n\nvar locale;\nvar format;\nvar formatPrefix;\ndefaultLocale({\n  decimal: \".\",\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"]\n});\n\nfunction defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n\nfunction precisionFixed(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n\nfunction precisionPrefix(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n\nfunction precisionRound(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n\nfunction tickFormat(start, stop, count, specifier) {\n  var step = tickStep(start, stop, count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n\n  switch (specifier.type) {\n    case \"s\":\n      {\n        var value = Math.max(Math.abs(start), Math.abs(stop));\n        if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n        return formatPrefix(specifier, value);\n      }\n\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\":\n      {\n        if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n        break;\n      }\n\n    case \"f\":\n    case \"%\":\n      {\n        if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n        break;\n      }\n  }\n\n  return format(specifier);\n}\n\nfunction linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function (count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function (count, specifier) {\n    var d = domain();\n    return tickFormat(d[0], d[d.length - 1], count == null ? 10 : count, specifier);\n  };\n\n  scale.nice = function (count) {\n    if (count == null) count = 10;\n    var d = domain(),\n        i0 = 0,\n        i1 = d.length - 1,\n        start = d[i0],\n        stop = d[i1],\n        step;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n\n    step = tickIncrement(start, stop, count);\n\n    if (step > 0) {\n      start = Math.floor(start / step) * step;\n      stop = Math.ceil(stop / step) * step;\n      step = tickIncrement(start, stop, count);\n    } else if (step < 0) {\n      start = Math.ceil(start * step) / step;\n      stop = Math.floor(stop * step) / step;\n      step = tickIncrement(start, stop, count);\n    }\n\n    if (step > 0) {\n      d[i0] = Math.floor(start / step) * step;\n      d[i1] = Math.ceil(stop / step) * step;\n      domain(d);\n    } else if (step < 0) {\n      d[i0] = Math.ceil(start * step) / step;\n      d[i1] = Math.floor(stop * step) / step;\n      domain(d);\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nfunction linear$1() {\n  var scale = continuous(identity$1, identity$1);\n\n  scale.copy = function () {\n    return copy(scale, linear$1());\n  };\n\n  initRange.apply(scale, arguments);\n  return linearish(scale);\n}\n\nfunction nice(domain, interval) {\n  domain = domain.slice();\n  var i0 = 0,\n      i1 = domain.length - 1,\n      x0 = domain[i0],\n      x1 = domain[i1],\n      t;\n\n  if (x1 < x0) {\n    t = i0, i0 = i1, i1 = t;\n    t = x0, x0 = x1, x1 = t;\n  }\n\n  domain[i0] = interval.floor(x0);\n  domain[i1] = interval.ceil(x1);\n  return domain;\n}\n\nfunction transformLog(x) {\n  return Math.log(x);\n}\n\nfunction transformExp(x) {\n  return Math.exp(x);\n}\n\nfunction transformLogn(x) {\n  return -Math.log(-x);\n}\n\nfunction transformExpn(x) {\n  return -Math.exp(-x);\n}\n\nfunction pow10(x) {\n  return isFinite(x) ? +(\"1e\" + x) : x < 0 ? 0 : x;\n}\n\nfunction powp(base) {\n  return base === 10 ? pow10 : base === Math.E ? Math.exp : function (x) {\n    return Math.pow(base, x);\n  };\n}\n\nfunction logp(base) {\n  return base === Math.E ? Math.log : base === 10 && Math.log10 || base === 2 && Math.log2 || (base = Math.log(base), function (x) {\n    return Math.log(x) / base;\n  });\n}\n\nfunction reflect(f) {\n  return function (x) {\n    return -f(-x);\n  };\n}\n\nfunction loggish(transform) {\n  var scale = transform(transformLog, transformExp),\n      domain = scale.domain,\n      base = 10,\n      logs,\n      pows;\n\n  function rescale() {\n    logs = logp(base), pows = powp(base);\n\n    if (domain()[0] < 0) {\n      logs = reflect(logs), pows = reflect(pows);\n      transform(transformLogn, transformExpn);\n    } else {\n      transform(transformLog, transformExp);\n    }\n\n    return scale;\n  }\n\n  scale.base = function (_) {\n    return arguments.length ? (base = +_, rescale()) : base;\n  };\n\n  scale.domain = function (_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.ticks = function (count) {\n    var d = domain(),\n        u = d[0],\n        v = d[d.length - 1],\n        r;\n    if (r = v < u) i = u, u = v, v = i;\n    var i = logs(u),\n        j = logs(v),\n        p,\n        k,\n        t,\n        n = count == null ? 10 : +count,\n        z = [];\n\n    if (!(base % 1) && j - i < n) {\n      i = Math.round(i) - 1, j = Math.round(j) + 1;\n      if (u > 0) for (; i < j; ++i) {\n        for (k = 1, p = pows(i); k < base; ++k) {\n          t = p * k;\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      } else for (; i < j; ++i) {\n        for (k = base - 1, p = pows(i); k >= 1; --k) {\n          t = p * k;\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      }\n    } else {\n      z = ticks(i, j, Math.min(j - i, n)).map(pows);\n    }\n\n    return r ? z.reverse() : z;\n  };\n\n  scale.tickFormat = function (count, specifier) {\n    if (specifier == null) specifier = base === 10 ? \".0e\" : \",\";\n    if (typeof specifier !== \"function\") specifier = format(specifier);\n    if (count === Infinity) return specifier;\n    if (count == null) count = 10;\n    var k = Math.max(1, base * count / scale.ticks().length); // TODO fast estimate?\n\n    return function (d) {\n      var i = d / pows(Math.round(logs(d)));\n      if (i * base < base - 0.5) i *= base;\n      return i <= k ? specifier(d) : \"\";\n    };\n  };\n\n  scale.nice = function () {\n    return domain(nice(domain(), {\n      floor: function floor(x) {\n        return pows(Math.floor(logs(x)));\n      },\n      ceil: function ceil(x) {\n        return pows(Math.ceil(logs(x)));\n      }\n    }));\n  };\n\n  return scale;\n}\n\nfunction log() {\n  var scale = loggish(transformer()).domain([1, 10]);\n\n  scale.copy = function () {\n    return copy(scale, log()).base(scale.base());\n  };\n\n  initRange.apply(scale, arguments);\n  return scale;\n}\n\nvar t0$1 = new Date(),\n    t1$1 = new Date();\n\nfunction newInterval(floori, offseti, count, field) {\n  function interval(date) {\n    return floori(date = new Date(+date)), date;\n  }\n\n  interval.floor = interval;\n\n  interval.ceil = function (date) {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = function (date) {\n    var d0 = interval(date),\n        d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = function (date, step) {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = function (start, stop, step) {\n    var range = [],\n        previous;\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n\n    do {\n      range.push(previous = new Date(+start)), offseti(start, step), floori(start);\n    } while (previous < start && start < stop);\n\n    return range;\n  };\n\n  interval.filter = function (test) {\n    return newInterval(function (date) {\n      if (date >= date) while (floori(date), !test(date)) {\n        date.setTime(date - 1);\n      }\n    }, function (date, step) {\n      if (date >= date) {\n        if (step < 0) while (++step <= 0) {\n          while (offseti(date, -1), !test(date)) {} // eslint-disable-line no-empty\n\n        } else while (--step >= 0) {\n          while (offseti(date, +1), !test(date)) {} // eslint-disable-line no-empty\n\n        }\n      }\n    });\n  };\n\n  if (count) {\n    interval.count = function (start, end) {\n      t0$1.setTime(+start), t1$1.setTime(+end);\n      floori(t0$1), floori(t1$1);\n      return Math.floor(count(t0$1, t1$1));\n    };\n\n    interval.every = function (step) {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null : !(step > 1) ? interval : interval.filter(field ? function (d) {\n        return field(d) % step === 0;\n      } : function (d) {\n        return interval.count(0, d) % step === 0;\n      });\n    };\n  }\n\n  return interval;\n}\n\nvar millisecond = newInterval(function () {// noop\n}, function (date, step) {\n  date.setTime(+date + step);\n}, function (start, end) {\n  return end - start;\n}); // An optimized implementation for this simple case.\n\nmillisecond.every = function (k) {\n  k = Math.floor(k);\n  if (!isFinite(k) || !(k > 0)) return null;\n  if (!(k > 1)) return millisecond;\n  return newInterval(function (date) {\n    date.setTime(Math.floor(date / k) * k);\n  }, function (date, step) {\n    date.setTime(+date + step * k);\n  }, function (start, end) {\n    return (end - start) / k;\n  });\n};\n\nvar durationSecond = 1e3;\nvar durationMinute = 6e4;\nvar durationHour = 36e5;\nvar durationDay = 864e5;\nvar durationWeek = 6048e5;\nvar second = newInterval(function (date) {\n  date.setTime(Math.floor(date / durationSecond) * durationSecond);\n}, function (date, step) {\n  date.setTime(+date + step * durationSecond);\n}, function (start, end) {\n  return (end - start) / durationSecond;\n}, function (date) {\n  return date.getUTCSeconds();\n});\nvar minute = newInterval(function (date) {\n  date.setTime(Math.floor(date / durationMinute) * durationMinute);\n}, function (date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function (start, end) {\n  return (end - start) / durationMinute;\n}, function (date) {\n  return date.getMinutes();\n});\nvar hour = newInterval(function (date) {\n  var offset = date.getTimezoneOffset() * durationMinute % durationHour;\n  if (offset < 0) offset += durationHour;\n  date.setTime(Math.floor((+date - offset) / durationHour) * durationHour + offset);\n}, function (date, step) {\n  date.setTime(+date + step * durationHour);\n}, function (start, end) {\n  return (end - start) / durationHour;\n}, function (date) {\n  return date.getHours();\n});\nvar day = newInterval(function (date) {\n  date.setHours(0, 0, 0, 0);\n}, function (date, step) {\n  date.setDate(date.getDate() + step);\n}, function (start, end) {\n  return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay;\n}, function (date) {\n  return date.getDate() - 1;\n});\n\nfunction weekday(i) {\n  return newInterval(function (date) {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, function (date, step) {\n    date.setDate(date.getDate() + step * 7);\n  }, function (start, end) {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nvar sunday = weekday(0);\nvar monday = weekday(1);\nvar tuesday = weekday(2);\nvar wednesday = weekday(3);\nvar thursday = weekday(4);\nvar friday = weekday(5);\nvar saturday = weekday(6);\nvar month = newInterval(function (date) {\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n}, function (date, step) {\n  date.setMonth(date.getMonth() + step);\n}, function (start, end) {\n  return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}, function (date) {\n  return date.getMonth();\n});\nvar year = newInterval(function (date) {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, function (date, step) {\n  date.setFullYear(date.getFullYear() + step);\n}, function (start, end) {\n  return end.getFullYear() - start.getFullYear();\n}, function (date) {\n  return date.getFullYear();\n}); // An optimized implementation for this simple case.\n\nyear.every = function (k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : newInterval(function (date) {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, function (date, step) {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\nvar utcMinute = newInterval(function (date) {\n  date.setUTCSeconds(0, 0);\n}, function (date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function (start, end) {\n  return (end - start) / durationMinute;\n}, function (date) {\n  return date.getUTCMinutes();\n});\nvar utcHour = newInterval(function (date) {\n  date.setUTCMinutes(0, 0, 0);\n}, function (date, step) {\n  date.setTime(+date + step * durationHour);\n}, function (start, end) {\n  return (end - start) / durationHour;\n}, function (date) {\n  return date.getUTCHours();\n});\nvar utcDay = newInterval(function (date) {\n  date.setUTCHours(0, 0, 0, 0);\n}, function (date, step) {\n  date.setUTCDate(date.getUTCDate() + step);\n}, function (start, end) {\n  return (end - start) / durationDay;\n}, function (date) {\n  return date.getUTCDate() - 1;\n});\n\nfunction utcWeekday(i) {\n  return newInterval(function (date) {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function (date, step) {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, function (start, end) {\n    return (end - start) / durationWeek;\n  });\n}\n\nvar utcSunday = utcWeekday(0);\nvar utcMonday = utcWeekday(1);\nvar utcTuesday = utcWeekday(2);\nvar utcWednesday = utcWeekday(3);\nvar utcThursday = utcWeekday(4);\nvar utcFriday = utcWeekday(5);\nvar utcSaturday = utcWeekday(6);\nvar utcMonth = newInterval(function (date) {\n  date.setUTCDate(1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function (date, step) {\n  date.setUTCMonth(date.getUTCMonth() + step);\n}, function (start, end) {\n  return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n}, function (date) {\n  return date.getUTCMonth();\n});\nvar utcYear = newInterval(function (date) {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function (date, step) {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, function (start, end) {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, function (date) {\n  return date.getUTCFullYear();\n}); // An optimized implementation for this simple case.\n\nutcYear.every = function (k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : newInterval(function (date) {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function (date, step) {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\n\nfunction localDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n    date.setFullYear(d.y);\n    return date;\n  }\n\n  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\n\nfunction utcDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n\n  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n\nfunction newYear(y) {\n  return {\n    y: y,\n    m: 0,\n    d: 1,\n    H: 0,\n    M: 0,\n    S: 0,\n    L: 0\n  };\n}\n\nfunction formatLocale$1(locale) {\n  var locale_dateTime = locale.dateTime,\n      locale_date = locale.date,\n      locale_time = locale.time,\n      locale_periods = locale.periods,\n      locale_weekdays = locale.days,\n      locale_shortWeekdays = locale.shortDays,\n      locale_months = locale.months,\n      locale_shortMonths = locale.shortMonths;\n  var periodRe = formatRe(locale_periods),\n      periodLookup = formatLookup(locale_periods),\n      weekdayRe = formatRe(locale_weekdays),\n      weekdayLookup = formatLookup(locale_weekdays),\n      shortWeekdayRe = formatRe(locale_shortWeekdays),\n      shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n      monthRe = formatRe(locale_months),\n      monthLookup = formatLookup(locale_months),\n      shortMonthRe = formatRe(locale_shortMonths),\n      shortMonthLookup = formatLookup(locale_shortMonths);\n  var formats = {\n    \"a\": formatShortWeekday,\n    \"A\": formatWeekday,\n    \"b\": formatShortMonth,\n    \"B\": formatMonth,\n    \"c\": null,\n    \"d\": formatDayOfMonth,\n    \"e\": formatDayOfMonth,\n    \"f\": formatMicroseconds,\n    \"H\": formatHour24,\n    \"I\": formatHour12,\n    \"j\": formatDayOfYear,\n    \"L\": formatMilliseconds,\n    \"m\": formatMonthNumber,\n    \"M\": formatMinutes,\n    \"p\": formatPeriod,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatSeconds,\n    \"u\": formatWeekdayNumberMonday,\n    \"U\": formatWeekNumberSunday,\n    \"V\": formatWeekNumberISO,\n    \"w\": formatWeekdayNumberSunday,\n    \"W\": formatWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatYear,\n    \"Y\": formatFullYear,\n    \"Z\": formatZone,\n    \"%\": formatLiteralPercent\n  };\n  var utcFormats = {\n    \"a\": formatUTCShortWeekday,\n    \"A\": formatUTCWeekday,\n    \"b\": formatUTCShortMonth,\n    \"B\": formatUTCMonth,\n    \"c\": null,\n    \"d\": formatUTCDayOfMonth,\n    \"e\": formatUTCDayOfMonth,\n    \"f\": formatUTCMicroseconds,\n    \"H\": formatUTCHour24,\n    \"I\": formatUTCHour12,\n    \"j\": formatUTCDayOfYear,\n    \"L\": formatUTCMilliseconds,\n    \"m\": formatUTCMonthNumber,\n    \"M\": formatUTCMinutes,\n    \"p\": formatUTCPeriod,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatUTCSeconds,\n    \"u\": formatUTCWeekdayNumberMonday,\n    \"U\": formatUTCWeekNumberSunday,\n    \"V\": formatUTCWeekNumberISO,\n    \"w\": formatUTCWeekdayNumberSunday,\n    \"W\": formatUTCWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatUTCYear,\n    \"Y\": formatUTCFullYear,\n    \"Z\": formatUTCZone,\n    \"%\": formatLiteralPercent\n  };\n  var parses = {\n    \"a\": parseShortWeekday,\n    \"A\": parseWeekday,\n    \"b\": parseShortMonth,\n    \"B\": parseMonth,\n    \"c\": parseLocaleDateTime,\n    \"d\": parseDayOfMonth,\n    \"e\": parseDayOfMonth,\n    \"f\": parseMicroseconds,\n    \"H\": parseHour24,\n    \"I\": parseHour24,\n    \"j\": parseDayOfYear,\n    \"L\": parseMilliseconds,\n    \"m\": parseMonthNumber,\n    \"M\": parseMinutes,\n    \"p\": parsePeriod,\n    \"Q\": parseUnixTimestamp,\n    \"s\": parseUnixTimestampSeconds,\n    \"S\": parseSeconds,\n    \"u\": parseWeekdayNumberMonday,\n    \"U\": parseWeekNumberSunday,\n    \"V\": parseWeekNumberISO,\n    \"w\": parseWeekdayNumberSunday,\n    \"W\": parseWeekNumberMonday,\n    \"x\": parseLocaleDate,\n    \"X\": parseLocaleTime,\n    \"y\": parseYear,\n    \"Y\": parseFullYear,\n    \"Z\": parseZone,\n    \"%\": parseLiteralPercent\n  }; // These recursive directive definitions must be deferred.\n\n  formats.x = newFormat(locale_date, formats);\n  formats.X = newFormat(locale_time, formats);\n  formats.c = newFormat(locale_dateTime, formats);\n  utcFormats.x = newFormat(locale_date, utcFormats);\n  utcFormats.X = newFormat(locale_time, utcFormats);\n  utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n  function newFormat(specifier, formats) {\n    return function (date) {\n      var string = [],\n          i = -1,\n          j = 0,\n          n = specifier.length,\n          c,\n          pad,\n          format;\n      if (!(date instanceof Date)) date = new Date(+date);\n\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);else pad = c === \"e\" ? \" \" : \"0\";\n          if (format = formats[c]) c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n\n      string.push(specifier.slice(j, i));\n      return string.join(\"\");\n    };\n  }\n\n  function newParse(specifier, newDate) {\n    return function (string) {\n      var d = newYear(1900),\n          i = parseSpecifier(d, specifier, string += \"\", 0),\n          week,\n          day$1;\n      if (i != string.length) return null; // If a UNIX timestamp is specified, return it.\n\n      if (\"Q\" in d) return new Date(d.Q); // The am-pm flag is 0 for AM, and 1 for PM.\n\n      if (\"p\" in d) d.H = d.H % 12 + d.p * 12; // Convert day-of-week and week-of-year to day-of-year.\n\n      if (\"V\" in d) {\n        if (d.V < 1 || d.V > 53) return null;\n        if (!(\"w\" in d)) d.w = 1;\n\n        if (\"Z\" in d) {\n          week = utcDate(newYear(d.y)), day$1 = week.getUTCDay();\n          week = day$1 > 4 || day$1 === 0 ? utcMonday.ceil(week) : utcMonday(week);\n          week = utcDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getUTCFullYear();\n          d.m = week.getUTCMonth();\n          d.d = week.getUTCDate() + (d.w + 6) % 7;\n        } else {\n          week = newDate(newYear(d.y)), day$1 = week.getDay();\n          week = day$1 > 4 || day$1 === 0 ? monday.ceil(week) : monday(week);\n          week = day.offset(week, (d.V - 1) * 7);\n          d.y = week.getFullYear();\n          d.m = week.getMonth();\n          d.d = week.getDate() + (d.w + 6) % 7;\n        }\n      } else if (\"W\" in d || \"U\" in d) {\n        if (!(\"w\" in d)) d.w = \"u\" in d ? d.u % 7 : \"W\" in d ? 1 : 0;\n        day$1 = \"Z\" in d ? utcDate(newYear(d.y)).getUTCDay() : newDate(newYear(d.y)).getDay();\n        d.m = 0;\n        d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day$1 + 5) % 7 : d.w + d.U * 7 - (day$1 + 6) % 7;\n      } // If a time zone is specified, all fields are interpreted as UTC and then\n      // offset according to the specified time zone.\n\n\n      if (\"Z\" in d) {\n        d.H += d.Z / 100 | 0;\n        d.M += d.Z % 100;\n        return utcDate(d);\n      } // Otherwise, all fields are in local time.\n\n\n      return newDate(d);\n    };\n  }\n\n  function parseSpecifier(d, specifier, string, j) {\n    var i = 0,\n        n = specifier.length,\n        m = string.length,\n        c,\n        parse;\n\n    while (i < n) {\n      if (j >= m) return -1;\n      c = specifier.charCodeAt(i++);\n\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = parses[c in pads ? specifier.charAt(i++) : c];\n        if (!parse || (j = parse(d, string, j)) < 0) return -1;\n      } else if (c != string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n\n    return j;\n  }\n\n  function parsePeriod(d, string, i) {\n    var n = periodRe.exec(string.slice(i));\n    return n ? (d.p = periodLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortWeekday(d, string, i) {\n    var n = shortWeekdayRe.exec(string.slice(i));\n    return n ? (d.w = shortWeekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseWeekday(d, string, i) {\n    var n = weekdayRe.exec(string.slice(i));\n    return n ? (d.w = weekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortMonth(d, string, i) {\n    var n = shortMonthRe.exec(string.slice(i));\n    return n ? (d.m = shortMonthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseMonth(d, string, i) {\n    var n = monthRe.exec(string.slice(i));\n    return n ? (d.m = monthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseLocaleDateTime(d, string, i) {\n    return parseSpecifier(d, locale_dateTime, string, i);\n  }\n\n  function parseLocaleDate(d, string, i) {\n    return parseSpecifier(d, locale_date, string, i);\n  }\n\n  function parseLocaleTime(d, string, i) {\n    return parseSpecifier(d, locale_time, string, i);\n  }\n\n  function formatShortWeekday(d) {\n    return locale_shortWeekdays[d.getDay()];\n  }\n\n  function formatWeekday(d) {\n    return locale_weekdays[d.getDay()];\n  }\n\n  function formatShortMonth(d) {\n    return locale_shortMonths[d.getMonth()];\n  }\n\n  function formatMonth(d) {\n    return locale_months[d.getMonth()];\n  }\n\n  function formatPeriod(d) {\n    return locale_periods[+(d.getHours() >= 12)];\n  }\n\n  function formatUTCShortWeekday(d) {\n    return locale_shortWeekdays[d.getUTCDay()];\n  }\n\n  function formatUTCWeekday(d) {\n    return locale_weekdays[d.getUTCDay()];\n  }\n\n  function formatUTCShortMonth(d) {\n    return locale_shortMonths[d.getUTCMonth()];\n  }\n\n  function formatUTCMonth(d) {\n    return locale_months[d.getUTCMonth()];\n  }\n\n  function formatUTCPeriod(d) {\n    return locale_periods[+(d.getUTCHours() >= 12)];\n  }\n\n  return {\n    format: function format(specifier) {\n      var f = newFormat(specifier += \"\", formats);\n\n      f.toString = function () {\n        return specifier;\n      };\n\n      return f;\n    },\n    parse: function parse(specifier) {\n      var p = newParse(specifier += \"\", localDate);\n\n      p.toString = function () {\n        return specifier;\n      };\n\n      return p;\n    },\n    utcFormat: function utcFormat(specifier) {\n      var f = newFormat(specifier += \"\", utcFormats);\n\n      f.toString = function () {\n        return specifier;\n      };\n\n      return f;\n    },\n    utcParse: function utcParse(specifier) {\n      var p = newParse(specifier, utcDate);\n\n      p.toString = function () {\n        return specifier;\n      };\n\n      return p;\n    }\n  };\n}\n\nvar pads = {\n  \"-\": \"\",\n  \"_\": \" \",\n  \"0\": \"0\"\n},\n    numberRe = /^\\s*\\d+/,\n    // note: ignores next directive\npercentRe = /^%/,\n    requoteRe = /[\\\\^$*+?|[\\]().{}]/g;\n\nfunction pad(value, fill, width) {\n  var sign = value < 0 ? \"-\" : \"\",\n      string = (sign ? -value : value) + \"\",\n      length = string.length;\n  return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n\nfunction requote(s) {\n  return s.replace(requoteRe, \"\\\\$&\");\n}\n\nfunction formatRe(names) {\n  return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\n\nfunction formatLookup(names) {\n  var map = {},\n      i = -1,\n      n = names.length;\n\n  while (++i < n) {\n    map[names[i].toLowerCase()] = i;\n  }\n\n  return map;\n}\n\nfunction parseWeekdayNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekdayNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.u = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberISO(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.V = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseFullYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 4));\n  return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\n\nfunction parseZone(d, string, i) {\n  var n = /^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(string.slice(i, i + 6));\n  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\n\nfunction parseMonthNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\n\nfunction parseDayOfMonth(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseDayOfYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseHour24(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMinutes(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMilliseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMicroseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 6));\n  return n ? (d.L = Math.floor(n[0] / 1000), i + n[0].length) : -1;\n}\n\nfunction parseLiteralPercent(d, string, i) {\n  var n = percentRe.exec(string.slice(i, i + 1));\n  return n ? i + n[0].length : -1;\n}\n\nfunction parseUnixTimestamp(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseUnixTimestampSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = +n[0] * 1000, i + n[0].length) : -1;\n}\n\nfunction formatDayOfMonth(d, p) {\n  return pad(d.getDate(), p, 2);\n}\n\nfunction formatHour24(d, p) {\n  return pad(d.getHours(), p, 2);\n}\n\nfunction formatHour12(d, p) {\n  return pad(d.getHours() % 12 || 12, p, 2);\n}\n\nfunction formatDayOfYear(d, p) {\n  return pad(1 + day.count(year(d), d), p, 3);\n}\n\nfunction formatMilliseconds(d, p) {\n  return pad(d.getMilliseconds(), p, 3);\n}\n\nfunction formatMicroseconds(d, p) {\n  return formatMilliseconds(d, p) + \"000\";\n}\n\nfunction formatMonthNumber(d, p) {\n  return pad(d.getMonth() + 1, p, 2);\n}\n\nfunction formatMinutes(d, p) {\n  return pad(d.getMinutes(), p, 2);\n}\n\nfunction formatSeconds(d, p) {\n  return pad(d.getSeconds(), p, 2);\n}\n\nfunction formatWeekdayNumberMonday(d) {\n  var day = d.getDay();\n  return day === 0 ? 7 : day;\n}\n\nfunction formatWeekNumberSunday(d, p) {\n  return pad(sunday.count(year(d), d), p, 2);\n}\n\nfunction formatWeekNumberISO(d, p) {\n  var day = d.getDay();\n  d = day >= 4 || day === 0 ? thursday(d) : thursday.ceil(d);\n  return pad(thursday.count(year(d), d) + (year(d).getDay() === 4), p, 2);\n}\n\nfunction formatWeekdayNumberSunday(d) {\n  return d.getDay();\n}\n\nfunction formatWeekNumberMonday(d, p) {\n  return pad(monday.count(year(d), d), p, 2);\n}\n\nfunction formatYear(d, p) {\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatFullYear(d, p) {\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatZone(d) {\n  var z = d.getTimezoneOffset();\n  return (z > 0 ? \"-\" : (z *= -1, \"+\")) + pad(z / 60 | 0, \"0\", 2) + pad(z % 60, \"0\", 2);\n}\n\nfunction formatUTCDayOfMonth(d, p) {\n  return pad(d.getUTCDate(), p, 2);\n}\n\nfunction formatUTCHour24(d, p) {\n  return pad(d.getUTCHours(), p, 2);\n}\n\nfunction formatUTCHour12(d, p) {\n  return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\n\nfunction formatUTCDayOfYear(d, p) {\n  return pad(1 + utcDay.count(utcYear(d), d), p, 3);\n}\n\nfunction formatUTCMilliseconds(d, p) {\n  return pad(d.getUTCMilliseconds(), p, 3);\n}\n\nfunction formatUTCMicroseconds(d, p) {\n  return formatUTCMilliseconds(d, p) + \"000\";\n}\n\nfunction formatUTCMonthNumber(d, p) {\n  return pad(d.getUTCMonth() + 1, p, 2);\n}\n\nfunction formatUTCMinutes(d, p) {\n  return pad(d.getUTCMinutes(), p, 2);\n}\n\nfunction formatUTCSeconds(d, p) {\n  return pad(d.getUTCSeconds(), p, 2);\n}\n\nfunction formatUTCWeekdayNumberMonday(d) {\n  var dow = d.getUTCDay();\n  return dow === 0 ? 7 : dow;\n}\n\nfunction formatUTCWeekNumberSunday(d, p) {\n  return pad(utcSunday.count(utcYear(d), d), p, 2);\n}\n\nfunction formatUTCWeekNumberISO(d, p) {\n  var day = d.getUTCDay();\n  d = day >= 4 || day === 0 ? utcThursday(d) : utcThursday.ceil(d);\n  return pad(utcThursday.count(utcYear(d), d) + (utcYear(d).getUTCDay() === 4), p, 2);\n}\n\nfunction formatUTCWeekdayNumberSunday(d) {\n  return d.getUTCDay();\n}\n\nfunction formatUTCWeekNumberMonday(d, p) {\n  return pad(utcMonday.count(utcYear(d), d), p, 2);\n}\n\nfunction formatUTCYear(d, p) {\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCFullYear(d, p) {\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCZone() {\n  return \"+0000\";\n}\n\nfunction formatLiteralPercent() {\n  return \"%\";\n}\n\nfunction formatUnixTimestamp(d) {\n  return +d;\n}\n\nfunction formatUnixTimestampSeconds(d) {\n  return Math.floor(+d / 1000);\n}\n\nvar locale$1;\nvar timeFormat;\nvar timeParse;\nvar utcFormat;\nvar utcParse;\ndefaultLocale$1({\n  dateTime: \"%x, %X\",\n  date: \"%-m/%-d/%Y\",\n  time: \"%-I:%M:%S %p\",\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\n\nfunction defaultLocale$1(definition) {\n  locale$1 = formatLocale$1(definition);\n  timeFormat = locale$1.format;\n  timeParse = locale$1.parse;\n  utcFormat = locale$1.utcFormat;\n  utcParse = locale$1.utcParse;\n  return locale$1;\n}\n\nvar isoSpecifier = \"%Y-%m-%dT%H:%M:%S.%LZ\";\n\nfunction formatIsoNative(date) {\n  return date.toISOString();\n}\n\nvar formatIso = Date.prototype.toISOString ? formatIsoNative : utcFormat(isoSpecifier);\n\nfunction parseIsoNative(string) {\n  var date = new Date(string);\n  return isNaN(date) ? null : date;\n}\n\nvar parseIso = +new Date(\"2000-01-01T00:00:00.000Z\") ? parseIsoNative : utcParse(isoSpecifier);\nvar durationSecond$1 = 1000,\n    durationMinute$1 = durationSecond$1 * 60,\n    durationHour$1 = durationMinute$1 * 60,\n    durationDay$1 = durationHour$1 * 24,\n    durationWeek$1 = durationDay$1 * 7,\n    durationMonth = durationDay$1 * 30,\n    durationYear = durationDay$1 * 365;\n\nfunction date$1(t) {\n  return new Date(t);\n}\n\nfunction number$1(t) {\n  return t instanceof Date ? +t : +new Date(+t);\n}\n\nfunction calendar(year, month, week, day, hour, minute, second, millisecond, format) {\n  var scale = continuous(identity$1, identity$1),\n      invert = scale.invert,\n      domain = scale.domain;\n  var formatMillisecond = format(\".%L\"),\n      formatSecond = format(\":%S\"),\n      formatMinute = format(\"%I:%M\"),\n      formatHour = format(\"%I %p\"),\n      formatDay = format(\"%a %d\"),\n      formatWeek = format(\"%b %d\"),\n      formatMonth = format(\"%B\"),\n      formatYear = format(\"%Y\");\n  var tickIntervals = [[second, 1, durationSecond$1], [second, 5, 5 * durationSecond$1], [second, 15, 15 * durationSecond$1], [second, 30, 30 * durationSecond$1], [minute, 1, durationMinute$1], [minute, 5, 5 * durationMinute$1], [minute, 15, 15 * durationMinute$1], [minute, 30, 30 * durationMinute$1], [hour, 1, durationHour$1], [hour, 3, 3 * durationHour$1], [hour, 6, 6 * durationHour$1], [hour, 12, 12 * durationHour$1], [day, 1, durationDay$1], [day, 2, 2 * durationDay$1], [week, 1, durationWeek$1], [month, 1, durationMonth], [month, 3, 3 * durationMonth], [year, 1, durationYear]];\n\n  function tickFormat(date) {\n    return (second(date) < date ? formatMillisecond : minute(date) < date ? formatSecond : hour(date) < date ? formatMinute : day(date) < date ? formatHour : month(date) < date ? week(date) < date ? formatDay : formatWeek : year(date) < date ? formatMonth : formatYear)(date);\n  }\n\n  function tickInterval(interval, start, stop, step) {\n    if (interval == null) interval = 10; // If a desired tick count is specified, pick a reasonable tick interval\n    // based on the extent of the domain and a rough estimate of tick size.\n    // Otherwise, assume interval is already a time interval and use it.\n\n    if (typeof interval === \"number\") {\n      var target = Math.abs(stop - start) / interval,\n          i = bisector(function (i) {\n        return i[2];\n      }).right(tickIntervals, target);\n\n      if (i === tickIntervals.length) {\n        step = tickStep(start / durationYear, stop / durationYear, interval);\n        interval = year;\n      } else if (i) {\n        i = tickIntervals[target / tickIntervals[i - 1][2] < tickIntervals[i][2] / target ? i - 1 : i];\n        step = i[1];\n        interval = i[0];\n      } else {\n        step = Math.max(tickStep(start, stop, interval), 1);\n        interval = millisecond;\n      }\n    }\n\n    return step == null ? interval : interval.every(step);\n  }\n\n  scale.invert = function (y) {\n    return new Date(invert(y));\n  };\n\n  scale.domain = function (_) {\n    return arguments.length ? domain(Array.from(_, number$1)) : domain().map(date$1);\n  };\n\n  scale.ticks = function (interval, step) {\n    var d = domain(),\n        t0 = d[0],\n        t1 = d[d.length - 1],\n        r = t1 < t0,\n        t;\n    if (r) t = t0, t0 = t1, t1 = t;\n    t = tickInterval(interval, t0, t1, step);\n    t = t ? t.range(t0, t1 + 1) : []; // inclusive stop\n\n    return r ? t.reverse() : t;\n  };\n\n  scale.tickFormat = function (count, specifier) {\n    return specifier == null ? tickFormat : format(specifier);\n  };\n\n  scale.nice = function (interval, step) {\n    var d = domain();\n    return (interval = tickInterval(interval, d[0], d[d.length - 1], step)) ? domain(nice(d, interval)) : scale;\n  };\n\n  scale.copy = function () {\n    return copy(scale, calendar(year, month, week, day, hour, minute, second, millisecond, format));\n  };\n\n  return scale;\n}\n\nfunction scaleTime() {\n  return initRange.apply(calendar(year, month, sunday, day, hour, minute, second, millisecond, timeFormat).domain([new Date(2000, 0, 1), new Date(2000, 0, 2)]), arguments);\n}\n\nfunction scaleUtc() {\n  return initRange.apply(calendar(utcYear, utcMonth, utcSunday, utcDay, utcHour, utcMinute, second, millisecond, utcFormat).domain([Date.UTC(2000, 0, 1), Date.UTC(2000, 0, 2)]), arguments);\n}\n\nvar _scales;\n\nvar scales = (_scales = {}, _defineProperty(_scales, axisTypeLinear, linear$1), _defineProperty(_scales, axisTypeLog, log), _defineProperty(_scales, axisTypeTime, scaleTime), _defineProperty(_scales, axisTypeUtc, scaleUtc), _defineProperty(_scales, axisTypeOrdinal, band), _scales);\n\nvar detectVertical = function detectVertical(d) {\n  return [positionLeft, positionRight].indexOf(d) > -1;\n};\n\nvar detectRTL = function detectRTL(d) {\n  return [positionTop, positionRight].indexOf(d) > -1;\n};\n\nfunction buildAxisLinear(_ref) {\n  var _ref$axis = _ref.axis,\n      primary = _ref$axis.primary,\n      type = _ref$axis.type,\n      invert = _ref$axis.invert,\n      position = _ref$axis.position,\n      primaryAxisID = _ref$axis.primaryAxisID,\n      _ref$axis$min = _ref$axis.min,\n      userMin = _ref$axis$min === void 0 ? undefined : _ref$axis$min,\n      _ref$axis$max = _ref$axis.max,\n      userMax = _ref$axis$max === void 0 ? undefined : _ref$axis$max,\n      _ref$axis$hardMin = _ref$axis.hardMin,\n      hardMin = _ref$axis$hardMin === void 0 ? undefined : _ref$axis$hardMin,\n      _ref$axis$hardMax = _ref$axis.hardMax,\n      hardMax = _ref$axis$hardMax === void 0 ? undefined : _ref$axis$hardMax,\n      _ref$axis$base = _ref$axis.base,\n      base = _ref$axis$base === void 0 ? undefined : _ref$axis$base,\n      _ref$axis$tickCount = _ref$axis.tickCount,\n      tickCount = _ref$axis$tickCount === void 0 ? 'auto' : _ref$axis$tickCount,\n      _ref$axis$minTickCoun = _ref$axis.minTickCount,\n      minTickCount = _ref$axis$minTickCoun === void 0 ? 0 : _ref$axis$minTickCoun,\n      _ref$axis$maxTickCoun = _ref$axis.maxTickCount,\n      maxTickCount = _ref$axis$maxTickCoun === void 0 ? Infinity : _ref$axis$maxTickCoun,\n      _ref$axis$tickValues = _ref$axis.tickValues,\n      tickValues = _ref$axis$tickValues === void 0 ? null : _ref$axis$tickValues,\n      _ref$axis$tickFormat = _ref$axis.tickFormat,\n      tickFormat = _ref$axis$tickFormat === void 0 ? null : _ref$axis$tickFormat,\n      _ref$axis$tickSizeInn = _ref$axis.tickSizeInner,\n      tickSizeInner = _ref$axis$tickSizeInn === void 0 ? 6 : _ref$axis$tickSizeInn,\n      _ref$axis$tickSizeOut = _ref$axis.tickSizeOuter,\n      tickSizeOuter = _ref$axis$tickSizeOut === void 0 ? 6 : _ref$axis$tickSizeOut,\n      _ref$axis$tickPadding = _ref$axis.tickPadding,\n      tickPadding = _ref$axis$tickPadding === void 0 ? 14 : _ref$axis$tickPadding,\n      _ref$axis$maxLabelRot = _ref$axis.maxLabelRotation,\n      maxLabelRotation = _ref$axis$maxLabelRot === void 0 ? 50 : _ref$axis$maxLabelRot,\n      _ref$axis$labelRotati = _ref$axis.labelRotationStep,\n      labelRotationStep = _ref$axis$labelRotati === void 0 ? 5 : _ref$axis$labelRotati,\n      _ref$axis$innerPaddin = _ref$axis.innerPadding,\n      innerPadding = _ref$axis$innerPaddin === void 0 ? 0.2 : _ref$axis$innerPaddin,\n      _ref$axis$outerPaddin = _ref$axis.outerPadding,\n      outerPadding = _ref$axis$outerPaddin === void 0 ? 0.1 : _ref$axis$outerPaddin,\n      _ref$axis$showGrid = _ref$axis.showGrid,\n      showGrid = _ref$axis$showGrid === void 0 ? null : _ref$axis$showGrid,\n      _ref$axis$showTicks = _ref$axis.showTicks,\n      showTicks = _ref$axis$showTicks === void 0 ? true : _ref$axis$showTicks,\n      _ref$axis$show = _ref$axis.show,\n      show = _ref$axis$show === void 0 ? true : _ref$axis$show,\n      _ref$axis$stacked = _ref$axis.stacked,\n      stacked = _ref$axis$stacked === void 0 ? false : _ref$axis$stacked,\n      userID = _ref$axis.id,\n      materializedData = _ref.materializedData,\n      gridHeight = _ref.gridHeight,\n      gridWidth = _ref.gridWidth,\n      axisDimensions = _ref.axisDimensions;\n\n  if (!position) {\n    throw new Error(\"Chart axes must have a valid 'position' property\");\n  } // Detect some settings\n\n\n  var valueKey = primary ? 'primary' : 'secondary';\n  var groupKey = !primary && 'primary';\n  var AxisIDKey = \"\".concat(valueKey, \"AxisID\");\n  var vertical = detectVertical(position);\n  var RTL = detectRTL(position); // Right to left OR top to bottom\n\n  var id = userID || \"\".concat(position, \"_\").concat(type); // TODO: Any sorting needs to happen here, else the min/max's might not line up correctly\n  // First we need to find unique values, min/max values and negative/positive totals\n\n  var uniqueVals = [];\n  var min;\n  var max;\n  var negativeTotalByKey = {};\n  var positiveTotalByKey = {};\n  var domain;\n  var axisDimension = axisDimensions && axisDimensions[position] && axisDimensions[position][id]; // Loop through each series\n\n  for (var seriesIndex = 0; seriesIndex < materializedData.length; seriesIndex++) {\n    if (materializedData[seriesIndex][AxisIDKey] && materializedData[seriesIndex][AxisIDKey] !== id) {\n      continue;\n    } // Loop through each datum\n\n\n    for (var datumIndex = 0; datumIndex < materializedData[seriesIndex].datums.length; datumIndex++) {\n      var datum = materializedData[seriesIndex].datums[datumIndex];\n      var value = void 0;\n      var key = groupKey ? datum[groupKey] : datumIndex; // For ordinal scales, unique the values\n\n      if (type === axisTypeOrdinal) {\n        if (uniqueVals.indexOf() === -1) {\n          uniqueVals.push(materializedData[seriesIndex].datums[datumIndex][valueKey]);\n        }\n      } else if (type === axisTypeTime || type === axisTypeUtc) {\n        value = +datum[valueKey];\n      } else {\n        value = datum[valueKey];\n      } // Add to stack total\n\n\n      if (stacked) {\n        if (value > 0) {\n          positiveTotalByKey[key] = typeof positiveTotalByKey[key] !== 'undefined' ? positiveTotalByKey[key] + value : value;\n        } else {\n          negativeTotalByKey[key] = typeof negativeTotalByKey[key] !== 'undefined' ? negativeTotalByKey[key] + value : value;\n        }\n      } else {\n        // Find min/max\n        min = typeof min !== 'undefined' ? Math.min(min, value) : value;\n        max = typeof max !== 'undefined' ? Math.max(max, value) : value;\n      }\n    }\n  }\n\n  if (type === axisTypeOrdinal) {\n    domain = uniqueVals;\n  } else if (stacked) {\n    domain = [Math.min.apply(Math, [0].concat(_toConsumableArray(Object.values(negativeTotalByKey)))), Math.max.apply(Math, [0].concat(_toConsumableArray(Object.values(positiveTotalByKey))))];\n  } else {\n    domain = [min, max];\n  } // Now we need to figure out the range\n\n\n  var range = [0, vertical ? gridHeight : gridWidth]; // axes by default read from top to bottom and left to right\n\n  if (vertical && !primary) {\n    // Vertical secondary ranges get inverted by default\n    range.reverse();\n  } // Give the scale a home\n\n\n  var scale; // If this is an ordinal or other primary axis, it needs to be able to display bars.\n\n  var bandScale;\n  var barSize = 0;\n  var cursorSize = 0;\n  var stepSize = 0;\n\n  var seriesBandScale = function seriesBandScale(d) {\n    return d;\n  };\n\n  var seriesBarSize = 1;\n\n  if (type === axisTypeOrdinal || primary) {\n    // Calculate a band axis that is similar and pass down the bandwidth\n    // just in case.\n    bandScale = band().domain(materializedData.reduce(function (prev, current) {\n      return current.datums.length > prev.length ? current.datums : prev;\n    }, []).map(function (d) {\n      return d.primary;\n    })).rangeRound(range, 0.1).padding(0);\n    bandScale.paddingOuter(outerPadding).paddingInner(innerPadding);\n    barSize = bandScale.bandwidth();\n\n    if (type === axisTypeOrdinal) {\n      cursorSize = barSize;\n    } // barSize = bandScale.bandwidth()\n\n\n    stepSize = bandScale.step(); // Create a seriesBandScale in case this axis isn't stacked\n\n    seriesBandScale = band().paddingInner(innerPadding / 2).domain(materializedData.filter(function (d) {\n      return d.Component === Bar;\n    }).map(function (d, i) {\n      return i;\n    })).rangeRound([0, barSize]);\n    seriesBarSize = seriesBandScale.bandwidth();\n  }\n\n  if (type === axisTypeOrdinal) {\n    // If it's ordinal, just assign the bandScale we made\n    scale = bandScale;\n  } else {\n    // Otherwise, create a new scale of the appropriate type\n    scale = scales[type]();\n  } // Set base, min, and max\n\n\n  if (typeof base === 'number') {\n    domain[0] = Math.min(domain[0], base);\n    domain[1] = Math.max(domain[1], base);\n  }\n\n  if (typeof defaultMin === 'number') {\n    domain[0] = Math.min(domain[0], userMin);\n  }\n\n  if (typeof defaultMax === 'number') {\n    domain[1] = Math.max(domain[1], userMax);\n  } // Set the domain\n\n\n  scale.domain(domain); // If we're not using an ordinal scale, round the ticks to \"nice\" values\n\n  if (type !== axisTypeOrdinal) {\n    scale.nice();\n  } // If hard min and max are set, override any \"nice\" rounding values\n\n\n  if (typeof hardMin === 'number') {\n    scale.domain([hardMin, scale.domain()[1]]);\n  }\n\n  if (typeof hardMax === 'number') {\n    scale.domain([scale.domain()[0], hardMax]);\n  } // Invert if necessary\n\n\n  if (invert) {\n    scale.domain(_toConsumableArray(scale.domain()).reverse());\n  } // Now set the range\n\n\n  scale.range(range); // Pass down the axis config (including the scale itself) for posterity\n\n  var axis = {\n    id: id,\n    primary: primary,\n    type: type,\n    invert: invert,\n    position: position,\n    primaryAxisID: primaryAxisID,\n    hardMin: hardMin,\n    hardMax: hardMax,\n    base: base,\n    tickCount: tickCount,\n    minTickCount: minTickCount,\n    maxTickCount: maxTickCount,\n    tickValues: tickValues,\n    tickFormat: tickFormat,\n    tickSizeInner: tickSizeInner,\n    tickSizeOuter: tickSizeOuter,\n    tickPadding: tickPadding,\n    maxLabelRotation: maxLabelRotation,\n    labelRotationStep: labelRotationStep,\n    innerPadding: innerPadding,\n    outerPadding: outerPadding,\n    showGrid: showGrid,\n    showTicks: showTicks,\n    show: show,\n    stacked: stacked,\n    scale: scale,\n    uniqueVals: uniqueVals,\n    vertical: vertical,\n    RTL: RTL,\n    barSize: barSize,\n    cursorSize: cursorSize,\n    stepSize: stepSize,\n    seriesBandScale: seriesBandScale,\n    seriesBarSize: seriesBarSize,\n    domain: domain,\n    range: range,\n    max: position === positionBottom ? -gridHeight : position === positionLeft ? gridWidth : position === positionTop ? gridHeight : -gridWidth,\n    directionMultiplier: position === positionTop || position === positionLeft ? -1 : 1,\n    transform: !vertical ? Utils.translateX : Utils.translateY,\n    ticks: tickValues || scale.ticks ? scale.ticks(tickCount === 'auto' ? axisDimension ? axisDimension.tickCount : 10 : tickCount) : scale.domain(),\n    format: tickFormat || scale.tickFormat ? tickFormat || scale.tickFormat(tickFormat) : Utils.identity,\n    spacing: Math.max(tickSizeInner, 0) + tickPadding\n  };\n\n  if (type === axisTypeOrdinal) {\n    axis.gridOffset = -(axis.stepSize * innerPadding) / 2;\n    axis.tickOffset = axis.barSize / 2;\n    axis.barOffset = 0;\n  } else {\n    axis.tickOffset = 0;\n    axis.barOffset = -axis.barSize / 2;\n  }\n\n  return axis;\n} // import buildAxisPie from './buildAxis.pie'\n\n\nfunction buildAxis(config) {\n  // if (config.type === 'pie') {\n  // return buildAxisPie(config)\n  // }\n  return buildAxisLinear(config);\n}\n\nvar axisShape = PropTypes.shape({\n  primary: PropTypes.bool,\n  type: PropTypes.oneOf([axisTypeOrdinal, axisTypeTime, axisTypeUtc, axisTypeLinear, axisTypeLog]).isRequired,\n  invert: PropTypes.bool,\n  position: PropTypes.oneOf([positionTop, positionRight, positionBottom, positionLeft]),\n  primaryAxisID: PropTypes.any,\n  min: PropTypes.any,\n  max: PropTypes.any,\n  hardMin: PropTypes.any,\n  hardMax: PropTypes.any,\n  base: PropTypes.any,\n  ticks: PropTypes.any,\n  tickValues: PropTypes.any,\n  tickFormat: PropTypes.func,\n  tickSizeInner: PropTypes.number,\n  tickSizeOuter: PropTypes.number,\n  tickPadding: PropTypes.number,\n  maxLabelRotation: PropTypes.number,\n  innerPadding: PropTypes.number,\n  outerPadding: PropTypes.number,\n  showGrid: PropTypes.bool,\n  showTicks: PropTypes.bool,\n  show: PropTypes.bool,\n  stacked: PropTypes.bool,\n  id: PropTypes.any\n});\n\nvar calculateAxes = function calculateAxes(_ref) {\n  var axes = _ref.axes,\n      materializedData = _ref.materializedData,\n      gridHeight = _ref.gridHeight,\n      gridWidth = _ref.gridWidth,\n      axisDimensions = _ref.axisDimensions; // Detect axes changes and build axes\n\n  var prePrimaryAxes = axes.filter(function (d) {\n    return d.primary;\n  });\n  var preSecondaryAxes = axes.filter(function (d) {\n    return !d.primary;\n  });\n  var primaryAxesHashes = JSON.stringify(prePrimaryAxes);\n  var secondaryAxesHashes = JSON.stringify(preSecondaryAxes); // Calculate primary axes\n\n  var primaryAxes = React.useMemo(function () {\n    return prePrimaryAxes.map(function (axis, i) {\n      return buildAxis({\n        axis: axis,\n        materializedData: materializedData,\n        gridWidth: gridWidth,\n        gridHeight: gridHeight,\n        axisDimensions: axisDimensions\n      });\n    });\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  [primaryAxesHashes, materializedData, gridHeight, gridWidth]); // Calculate secondary axes\n\n  var secondaryAxes = React.useMemo(function () {\n    return preSecondaryAxes.map(function (axis, i) {\n      return buildAxis({\n        axis: axis,\n        primaryAxes: primaryAxes,\n        materializedData: materializedData,\n        gridWidth: gridWidth,\n        gridHeight: gridHeight,\n        axisDimensions: axisDimensions\n      });\n    });\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  [secondaryAxesHashes, materializedData, gridHeight, gridWidth]); // Make sure we're mapping x and y to the correct axes\n\n  var xKey = primaryAxes.find(function (d) {\n    return d.vertical;\n  }) ? 'secondary' : 'primary';\n  var yKey = primaryAxes.find(function (d) {\n    return d.vertical;\n  }) ? 'primary' : 'secondary';\n  var xAxes = primaryAxes.find(function (d) {\n    return d.vertical;\n  }) ? secondaryAxes : primaryAxes;\n  var yAxes = primaryAxes.find(function (d) {\n    return d.vertical;\n  }) ? primaryAxes : secondaryAxes;\n  return {\n    primaryAxes: primaryAxes,\n    secondaryAxes: secondaryAxes,\n    xKey: xKey,\n    yKey: yKey,\n    xAxes: xAxes,\n    yAxes: yAxes\n  };\n};\n\nvar defaultColors = ['#4ab5eb', '#fc6868', '#DECF3F', '#60BD68', '#FAA43A', '#c63b89', '#1aaabe', '#734fe9', '#1828bd', '#cd82ad'];\n\nvar calculateStackData = function calculateStackData(_ref) {\n  var materializedData = _ref.materializedData,\n      primaryAxes = _ref.primaryAxes,\n      secondaryAxes = _ref.secondaryAxes,\n      yAxes = _ref.yAxes,\n      yKey = _ref.yKey,\n      xAxes = _ref.xAxes,\n      xKey = _ref.xKey,\n      grouping = _ref.grouping; // Make stackData\n\n  return React.useMemo(function () {\n    // We need materializedData and both axes to continue\n    if (!primaryAxes.length || !secondaryAxes.length) {\n      throw new Error('A primary and secondary axis is required!');\n    } // If the axes are ready, let's decorate the materializedData for visual plotting\n    // \"totals\" are kept per secondaryAxis and used for bases if secondaryAxis stacking is enabled\n\n\n    var scaleTotals = secondaryAxes.map(function () {\n      return {};\n    });\n    materializedData.forEach(function (series) {\n      var axisIndex = Utils.getAxisIndexByAxisID(secondaryAxes, series.secondaryAxisID);\n      series.datums.forEach(function (datum) {\n        scaleTotals[axisIndex][datum.primary] = {\n          negative: 0,\n          positive: 0\n        };\n      });\n    }); // Determine the correct primary and secondary values for each axis\n    // Also calculate bases and totals if either axis is stacked\n\n    var stackData = materializedData.map(function (series) {\n      var primaryAxisIndex = Utils.getAxisIndexByAxisID(primaryAxes, series.primaryAxisID);\n      var primaryAxis = primaryAxes[primaryAxisIndex];\n      var secondaryAxisIndex = Utils.getAxisIndexByAxisID(secondaryAxes, series.secondaryAxisID);\n      var secondaryAxis = secondaryAxes[secondaryAxisIndex];\n      return _objectSpread({}, series, {\n        datums: series.datums.map(function (d) {\n          var datum = _objectSpread({}, d, {\n            xValue: d[xKey],\n            yValue: d[yKey],\n            baseValue: 0\n          });\n\n          if (secondaryAxis.stacked) {\n            var start = scaleTotals[secondaryAxisIndex][d.primary]; // Stack the x or y values (according to axis positioning)\n\n            if (primaryAxis.vertical) {\n              // Is this a valid point?\n              var validPoint = Utils.isValidPoint(datum.xValue); // Should we use positive or negative base?\n\n              var totalKey = datum.xValue >= 0 ? 'positive' : 'negative'; // Assign the base\n\n              datum.baseValue = start[totalKey]; // Add the value for a total\n\n              datum.totalValue = datum.baseValue + (validPoint ? datum.xValue : 0); // Update the totals\n\n              scaleTotals[secondaryAxisIndex][d.primary][totalKey] = datum.totalValue; // Make the total the new value\n\n              datum.xValue = validPoint ? datum.totalValue : null;\n            } else {\n              // Is this a valid point?\n              var _validPoint = Utils.isValidPoint(datum.yValue); // Should we use positive or negative base?\n\n\n              var _totalKey = datum.yValue >= 0 ? 'positive' : 'negative'; // Assign the base\n\n\n              datum.baseValue = start[_totalKey]; // Add the value to the base\n\n              datum.totalValue = datum.baseValue + (_validPoint ? datum.yValue : 0); // Update the totals\n\n              scaleTotals[secondaryAxisIndex][d.primary][_totalKey] = datum.totalValue; // Make the total the new value\n\n              datum.yValue = _validPoint ? datum.totalValue : null;\n            }\n          }\n\n          return datum;\n        })\n      });\n    });\n    stackData.forEach(function (series) {\n      series.datums.forEach(function (datum) {\n        datum.series = series;\n      });\n    }); // Use the plotDatum method on each series\n\n    stackData.forEach(function (series, i) {\n      if (!series.Component.plotDatum) {\n        throw new Error(\"Could not find a [SeriesType].plotDatum() static method for the series Component above (index: \".concat(i, \")\"));\n      }\n\n      var primaryAxisIndex = Utils.getAxisIndexByAxisID(primaryAxes, series.primaryAxisID);\n      var secondaryAxisIndex = Utils.getAxisIndexByAxisID(secondaryAxes, series.secondaryAxisID);\n      var primaryAxis = primaryAxes[primaryAxisIndex];\n      var secondaryAxis = secondaryAxes[secondaryAxisIndex];\n      var xAxisIndex = Utils.getAxisIndexByAxisID(xAxes, series[\"\".concat(xKey, \"AxisID\")]);\n      var yAxisIndex = Utils.getAxisIndexByAxisID(yAxes, series[\"\".concat(yKey, \"AxisID\")]);\n      var xAxis = xAxes[xAxisIndex];\n      var yAxis = yAxes[yAxisIndex];\n      series.datums = series.datums.map(function (d) {\n        // Data for cartesian charts\n        var result = series.Component.plotDatum(d, {\n          primaryAxis: primaryAxis,\n          secondaryAxis: secondaryAxis,\n          xAxis: xAxis,\n          yAxis: yAxis\n        });\n        return result || d;\n      });\n    }); // Do any data grouping ahead of time using\n\n    if ([groupingSingle, groupingSeries].includes(grouping)) {\n      for (var seriesIndex = 0; seriesIndex < stackData.length; seriesIndex++) {\n        var series = stackData[seriesIndex];\n\n        for (var datumIndex = 0; datumIndex < series.datums.length; datumIndex++) {\n          var datum = series.datums[datumIndex];\n          datum.group = grouping === groupingSeries ? datum.series.datums : [datum];\n        }\n      }\n    } else if ([groupingPrimary, groupingSecondary].includes(grouping)) {\n      var datumsByGrouping = {};\n\n      for (var _seriesIndex = 0; _seriesIndex < stackData.length; _seriesIndex++) {\n        var _series = stackData[_seriesIndex];\n\n        for (var _datumIndex = 0; _datumIndex < _series.datums.length; _datumIndex++) {\n          var _datum = _series.datums[_datumIndex];\n\n          if (!_datum.defined) {\n            continue;\n          }\n\n          var axisKey = String(grouping === groupingPrimary ? _datum.primary : _datum.secondary);\n          datumsByGrouping[axisKey] = datumsByGrouping[axisKey] || [];\n          datumsByGrouping[axisKey].push(_datum);\n        }\n      }\n\n      for (var _seriesIndex2 = 0; _seriesIndex2 < stackData.length; _seriesIndex2++) {\n        var _series2 = stackData[_seriesIndex2];\n\n        for (var _datumIndex2 = 0; _datumIndex2 < _series2.datums.length; _datumIndex2++) {\n          var _datum2 = _series2.datums[_datumIndex2];\n\n          var _axisKey = String(grouping === groupingPrimary ? _datum2.primary : _datum2.secondary);\n\n          _datum2.group = datumsByGrouping[_axisKey];\n        }\n      }\n    } // Not we need to precalculate all of the possible status styles by\n    // calling the seemingly 'live' getSeriesStyle, and getDatumStyle callbacks ;)\n\n\n    stackData = stackData.map(function (series, i) {\n      if (!series.Component.buildStyles) {\n        throw new Error(\"Could not find a SeriesType.buildStyles() static method for the series Component above (index: \".concat(i, \")\"));\n      }\n\n      var result = series.Component.buildStyles(series, {\n        defaultColors: defaultColors\n      });\n      return result || series;\n    });\n    return stackData;\n  }, [primaryAxes, secondaryAxes, materializedData, grouping, xKey, yKey, xAxes, yAxes]);\n};\n\nvar showCount = 10;\n\nfunction TooltipRenderer(props) {\n  var datum = props.datum,\n      grouping = props.grouping,\n      primaryAxis = props.primaryAxis,\n      secondaryAxis = props.secondaryAxis,\n      formatSecondary = props.formatSecondary,\n      formatTertiary = props.formatTertiary,\n      getStyle = props.getStyle,\n      dark = props.dark;\n\n  if (!datum) {\n    return null;\n  }\n\n  var resolvedFormatSecondary = formatSecondary || function (val) {\n    return Math.floor(val) < val ? secondaryAxis.format(Math.round(val * 100) / 100) : secondaryAxis.format(val);\n  };\n\n  var resolvedFormatTertiary = formatTertiary || function (val) {\n    return Math.floor(val) < val ? Math.round(val * 100) / 100 : val;\n  };\n\n  var sortedGroupDatums = _toConsumableArray(datum.group).sort(function (a, b) {\n    if (!primaryAxis.stacked && grouping === groupingSeries || grouping === groupingSecondary) {\n      if (a.primaryCoord > b.primaryCoord) {\n        return -1;\n      } else if (a.primaryCoord < b.primaryCoord) {\n        return 1;\n      }\n    } else if (!secondaryAxis.stacked) {\n      if (a.secondaryCoord > b.secondaryCoord) {\n        return -1;\n      } else if (a.secondaryCoord < b.secondaryCoord) {\n        return 1;\n      }\n    }\n\n    return a.seriesIndex > b.seriesIndex ? 1 : -1;\n  });\n\n  if (grouping === groupingPrimary) {\n    sortedGroupDatums.reverse();\n  }\n\n  if (secondaryAxis.invert) {\n    sortedGroupDatums.reverse();\n  }\n\n  var resolvedShowCount = showCount;\n  var length = sortedGroupDatums.length; // Get the focused series' index\n\n  var activeIndex = sortedGroupDatums.findIndex(function (d) {\n    return d === datum;\n  }); // Get the start by going back half of the showCount\n\n  var start = activeIndex > -1 ? activeIndex - resolvedShowCount / 2 : 0; // Make sure it's at least 0\n\n  start = Math.max(start, 0); // Use the start and add the showCount to get the end\n\n  var end = activeIndex > -1 ? start + resolvedShowCount : length; // Don't let the end go passed the length\n\n  end = Math.min(end, length); // Double check we aren't clipping the start\n\n  start = Math.max(end - resolvedShowCount, 0); // Slice the datums by start and end\n\n  var visibleSortedGroupDatums = sortedGroupDatums.slice(start, end); // Detect if we have previous items\n\n  var hasPrevious = start > 0; // Or next items\n\n  var hasNext = end < length;\n  return React.createElement(\"div\", null, React.createElement(\"div\", {\n    style: {\n      marginBottom: '3px',\n      textAlign: 'center'\n    }\n  }, grouping === groupingSeries ? React.createElement(\"strong\", null, datum.seriesLabel) : grouping === groupingSecondary ? React.createElement(\"strong\", null, secondaryAxis.format(datum.secondary)) : React.createElement(\"strong\", null, primaryAxis.format(datum.primary))), React.createElement(\"table\", {\n    style: {\n      whiteSpace: 'nowrap'\n    }\n  }, React.createElement(\"tbody\", null, hasPrevious ? React.createElement(\"tr\", {\n    style: {\n      opacity: 0.8\n    }\n  }, React.createElement(\"td\", null), React.createElement(\"td\", null, \"...\"), React.createElement(\"td\", null)) : null, visibleSortedGroupDatums.map(function (sortedDatum, i) {\n    var active = sortedDatum === datum;\n    return React.createElement(\"tr\", {\n      key: i,\n      style: {\n        opacity: active ? 1 : 0.8,\n        fontWeight: active && 'bold'\n      }\n    }, React.createElement(\"td\", {\n      style: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        marginRight: '5px'\n      }\n    }, React.createElement(\"svg\", {\n      width: \"16\",\n      height: \"16\"\n    }, React.createElement(\"circle\", {\n      cx: \"8\",\n      cy: \"8\",\n      r: \"7\",\n      style: _objectSpread({}, getStyle(sortedDatum), {\n        stroke: dark ? 'black' : 'white',\n        strokeWidth: active ? 2 : 1\n      })\n    }))), grouping === groupingSeries ? React.createElement(React.Fragment, null, React.createElement(\"td\", null, primaryAxis.format(sortedDatum.primary), \": \\xA0\"), React.createElement(\"td\", {\n      style: {\n        textAlign: 'right'\n      }\n    }, resolvedFormatSecondary(sortedDatum.secondary), sortedDatum.r ? \" (\".concat(resolvedFormatTertiary(sortedDatum.r), \")\") : null)) : grouping === groupingSecondary ? React.createElement(React.Fragment, null, React.createElement(\"td\", null, sortedDatum.seriesLabel, \": \\xA0\"), React.createElement(\"td\", {\n      style: {\n        textAlign: 'right'\n      }\n    }, primaryAxis.format(sortedDatum.primary), sortedDatum.r ? \" (\".concat(resolvedFormatTertiary(sortedDatum.r), \")\") : null)) : React.createElement(React.Fragment, null, React.createElement(\"td\", null, sortedDatum.seriesLabel, \": \\xA0\"), React.createElement(\"td\", {\n      style: {\n        textAlign: 'right'\n      }\n    }, resolvedFormatSecondary(sortedDatum.secondary), sortedDatum.r ? \" (\".concat(resolvedFormatTertiary(sortedDatum.r), \")\") : null)));\n  }), hasNext ? React.createElement(\"tr\", {\n    style: {\n      opacity: 0.8\n    }\n  }, React.createElement(\"td\", null), React.createElement(\"td\", null, \"...\"), React.createElement(\"td\", null)) : null, secondaryAxis && secondaryAxis.stacked && datum.group.length > 1 ? React.createElement(\"tr\", null, React.createElement(\"td\", {\n    style: {\n      paddingTop: '5px'\n    }\n  }, React.createElement(\"div\", {\n    style: {\n      width: '12px',\n      height: '12px',\n      backgroundColor: dark ? 'rgba(0, 26, 39, 0.3)' : 'rgba(255,255,255,.2)',\n      borderRadius: '50px'\n    }\n  })), React.createElement(\"td\", {\n    style: {\n      paddingTop: '5px'\n    }\n  }, \"Total: \\xA0\"), React.createElement(\"td\", {\n    style: {\n      paddingTop: '5px'\n    }\n  }, resolvedFormatSecondary(_toConsumableArray(datum.group).reverse()[0].totalValue))) : null)));\n}\n\nvar alignPropType = PropTypes.oneOf([alignAuto, alignRight, alignTopRight, alignBottomRight, alignLeft, alignTopLeft, alignBottomLeft, alignTop, alignBottom]);\nvar tooltipShape = PropTypes.oneOfType([PropTypes.oneOf([true]), PropTypes.shape({\n  align: alignPropType,\n  alignPriority: PropTypes.arrayOf(alignPropType),\n  padding: PropTypes.number,\n  tooltipArrowPadding: PropTypes.number,\n  anchor: PropTypes.oneOf([anchorPointer, anchorClosest, anchorCenter, anchorTop, anchorBottom, anchorLeft, anchorRight, anchorGridTop, anchorGridBottom, anchorGridLeft, anchorGridRight]),\n  render: PropTypes.func.required,\n  onChange: PropTypes.func\n})]);\n\nvar calculateTooltip = function calculateTooltip(_ref) {\n  var focused = _ref.focused,\n      tooltip = _ref.tooltip,\n      pointer = _ref.pointer,\n      gridWidth = _ref.gridWidth,\n      gridHeight = _ref.gridHeight;\n  return React.useMemo(function () {\n    if (!tooltip) {\n      return null;\n    } // Default tooltip props\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n\n\n    tooltip = _objectSpread({\n      align: alignAuto,\n      alignPriority: [alignRight, alignTopRight, alignBottomRight, alignLeft, alignTopLeft, alignBottomLeft, alignTop, alignBottom],\n      padding: 5,\n      tooltipArrowPadding: 7,\n      anchor: 'closest',\n      render: TooltipRenderer,\n      onChange: function onChange() {}\n    }, tooltip);\n    var anchor = {};\n    var show = true; // If there is a focused datum, default the focus to its x and y\n\n    if (focused) {\n      anchor = focused.anchor;\n    } else {\n      show = false;\n    }\n\n    if (tooltip.anchor === 'pointer') {\n      // Support pointer-bound focus\n      anchor = pointer;\n    } else if (tooltip.anchor === 'closest') ;else if (focused) {\n      // Support manual definition of focus point using relative multiFocus strategy\n      var multiFocus = Array.isArray(tooltip.anchor) ? _toConsumableArray(tooltip.anchor) : [tooltip.anchor];\n      anchor = Utils.getMultiAnchor({\n        anchor: multiFocus,\n        points: focused.group,\n        gridWidth: gridWidth,\n        gridHeight: gridHeight\n      });\n    }\n\n    anchor = anchor ? _objectSpread({\n      horizontalPadding: anchor.horizontalPadding || 0,\n      verticalPadding: anchor.verticalPadding || 0\n    }, anchor) : anchor;\n    return _objectSpread({}, tooltip, {\n      anchor: anchor,\n      show: show\n    });\n  }, [focused, gridHeight, gridWidth, pointer, tooltip]);\n};\n\nvar cursorShape = PropTypes.oneOfType([PropTypes.oneOf([true]), PropTypes.shape({\n  render: PropTypes.func,\n  snap: PropTypes.bool,\n  showLine: PropTypes.bool,\n  showLabel: PropTypes.bool,\n  axisID: PropTypes.any,\n  onChange: PropTypes.func\n})]);\nvar defaultCursorProps = {\n  render: function render(_ref) {\n    var formattedValue = _ref.formattedValue;\n    return React.createElement(\"span\", null, formattedValue);\n  },\n  snap: true,\n  showLine: true,\n  showLabel: true,\n  axisID: undefined,\n  onChange: function onChange() {}\n};\n\nvar calculateCursors = function calculateCursors(_ref2) {\n  var primaryCursor = _ref2.primaryCursor,\n      secondaryCursor = _ref2.secondaryCursor,\n      primaryAxes = _ref2.primaryAxes,\n      secondaryAxes = _ref2.secondaryAxes,\n      focused = _ref2.focused,\n      pointer = _ref2.pointer,\n      gridWidth = _ref2.gridWidth,\n      gridHeight = _ref2.gridHeight,\n      stackData = _ref2.stackData;\n  return [primaryCursor, secondaryCursor].map(function (cursor, i) {\n    var cursorValue = cursor && cursor.value;\n    return React.useMemo(function () {\n      if (!cursor) {\n        return;\n      }\n\n      var primary = i === 0; // eslint-disable-next-line react-hooks/exhaustive-deps\n\n      cursor = _objectSpread({}, defaultCursorProps, cursor, {\n        primary: primary\n      });\n      var value;\n      var show = false; // Determine the axis to use\n\n      var axis = Utils.getAxisByAxisID(primary ? primaryAxes : secondaryAxes, cursor.axisID || focused ? focused.series[primary ? 'primaryAxisID' : 'secondaryAxisID'] : undefined);\n      var siblingAxis = primary ? secondaryAxes[0] : primaryAxes[0]; // Resolve the invert function\n\n      var invert = axis.scale.invert || function (d) {\n        return d;\n      }; // If the pointer is active, try to show\n\n\n      if (pointer.active) {\n        // Default to cursor x and y\n        var x = pointer.x;\n        var y = pointer.y; // If the cursor isn't in the grid, don't display\n\n        if (x < -1 || x > gridWidth + 1 || y < -1 || y > gridHeight + 1) {\n          show = false;\n        } else {\n          show = true;\n        } // Implement snapping\n\n\n        if (axis.type === 'ordinal' || cursor.snap) {\n          if (!focused) {\n            show = false;\n          } else {\n            if (axis.vertical) {\n              value = focused.yValue;\n            } else {\n              value = focused.xValue;\n            }\n          }\n        } else if (axis.vertical) {\n          value = invert(y);\n        } else {\n          value = invert(x);\n        }\n      } else {\n        show = false;\n      }\n\n      var resolvedShow = show;\n      var resolvedValue = value;\n\n      if (typeof cursor.value !== 'undefined' && cursor.value !== null) {\n        resolvedValue = cursor.value;\n\n        if (typeof cursor.show !== 'undefined') {\n          resolvedShow = cursor.show;\n        } else {\n          resolvedShow = true;\n        }\n\n        if (typeof axis.scale(resolvedValue) === 'undefined') {\n          resolvedShow = false;\n        }\n      }\n\n      return _objectSpread({}, cursor, {\n        axis: axis,\n        siblingAxis: siblingAxis,\n        show: show,\n        value: value,\n        resolvedShow: resolvedShow,\n        resolvedValue: resolvedValue\n      });\n    }, [stackData, pointer, cursorValue]);\n  });\n};\n\nvar defaultProps = {\n  getDatums: function getDatums(d) {\n    return Array.isArray(d) ? d : d.datums || d.data;\n  },\n  getLabel: function getLabel(d, i) {\n    return d.label || \"Series \".concat(i + 1);\n  },\n  getSeriesID: function getSeriesID(d, i) {\n    return i;\n  },\n  getPrimary: function getPrimary(d) {\n    return Array.isArray(d) ? d[0] : d.primary || d.x;\n  },\n  getSecondary: function getSecondary(d) {\n    return Array.isArray(d) ? d[1] : d.secondary || d.y;\n  },\n  getR: function getR(d) {\n    return Array.isArray(d) ? d[2] : d.radius || d.r;\n  },\n  getPrimaryAxisID: function getPrimaryAxisID(s) {\n    return s.primaryAxisID;\n  },\n  getSecondaryAxisID: function getSecondaryAxisID(s) {\n    return s.secondaryAxisID;\n  },\n  getSeriesStyle: function getSeriesStyle(series) {\n    return {\n      color: series.originalSeries.color\n    };\n  },\n  getDatumStyle: function getDatumStyle() {\n    return {};\n  },\n  getSeriesOrder: function getSeriesOrder(d) {\n    return d;\n  },\n  onHover: function onHover() {},\n  grouping: groupingPrimary,\n  focus: focusAuto,\n  showVoronoi: false\n};\n\nfunction Chart(_ref) {\n  var data = _ref.data,\n      grouping = _ref.grouping,\n      focus = _ref.focus,\n      showVoronoi = _ref.showVoronoi,\n      dark = _ref.dark,\n      series = _ref.series,\n      axes = _ref.axes,\n      primaryCursor = _ref.primaryCursor,\n      secondaryCursor = _ref.secondaryCursor,\n      tooltip = _ref.tooltip,\n      brush = _ref.brush,\n      renderSVG = _ref.renderSVG,\n      getDatums = _ref.getDatums,\n      getLabel = _ref.getLabel,\n      getSeriesID = _ref.getSeriesID,\n      getPrimary = _ref.getPrimary,\n      getSecondary = _ref.getSecondary,\n      getR = _ref.getR,\n      getPrimaryAxisID = _ref.getPrimaryAxisID,\n      getSecondaryAxisID = _ref.getSecondaryAxisID,\n      getSeriesStyle = _ref.getSeriesStyle,\n      getDatumStyle = _ref.getDatumStyle,\n      onClick = _ref.onClick,\n      onFocus = _ref.onFocus,\n      onHover = _ref.onHover,\n      getSeriesOrder = _ref.getSeriesOrder,\n      rest = _objectWithoutProperties(_ref, [\"data\", \"grouping\", \"focus\", \"showVoronoi\", \"dark\", \"series\", \"axes\", \"primaryCursor\", \"secondaryCursor\", \"tooltip\", \"brush\", \"renderSVG\", \"getDatums\", \"getLabel\", \"getSeriesID\", \"getPrimary\", \"getSecondary\", \"getR\", \"getPrimaryAxisID\", \"getSecondaryAxisID\", \"getSeriesStyle\", \"getDatumStyle\", \"onClick\", \"onFocus\", \"onHover\", \"getSeriesOrder\"]);\n\n  var _React$useState = React.useState({\n    focused: null,\n    element: null,\n    axisDimensions: {},\n    padding: {},\n    offset: {},\n    pointer: {}\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      _React$useState2$ = _React$useState2[0],\n      focused = _React$useState2$.focused,\n      element = _React$useState2$.element,\n      axisDimensions = _React$useState2$.axisDimensions,\n      offsetState = _React$useState2$.offset,\n      padding = _React$useState2$.padding,\n      pointer = _React$useState2$.pointer,\n      setChartState = _React$useState2[1];\n\n  var onClickRef = useLatestRef(onClick);\n  var onFocusRef = useLatestRef(onFocus);\n  var onHoverRef = useLatestRef(onHover);\n  var responsiveElRef = React.useRef();\n\n  var _useHyperResponsive = useHyperResponsive(responsiveElRef),\n      _useHyperResponsive2 = _slicedToArray(_useHyperResponsive, 1),\n      _useHyperResponsive2$ = _useHyperResponsive2[0],\n      width = _useHyperResponsive2$.width,\n      height = _useHyperResponsive2$.height;\n\n  getSeriesID = React.useCallback(Utils.normalizeGetter(getSeriesID), getSeriesID);\n  getLabel = React.useCallback(Utils.normalizeGetter(getLabel), getLabel);\n  getPrimaryAxisID = React.useCallback(Utils.normalizeGetter(getPrimaryAxisID), getPrimaryAxisID);\n  getSecondaryAxisID = React.useCallback(Utils.normalizeGetter(getSecondaryAxisID), getSecondaryAxisID);\n  getDatums = React.useCallback(Utils.normalizeGetter(getDatums), getDatums);\n  getPrimary = React.useCallback(Utils.normalizeGetter(getPrimary), getPrimary);\n  getSecondary = React.useCallback(Utils.normalizeGetter(getSecondary), getSecondary);\n  getR = React.useCallback(Utils.normalizeGetter(getR), getR);\n  var materializedData = calculateMaterializeData({\n    data: data,\n    getSeriesID: getSeriesID,\n    getLabel: getLabel,\n    getPrimaryAxisID: getPrimaryAxisID,\n    getSecondaryAxisID: getSecondaryAxisID,\n    getDatums: getDatums,\n    getPrimary: getPrimary,\n    getSecondary: getSecondary,\n    getR: getR\n  });\n  var seriesOptions = calculateSeriesOptions({\n    materializedData: materializedData,\n    series: series\n  });\n  materializedData = calculateSeriesTypes({\n    materializedData: materializedData,\n    seriesOptions: seriesOptions\n  });\n\n  var _calculateDimensions = calculateDimensions({\n    width: width,\n    height: height,\n    axisDimensions: axisDimensions,\n    padding: padding,\n    offset: offsetState\n  }),\n      offset = _calculateDimensions.offset,\n      gridX = _calculateDimensions.gridX,\n      gridY = _calculateDimensions.gridY,\n      gridWidth = _calculateDimensions.gridWidth,\n      gridHeight = _calculateDimensions.gridHeight;\n\n  var _calculateAxes = calculateAxes({\n    axes: axes,\n    materializedData: materializedData,\n    gridHeight: gridHeight,\n    gridWidth: gridWidth,\n    axisDimensions: axisDimensions\n  }),\n      primaryAxes = _calculateAxes.primaryAxes,\n      secondaryAxes = _calculateAxes.secondaryAxes,\n      xKey = _calculateAxes.xKey,\n      yKey = _calculateAxes.yKey,\n      xAxes = _calculateAxes.xAxes,\n      yAxes = _calculateAxes.yAxes;\n\n  var stackData = calculateStackData({\n    materializedData: materializedData,\n    primaryAxes: primaryAxes,\n    secondaryAxes: secondaryAxes,\n    yAxes: yAxes,\n    yKey: yKey,\n    xAxes: xAxes,\n    xKey: xKey,\n    grouping: grouping\n  });\n  pointer = React.useMemo(function () {\n    return _objectSpread({}, pointer, {\n      axisValues: [].concat(_toConsumableArray(primaryAxes), _toConsumableArray(secondaryAxes)).map(function (axis) {\n        return {\n          axis: axis,\n          value: axis.scale.invert ? axis.scale.invert(pointer[axis.vertical ? 'y' : 'x']) : null\n        };\n      })\n    });\n  }, [pointer, primaryAxes, secondaryAxes]);\n  focused = React.useMemo(function () {\n    // Get the closest focus datum out of the datum group\n    if (focused || element) {\n      var resolvedFocus = focus;\n\n      if (focus === focusAuto) {\n        if (element) {\n          resolvedFocus = focusElement;\n        } else {\n          resolvedFocus = focusClosest;\n        }\n      }\n\n      if (resolvedFocus === focusElement && element) {\n        return element;\n      } else if (resolvedFocus === focusClosest) {\n        return Utils.getClosestPoint(pointer, focused.group);\n      }\n    }\n\n    return null;\n  }, [element, focus, focused, pointer]); // keep the previous focused value around for animations\n\n  var latestFocused = useLatest(focused, focused); // Calculate Tooltip\n\n  tooltip = calculateTooltip({\n    focused: focused,\n    tooltip: tooltip,\n    pointer: pointer,\n    gridWidth: gridWidth,\n    gridHeight: gridHeight\n  }) // Cursors\n  ;\n\n  var _calculateCursors = calculateCursors({\n    primaryCursor: primaryCursor,\n    secondaryCursor: secondaryCursor,\n    primaryAxes: primaryAxes,\n    secondaryAxes: secondaryAxes,\n    focused: focused,\n    pointer: pointer,\n    gridWidth: gridWidth,\n    gridHeight: gridHeight,\n    stackData: stackData\n  });\n\n  var _calculateCursors2 = _slicedToArray(_calculateCursors, 2);\n\n  primaryCursor = _calculateCursors2[0];\n  secondaryCursor = _calculateCursors2[1];\n  React.useEffect(function () {\n    if (onFocusRef.current) {\n      onFocusRef.current(focused);\n    }\n  }, [onFocusRef, focused]);\n  React.useEffect(function () {\n    if (onHoverRef.current) {\n      onHoverRef.current(pointer);\n    }\n  }, [onHoverRef, pointer]);\n  var previousDragging = usePrevious(pointer.dragging);\n  React.useEffect(function () {\n    if (brush && previousDragging && !pointer.dragging) {\n      if (Math.abs(pointer.sourceX - pointer.x) < 20) {\n        return;\n      }\n\n      brush.onSelect({\n        pointer: pointer.released,\n        start: primaryAxes[0].scale.invert(pointer.sourceX),\n        end: primaryAxes[0].scale.invert(pointer.x)\n      });\n    }\n  }, [brush, pointer, pointer.released, pointer.sourceX, pointer.x, previousDragging, primaryAxes]); // Decorate the chartState with computed values (or ones we just\n  // want to pass down through context)\n\n  var chartState = React.useMemo(function () {\n    return {\n      focused: focused,\n      latestFocused: latestFocused,\n      pointer: pointer,\n      tooltip: tooltip,\n      axisDimensions: axisDimensions,\n      offset: offset,\n      padding: padding,\n      width: width,\n      height: height,\n      brush: brush,\n      grouping: grouping,\n      showVoronoi: showVoronoi,\n      materializedData: materializedData,\n      stackData: stackData,\n      primaryAxes: primaryAxes,\n      secondaryAxes: secondaryAxes,\n      primaryCursor: primaryCursor,\n      secondaryCursor: secondaryCursor,\n      gridX: gridX,\n      gridY: gridY,\n      gridWidth: gridWidth,\n      gridHeight: gridHeight,\n      dark: dark,\n      renderSVG: renderSVG,\n      xKey: xKey,\n      yKey: yKey,\n      xAxes: xAxes,\n      yAxes: yAxes,\n      onClickRef: onClickRef,\n      getSeriesStyle: getSeriesStyle,\n      getDatumStyle: getDatumStyle,\n      seriesOptions: seriesOptions,\n      getSeriesOrder: getSeriesOrder\n    };\n  }, [axisDimensions, brush, dark, focused, getDatumStyle, getSeriesOrder, getSeriesStyle, gridHeight, gridWidth, gridX, gridY, grouping, height, latestFocused, materializedData, offset, onClickRef, padding, pointer, primaryAxes, primaryCursor, renderSVG, secondaryAxes, secondaryCursor, seriesOptions, showVoronoi, stackData, tooltip, width, xAxes, xKey, yAxes, yKey]);\n  var chartStateContextValue = React.useMemo(function () {\n    return [chartState, setChartState];\n  }, [chartState, setChartState]);\n  return React.createElement(ChartContext.Provider, {\n    value: chartStateContextValue\n  }, React.createElement(ChartInner, _extends({\n    ref: responsiveElRef\n  }, rest, {\n    onClick: function onClick(e) {\n      if (onClickRef.current) {\n        onClickRef.current(focused);\n      }\n    }\n  })));\n}\n\nChart.propTypes = {\n  data: PropTypes.any.isRequired,\n  focus: PropTypes.oneOf([focusAuto, focusClosest, focusElement]).isRequired,\n  grouping: PropTypes.oneOf([groupingSingle, groupingSeries, groupingPrimary, groupingSecondary]).isRequired,\n  showVoronoi: PropTypes.bool,\n  dark: PropTypes.bool,\n  series: seriesPropType,\n  axes: PropTypes.arrayOf(axisShape),\n  primaryCursor: cursorShape,\n  secondaryCursor: cursorShape,\n  tooltip: tooltipShape,\n  renderSVG: PropTypes.func,\n  getDatums: PropTypes.func.isRequired,\n  getLabel: PropTypes.func.isRequired,\n  getSeriesID: PropTypes.func.isRequired,\n  getPrimary: PropTypes.func.isRequired,\n  getSecondary: PropTypes.func.isRequired,\n  getR: PropTypes.func.isRequired,\n  getPrimaryAxisID: PropTypes.func.isRequired,\n  getSecondaryAxisID: PropTypes.func.isRequired,\n  getSeriesOrder: PropTypes.func.isRequired,\n  getSeriesStyle: PropTypes.func,\n  getDatumStyle: PropTypes.func,\n  onClick: PropTypes.func,\n  onFocus: PropTypes.func,\n  onHover: PropTypes.func\n};\nChart.defaultProps = defaultProps;\nexports.Chart = Chart;\nexports.alignAuto = alignAuto;\nexports.alignBottom = alignBottom;\nexports.alignBottomLeft = alignBottomLeft;\nexports.alignBottomRight = alignBottomRight;\nexports.alignLeft = alignLeft;\nexports.alignRight = alignRight;\nexports.alignTop = alignTop;\nexports.alignTopLeft = alignTopLeft;\nexports.alignTopRight = alignTopRight;\nexports.anchorBottom = anchorBottom;\nexports.anchorCenter = anchorCenter;\nexports.anchorClosest = anchorClosest;\nexports.anchorGridBottom = anchorGridBottom;\nexports.anchorGridLeft = anchorGridLeft;\nexports.anchorGridRight = anchorGridRight;\nexports.anchorGridTop = anchorGridTop;\nexports.anchorLeft = anchorLeft;\nexports.anchorPointer = anchorPointer;\nexports.anchorRight = anchorRight;\nexports.anchorTop = anchorTop;\nexports.axisTypeLinear = axisTypeLinear;\nexports.axisTypeLog = axisTypeLog;\nexports.axisTypeOrdinal = axisTypeOrdinal;\nexports.axisTypeTime = axisTypeTime;\nexports.axisTypeUtc = axisTypeUtc;\nexports.curveBasis = basis;\nexports.curveBasisClosed = basisClosed;\nexports.curveBasisOpen = basisOpen;\nexports.curveBundle = bundle;\nexports.curveCardinal = cardinal;\nexports.curveCardinalClosed = cardinalClosed;\nexports.curveCardinalOpen = cardinalOpen;\nexports.curveCatmullRom = catmullRom;\nexports.curveCatmullRomClosed = catmullRomClosed;\nexports.curveCatmullRomOpen = catmullRomOpen;\nexports.curveLinear = curveLinear;\nexports.curveLinearClosed = linearClosed;\nexports.curveMonotoneX = monotoneX;\nexports.curveMonotoneY = monotoneY;\nexports.curveNatural = natural;\nexports.curveStep = step;\nexports.curveStepAfter = stepAfter;\nexports.curveStepBefore = stepBefore;\nexports.focusAuto = focusAuto;\nexports.focusClosest = focusClosest;\nexports.focusElement = focusElement;\nexports.groupingPrimary = groupingPrimary;\nexports.groupingSecondary = groupingSecondary;\nexports.groupingSeries = groupingSeries;\nexports.groupingSingle = groupingSingle;\nexports.positionBottom = positionBottom;\nexports.positionLeft = positionLeft;\nexports.positionRight = positionRight;\nexports.positionTop = positionTop;","// shim for using process in browser\nvar process = module.exports = {}; // cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n  throw new Error('setTimeout has not been defined');\n}\n\nfunction defaultClearTimeout() {\n  throw new Error('clearTimeout has not been defined');\n}\n\n(function () {\n  try {\n    if (typeof setTimeout === 'function') {\n      cachedSetTimeout = setTimeout;\n    } else {\n      cachedSetTimeout = defaultSetTimout;\n    }\n  } catch (e) {\n    cachedSetTimeout = defaultSetTimout;\n  }\n\n  try {\n    if (typeof clearTimeout === 'function') {\n      cachedClearTimeout = clearTimeout;\n    } else {\n      cachedClearTimeout = defaultClearTimeout;\n    }\n  } catch (e) {\n    cachedClearTimeout = defaultClearTimeout;\n  }\n})();\n\nfunction runTimeout(fun) {\n  if (cachedSetTimeout === setTimeout) {\n    //normal enviroments in sane situations\n    return setTimeout(fun, 0);\n  } // if setTimeout wasn't available but was latter defined\n\n\n  if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n    cachedSetTimeout = setTimeout;\n    return setTimeout(fun, 0);\n  }\n\n  try {\n    // when when somebody has screwed with setTimeout but no I.E. maddness\n    return cachedSetTimeout(fun, 0);\n  } catch (e) {\n    try {\n      // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n      return cachedSetTimeout.call(null, fun, 0);\n    } catch (e) {\n      // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n      return cachedSetTimeout.call(this, fun, 0);\n    }\n  }\n}\n\nfunction runClearTimeout(marker) {\n  if (cachedClearTimeout === clearTimeout) {\n    //normal enviroments in sane situations\n    return clearTimeout(marker);\n  } // if clearTimeout wasn't available but was latter defined\n\n\n  if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n    cachedClearTimeout = clearTimeout;\n    return clearTimeout(marker);\n  }\n\n  try {\n    // when when somebody has screwed with setTimeout but no I.E. maddness\n    return cachedClearTimeout(marker);\n  } catch (e) {\n    try {\n      // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n      return cachedClearTimeout.call(null, marker);\n    } catch (e) {\n      // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n      // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n      return cachedClearTimeout.call(this, marker);\n    }\n  }\n}\n\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n  if (!draining || !currentQueue) {\n    return;\n  }\n\n  draining = false;\n\n  if (currentQueue.length) {\n    queue = currentQueue.concat(queue);\n  } else {\n    queueIndex = -1;\n  }\n\n  if (queue.length) {\n    drainQueue();\n  }\n}\n\nfunction drainQueue() {\n  if (draining) {\n    return;\n  }\n\n  var timeout = runTimeout(cleanUpNextTick);\n  draining = true;\n  var len = queue.length;\n\n  while (len) {\n    currentQueue = queue;\n    queue = [];\n\n    while (++queueIndex < len) {\n      if (currentQueue) {\n        currentQueue[queueIndex].run();\n      }\n    }\n\n    queueIndex = -1;\n    len = queue.length;\n  }\n\n  currentQueue = null;\n  draining = false;\n  runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n  var args = new Array(arguments.length - 1);\n\n  if (arguments.length > 1) {\n    for (var i = 1; i < arguments.length; i++) {\n      args[i - 1] = arguments[i];\n    }\n  }\n\n  queue.push(new Item(fun, args));\n\n  if (queue.length === 1 && !draining) {\n    runTimeout(drainQueue);\n  }\n}; // v8 likes predictible objects\n\n\nfunction Item(fun, array) {\n  this.fun = fun;\n  this.array = array;\n}\n\nItem.prototype.run = function () {\n  this.fun.apply(null, this.array);\n};\n\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\n\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) {\n  return [];\n};\n\nprocess.binding = function (name) {\n  throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () {\n  return '/';\n};\n\nprocess.chdir = function (dir) {\n  throw new Error('process.chdir is not supported');\n};\n\nprocess.umask = function () {\n  return 0;\n};","// https://github.com/tc39/proposal-object-values-entries\nvar $export = require('./_export');\nvar $values = require('./_object-to-array')(false);\n\n$export($export.S, 'Object', {\n  values: function values(it) {\n    return $values(it);\n  }\n});\n","// 20.3.4.36 / 15.9.5.43 Date.prototype.toISOString()\nvar $export = require('./_export');\nvar toISOString = require('./_date-to-iso-string');\n\n// PhantomJS / old WebKit has a broken implementations\n$export($export.P + $export.F * (Date.prototype.toISOString !== toISOString), 'Date', {\n  toISOString: toISOString\n});\n","'use strict';\n// 20.3.4.36 / 15.9.5.43 Date.prototype.toISOString()\nvar fails = require('./_fails');\nvar getTime = Date.prototype.getTime;\nvar $toISOString = Date.prototype.toISOString;\n\nvar lz = function (num) {\n  return num > 9 ? num : '0' + num;\n};\n\n// PhantomJS / old WebKit has a broken implementations\nmodule.exports = (fails(function () {\n  return $toISOString.call(new Date(-5e13 - 1)) != '0385-07-25T07:06:39.999Z';\n}) || !fails(function () {\n  $toISOString.call(new Date(NaN));\n})) ? function toISOString() {\n  if (!isFinite(getTime.call(this))) throw RangeError('Invalid time value');\n  var d = this;\n  var y = d.getUTCFullYear();\n  var m = d.getUTCMilliseconds();\n  var s = y < 0 ? '-' : y > 9999 ? '+' : '';\n  return s + ('00000' + Math.abs(y)).slice(s ? -6 : -4) +\n    '-' + lz(d.getUTCMonth() + 1) + '-' + lz(d.getUTCDate()) +\n    'T' + lz(d.getUTCHours()) + ':' + lz(d.getUTCMinutes()) +\n    ':' + lz(d.getUTCSeconds()) + '.' + (m > 99 ? m : '0' + lz(m)) + 'Z';\n} : $toISOString;\n","// 20.2.2.22 Math.log2(x)\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  log2: function log2(x) {\n    return Math.log(x) / Math.LN2;\n  }\n});\n","// 20.2.2.21 Math.log10(x)\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  log10: function log10(x) {\n    return Math.log(x) * Math.LOG10E;\n  }\n});\n","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nmodule.exports = _nonIterableRest;","// 20.1.2.4 Number.isNaN(number)\nvar $export = require('./_export');\n\n$export($export.S, 'Number', {\n  isNaN: function isNaN(number) {\n    // eslint-disable-next-line no-self-compare\n    return number != number;\n  }\n});\n","'use strict';\n// B.2.3.2 String.prototype.anchor(name)\nrequire('./_string-html')('anchor', function (createHTML) {\n  return function anchor(name) {\n    return createHTML(this, 'a', 'name', name);\n  };\n});\n"],"sourceRoot":""}